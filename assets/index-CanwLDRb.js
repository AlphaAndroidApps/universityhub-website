(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var ym={exports:{}},zl={};var Yv;function Uw(){if(Yv)return zl;Yv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var $v;function zw(){return $v||($v=1,ym.exports=Uw()),ym.exports}var M=zw(),_m={exports:{}},Ee={};var Xv;function jw(){if(Xv)return Ee;Xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function P(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,G={};function ne(O,W,ae){this.props=O,this.context=W,this.refs=G,this.updater=ae||Y}ne.prototype.isReactComponent={},ne.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},ne.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=ne.prototype;function re(O,W,ae){this.props=O,this.context=W,this.refs=G,this.updater=ae||Y}var Ie=re.prototype=new te;Ie.constructor=re,$(Ie,ne.prototype),Ie.isPureReactComponent=!0;var Ce=Array.isArray;function Re(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,W,ae){var ue=ae.ref;return{$$typeof:r,type:O,key:W,ref:ue!==void 0?ue:null,props:ae}}function V(O,W){return R(O.type,W,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return W[ae]})}var I=/\/+/g;function rt(O,W){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):W.toString(36)}function xt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Re,Re):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,W,ae,ue,_e){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var Pe=!1;if(O===null)Pe=!0;else switch(Se){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(O.$$typeof){case r:case e:Pe=!0;break;case E:return Pe=O._init,Q(Pe(O._payload),W,ae,ue,_e)}}if(Pe)return _e=_e(O),Pe=ue===""?"."+rt(O,0):ue,Ce(_e)?(ae="",Pe!=null&&(ae=Pe.replace(I,"$&/")+"/"),Q(_e,W,ae,"",function(_s){return _s})):_e!=null&&(x(_e)&&(_e=V(_e,ae+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+Pe)),W.push(_e)),1;Pe=0;var Ot=ue===""?".":ue+":";if(Ce(O))for(var st=0;st<O.length;st++)ue=O[st],Se=Ot+rt(ue,st),Pe+=Q(ue,W,ae,Se,_e);else if(st=P(O),typeof st=="function")for(O=st.call(O),st=0;!(ue=O.next()).done;)ue=ue.value,Se=Ot+rt(ue,st++),Pe+=Q(ue,W,ae,Se,_e);else if(Se==="object"){if(typeof O.then=="function")return Q(xt(O),W,ae,ue,_e);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(O,W,ae){if(O==null)return O;var ue=[],_e=0;return Q(O,ue,"","",function(Se){return W.call(ae,Se,_e++)}),ue}function me(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var ze=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ge={map:se,forEach:function(O,W,ae){se(O,function(){W.apply(this,arguments)},ae)},count:function(O){var W=0;return se(O,function(){W++}),W},toArray:function(O){return se(O,function(W){return W})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ee.Activity=T,Ee.Children=Ge,Ee.Component=ne,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=re,Ee.StrictMode=s,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Ee.cache=function(O){return function(){return O.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(O,W,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=$({},O.props),_e=O.key;if(W!=null)for(Se in W.key!==void 0&&(_e=""+W.key),W)!w.call(W,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&W.ref===void 0||(ue[Se]=W[Se]);var Se=arguments.length-2;if(Se===1)ue.children=ae;else if(1<Se){for(var Pe=Array(Se),Ot=0;Ot<Se;Ot++)Pe[Ot]=arguments[Ot+2];ue.children=Pe}return R(O.type,_e,ue)},Ee.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ee.createElement=function(O,W,ae){var ue,_e={},Se=null;if(W!=null)for(ue in W.key!==void 0&&(Se=""+W.key),W)w.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=W[ue]);var Pe=arguments.length-2;if(Pe===1)_e.children=ae;else if(1<Pe){for(var Ot=Array(Pe),st=0;st<Pe;st++)Ot[st]=arguments[st+2];_e.children=Ot}if(O&&O.defaultProps)for(ue in Pe=O.defaultProps,Pe)_e[ue]===void 0&&(_e[ue]=Pe[ue]);return R(O,Se,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(O){return{$$typeof:m,render:O}},Ee.isValidElement=x,Ee.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:me}},Ee.memo=function(O,W){return{$$typeof:p,type:O,compare:W===void 0?null:W}},Ee.startTransition=function(O){var W=N.T,ae={};N.T=ae;try{var ue=O(),_e=N.S;_e!==null&&_e(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Re,ze)}catch(Se){ze(Se)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),N.T=W}},Ee.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ee.use=function(O){return N.H.use(O)},Ee.useActionState=function(O,W,ae){return N.H.useActionState(O,W,ae)},Ee.useCallback=function(O,W){return N.H.useCallback(O,W)},Ee.useContext=function(O){return N.H.useContext(O)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(O,W){return N.H.useDeferredValue(O,W)},Ee.useEffect=function(O,W){return N.H.useEffect(O,W)},Ee.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Ee.useId=function(){return N.H.useId()},Ee.useImperativeHandle=function(O,W,ae){return N.H.useImperativeHandle(O,W,ae)},Ee.useInsertionEffect=function(O,W){return N.H.useInsertionEffect(O,W)},Ee.useLayoutEffect=function(O,W){return N.H.useLayoutEffect(O,W)},Ee.useMemo=function(O,W){return N.H.useMemo(O,W)},Ee.useOptimistic=function(O,W){return N.H.useOptimistic(O,W)},Ee.useReducer=function(O,W,ae){return N.H.useReducer(O,W,ae)},Ee.useRef=function(O){return N.H.useRef(O)},Ee.useState=function(O){return N.H.useState(O)},Ee.useSyncExternalStore=function(O,W,ae){return N.H.useSyncExternalStore(O,W,ae)},Ee.useTransition=function(){return N.H.useTransition()},Ee.version="19.2.3",Ee}var Jv;function pp(){return Jv||(Jv=1,_m.exports=jw()),_m.exports}var q=pp(),vm={exports:{}},jl={},Em={exports:{}},Tm={};var Zv;function Bw(){return Zv||(Zv=1,(function(r){function e(Q,se){var me=Q.length;Q.push(se);e:for(;0<me;){var ze=me-1>>>1,Ge=Q[ze];if(0<o(Ge,se))Q[ze]=se,Q[me]=Ge,me=ze;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],me=Q.pop();if(me!==se){Q[0]=me;e:for(var ze=0,Ge=Q.length,O=Ge>>>1;ze<O;){var W=2*(ze+1)-1,ae=Q[W],ue=W+1,_e=Q[ue];if(0>o(ae,me))ue<Ge&&0>o(_e,ae)?(Q[ze]=_e,Q[ue]=me,ze=ue):(Q[ze]=ae,Q[W]=me,ze=W);else if(ue<Ge&&0>o(_e,me))Q[ze]=_e,Q[ue]=me,ze=ue;else break e}}return se}function o(Q,se){var me=Q.sortIndex-se.sortIndex;return me!==0?me:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,T=null,S=3,P=!1,Y=!1,$=!1,G=!1,ne=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Ie(Q){for(var se=n(p);se!==null;){if(se.callback===null)s(p);else if(se.startTime<=Q)s(p),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(p)}}function Ce(Q){if($=!1,Ie(Q),!Y)if(n(g)!==null)Y=!0,Re||(Re=!0,L());else{var se=n(p);se!==null&&xt(Ce,se.startTime-Q)}}var Re=!1,N=-1,w=5,R=-1;function V(){return G?!0:!(r.unstable_now()-R<w)}function x(){if(G=!1,Re){var Q=r.unstable_now();R=Q;var se=!0;try{e:{Y=!1,$&&($=!1,te(N),N=-1),P=!0;var me=S;try{t:{for(Ie(Q),T=n(g);T!==null&&!(T.expirationTime>Q&&V());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,S=T.priorityLevel;var Ge=ze(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,Ie(Q),se=!0;break t}T===n(g)&&s(g),Ie(Q)}else s(g);T=n(g)}if(T!==null)se=!0;else{var O=n(p);O!==null&&xt(Ce,O.startTime-Q),se=!1}}break e}finally{T=null,S=me,P=!1}se=void 0}}finally{se?L():Re=!1}}}var L;if(typeof re=="function")L=function(){re(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=x,L=function(){rt.postMessage(null)}}else L=function(){ne(x,0)};function xt(Q,se){N=ne(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var me=S;S=se;try{return Q()}finally{S=me}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=S;S=Q;try{return se()}finally{S=me}},r.unstable_scheduleCallback=function(Q,se,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,Q){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,Q={id:E++,callback:se,priorityLevel:Q,startTime:me,expirationTime:Ge,sortIndex:-1},me>ze?(Q.sortIndex=me,e(p,Q),n(g)===null&&Q===n(p)&&($?(te(N),N=-1):$=!0,xt(Ce,me-ze))):(Q.sortIndex=Ge,e(g,Q),Y||P||(Y=!0,Re||(Re=!0,L()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var se=S;return function(){var me=S;S=se;try{return Q.apply(this,arguments)}finally{S=me}}}})(Tm)),Tm}var Wv;function qw(){return Wv||(Wv=1,Em.exports=Bw()),Em.exports}var bm={exports:{}},$t={};var eE;function Hw(){if(eE)return $t;eE=1;var r=pp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},$t.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},$t.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},$t.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$t.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:P}):E==="script"&&s.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$t.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},$t.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$t.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},$t.requestFormReset=function(g){s.d.r(g)},$t.unstable_batchedUpdates=function(g,p){return g(p)},$t.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var tE;function Fw(){if(tE)return bm.exports;tE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=Hw(),bm.exports}var nE;function Gw(){if(nE)return jl;nE=1;var r=qw(),e=pp(),n=Fw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ne:return"Profiler";case G:return"StrictMode";case Ce:return"Suspense";case Re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case re:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case Ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var xt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function O(t){return{current:t}}function W(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ae(t,i){Ge++,ze[Ge]=t.current,t.current=i}var ue=O(null),_e=O(null),Se=O(null),Pe=O(null);function Ot(t,i){switch(ae(Se,i),ae(_e,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?yv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=yv(i),t=_v(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ue),ae(ue,t)}function st(){W(ue),W(_e),W(Se)}function _s(t){t.memoizedState!==null&&ae(Pe,t);var i=ue.current,a=_v(i,t.type);i!==a&&(ae(_e,t),ae(ue,a))}function ma(t){_e.current===t&&(W(ue),W(_e)),Pe.current===t&&(W(Pe),kl._currentValue=me)}var pa,ga;function ci(t){if(pa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);pa=i&&i[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+t+ga}var ko=!1;function vs(t,i){if(!t||ko)return"";ko=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var B=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){B=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){B=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var C=_.split(`
`),j=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{ko=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function Lo(t,i){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return t.child!==i&&i!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return vs(t.type,!1);case 11:return vs(t.type.render,!1);case 1:return vs(t.type,!0);case 31:return ci("Activity");default:return""}}function Po(t){try{var i="",a=null;do i+=Lo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,_r=r.unstable_cancelCallback,vf=r.unstable_shouldYield,wu=r.unstable_requestPaint,en=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Uo=r.unstable_ImmediatePriority,zo=r.unstable_UserBlockingPriority,vr=r.unstable_NormalPriority,Ef=r.unstable_LowPriority,Ru=r.unstable_IdlePriority,Iu=r.log,Cu=r.unstable_setDisableYieldValue,Hn=null,jt=null;function Rn(t){if(typeof Iu=="function"&&Cu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Hn,t)}catch{}}var ft=Math.clz32?Math.clz32:Du,Nu=Math.log,ya=Math.LN2;function Du(t){return t>>>=0,t===0?32:31-(Nu(t)/ya|0)|0}var hi=256,Ts=262144,Et=4194304;function fi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=fi(l):(_&=b,_!==0?h=fi(_):a||(a=b&~t,a!==0&&(h=fi(a))))):(b=l&~d,b!==0?h=fi(b):_!==0?h=fi(_):a||(a=l&~t,a!==0&&(h=fi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Tf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function bs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-ft(a),Z=1<<K;b[K]=0,C[K]=-1;var B=j[K];if(B!==null)for(j[K]=null,K=0;K<B.length;K++){var F=B[K];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&As(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function As(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Bo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ss(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ou(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Bv(t.type))}function Gn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Kn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Kn,Lt="__reactProps$"+Kn,pi="__reactContainer$"+Kn,_a="__reactEvents$"+Kn,Af="__reactListeners$"+Kn,Mu="__reactHandles$"+Kn,Vu="__reactResources$"+Kn,gi="__reactMarker$"+Kn;function va(t){delete t[Tt],delete t[Lt],delete t[_a],delete t[Af],delete t[Mu]}function yi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=wv(t);t!==null;){if(a=t[Tt])return a;t=wv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[Tt]||t[pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function _i(t){var i=t[Vu];return i||(i=t[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[gi]=!0}var qo=new Set,Ho={};function vi(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Ho[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var Fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Ko={};function ku(t){return vt.call(Ko,t)?!0:vt.call(Go,t)?!1:Fo.test(t)?Ko[t]=!0:(Go[t]=!0,!1)}function Ea(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Er(t)?"checked":"value";t._valueTracker=Qo(t,i,""+t[i])}}function ws(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Er(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function an(t){return t.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(t,i,a,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Yo(t,_,Pt(i)):a!=null?Yo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Pt(b):t.removeAttribute("name")}function Lu(t,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Yo(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Pu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function br(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(xt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Uu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Xo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&$o(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&$o(t,d,i[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var Jo=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,bi=null;function Is(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));Ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ws(l)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Tr(t,!!a.multiple,i,!1)}}}var Sa=!1;function wr(t,i,a){if(Sa)return t(i,a);Sa=!0;try{var l=t(i);return l}finally{if(Sa=!1,(Sr!==null||bi!==null)&&(Oc(),Sr&&(i=Sr,t=bi,bi=Sr=null,Is(i),t)))for(i=0;i<t.length;i++)Is(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(Nn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Cs=!1}var Ai=null,Zo=null,Ns=null;function Wo(){if(Ns)return Ns;var t,i=Zo,a=i.length,l,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ns=h.slice(t,1<l?1-l:void 0)}function Ds(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function $n(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qi:$n,this.isPropagationStopped=$n,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Bt(Hi),Rr=T({},Hi,{view:0,detail:0}),el=Bt(Rr),Ir,wa,wi,Ra=T({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Ir=t.screenX-wi.screenX,wa=t.screenY-wi.screenY):wa=Ir=0,wi=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),tl=Bt(Ra),xs=T({},Ra,{dataTransfer:0}),ju=Bt(xs),Bu=T({},Rr,{relatedTarget:0}),Os=Bt(Bu),nl=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=Bt(nl),Ia=T({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hu=Bt(Ia),Fu=T({},Hi,{data:0}),Ri=Bt(Fu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Qu[t])?!!i[t]:!1}function Cr(){return Yu}var tn=T({},Rr,{key:function(t){if(t.key){var i=Gu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=Bt(tn),Xu=T({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Bt(Xu),c=T({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),y=Bt(c),v=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),U=T({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Bt(U),ie=T({},Hi,{newState:0,oldState:0}),be=Bt(ie),dt=[9,13,27,32],qe=Nn&&"CompositionEvent"in window,at=null;Nn&&"documentMode"in document&&(at=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!at,Ii=Nn&&(!qe||at&&8<at&&11>=at),Xn=" ",Jn=!1;function Ms(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function lS(t,i){switch(t){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(Jn=!0,Xn);case"textInput":return t=i.data,t===Xn&&Jn?null:t;default:return null}}function uS(t,i){if(Na)return t==="compositionend"||!qe&&Ms(t,i)?(t=Wo(),Ns=Zo=Ai=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ii&&i.locale!=="ko"?null:i.data;default:return null}}var cS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!cS[t.type]:i==="textarea"}function Ng(t,i,a,l){Sr?bi?bi.push(l):bi=[l]:Sr=l,i=zc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var il=null,rl=null;function hS(t){hv(t,0)}function Ju(t){var i=pn(t);if(ws(i))return t}function Dg(t,i){if(t==="change")return i}var xg=!1;if(Nn){var Sf;if(Nn){var wf="oninput"in document;if(!wf){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),wf=typeof Og.oninput=="function"}Sf=wf}else Sf=!1;xg=Sf&&(!document.documentMode||9<document.documentMode)}function Mg(){il&&(il.detachEvent("onpropertychange",Vg),rl=il=null)}function Vg(t){if(t.propertyName==="value"&&Ju(rl)){var i=[];Ng(i,rl,t,Cn(t)),wr(hS,i)}}function fS(t,i,a){t==="focusin"?(Mg(),il=i,rl=a,il.attachEvent("onpropertychange",Vg)):t==="focusout"&&Mg()}function dS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(rl)}function mS(t,i){if(t==="click")return Ju(i)}function pS(t,i){if(t==="input"||t==="change")return Ju(i)}function gS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:gS;function sl(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lg(t,i){var a=kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function Rf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yS=Nn&&"documentMode"in document&&11>=document.documentMode,Da=null,If=null,al=null,Cf=!1;function zg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cf||Da==null||Da!==Ti(l)||(l=Da,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=zc(If,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Da)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var xa={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Nf={},jg={};Nn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function ks(t){if(Nf[t])return Nf[t];if(!xa[t])return t;var i=xa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in jg)return Nf[t]=i[a];return t}var Bg=ks("animationend"),qg=ks("animationiteration"),Hg=ks("animationstart"),_S=ks("transitionrun"),vS=ks("transitionstart"),ES=ks("transitioncancel"),Fg=ks("transitionend"),Gg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function Zn(t,i){Gg.set(t,i),vi(i,[t])}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Oa=0,xf=0;function Wu(){for(var t=Oa,i=xf=Oa=0;i<t;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Kg(a,h,d)}}function ec(t,i,a,l){xn[Oa++]=t,xn[Oa++]=i,xn[Oa++]=a,xn[Oa++]=l,xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,i,a,l){return ec(t,i,a,l),tc(t)}function Ls(t,i){return ec(t,null,null,i),tc(t)}function Kg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function tc(t){if(50<Cl)throw Cl=0,Bd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={};function TS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new TS(t,i,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function nc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Mf(t)&&(_=1);else if(typeof t=="string")_=Rw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=_n(31,a,i,h),t.elementType=R,t.lanes=d,t;case $:return Ps(a.children,h,d,i);case G:_=8,h|=24;break;case ne:return t=_n(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case Ce:return t=_n(13,a,i,h),t.elementType=Ce,t.lanes=d,t;case Re:return t=_n(19,a,i,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case te:_=9;break e;case Ie:_=11;break e;case N:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ps(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function Vf(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function Yg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function kf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $g=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=$g.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Po(i)},$g.set(t,i),i)}return{value:t,source:i,stack:Po(i)}}var Va=[],ka=0,ic=null,ol=0,Mn=[],Vn=0,Nr=null,Ci=1,Ni="";function Ki(t,i){Va[ka++]=ol,Va[ka++]=ic,ic=t,ol=i}function Xg(t,i,a){Mn[Vn++]=Ci,Mn[Vn++]=Ni,Mn[Vn++]=Nr,Nr=t;var l=Ci;t=Ni;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ci=1<<32-ft(i)+h|a<<h|l,Ni=d+t}else Ci=1<<d|a<<h|l,Ni=t}function Lf(t){t.return!==null&&(Ki(t,1),Xg(t,1,0))}function Pf(t){for(;t===ic;)ic=Va[--ka],Va[ka]=null,ol=Va[--ka],Va[ka]=null;for(;t===Nr;)Nr=Mn[--Vn],Mn[Vn]=null,Ni=Mn[--Vn],Mn[Vn]=null,Ci=Mn[--Vn],Mn[Vn]=null}function Jg(t,i){Mn[Vn++]=Ci,Mn[Vn++]=Ni,Mn[Vn++]=Nr,Ci=i.id,Ni=i.overflow,Nr=t}var qt=null,tt=null,Le=!1,Dr=null,kn=!1,Uf=Error(s(519));function xr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(On(i,t)),Uf}function Zg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Lt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)De(Dl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Lu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),br(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||pv(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||xr(t,!0)}function Wg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qt=qt.return}}function La(t){if(t!==qt)return!1;if(!Le)return Wg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nm(t.type,t.memoizedProps)),a=!a),a&&tt&&xr(t),Wg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Sv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Sv(t)}else i===27?(i=tt,Gr(t.type)?(t=om,om=null,tt=t):tt=i):tt=qt?Pn(t.stateNode.nextSibling):null;return!0}function Us(){tt=qt=null,Le=!1}function zf(){var t=Dr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Dr=null),t}function ll(t){Dr===null?Dr=[t]:Dr.push(t)}var jf=O(null),zs=null,Qi=null;function Or(t,i,a){ae(jf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=jf.current,W(jf)}function Bf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function qf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<i.length;C++)if(b.context===i[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Bf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Bf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Pa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&qf(i,t,a,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){zs=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return ey(zs,t)}function sc(t,i){return zs===null&&js(t),ey(t,i)}function ey(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var bS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},AS=r.unstable_scheduleCallback,SS=r.unstable_NormalPriority,St={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new bS,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&AS(SS,function(){t.controller.abort()})}var cl=null,Ff=0,Ua=0,za=null;function wS(t,i){if(cl===null){var a=cl=[];Ff=0,Ua=Qd(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ff++,i.then(ty,ty),i}function ty(){if(--Ff===0&&cl!==null){za!==null&&(za.status="fulfilled");var t=cl;cl=null,Ua=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function RS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ny=Q.S;Q.S=function(t,i){z_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&wS(t,i),ny!==null&&ny(t,i)};var Bs=O(null);function Gf(){var t=Bs.current;return t!==null?t:We.pooledCache}function ac(t,i){i===null?ae(Bs,Bs.current):ae(Bs,i.pool)}function iy(){var t=Gf();return t===null?null:{parent:St._currentValue,pool:t}}var ja=Error(s(460)),Kf=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function ry(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,oy(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,oy(t),t}throw Hs=i,ja}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,ja):a}}var Hs=null;function ay(){if(Hs===null)throw Error(s(459));var t=Hs;return Hs=null,t}function oy(t){if(t===ja||t===oc)throw Error(s(483))}var Ba=null,hl=0;function uc(t){var i=hl;return hl+=1,Ba===null&&(Ba=[]),sy(Ba,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function cc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ly(t){function i(k,D){if(t){var z=k.deletions;z===null?(k.deletions=[D],k.flags|=16):z.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Gi(k,D),k.index=0,k.sibling=null,k}function d(k,D,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<D?(k.flags|=67108866,D):z):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,D,z,X){return D===null||D.tag!==6?(D=Vf(z,k.mode,X),D.return=k,D):(D=h(D,z),D.return=k,D)}function C(k,D,z,X){var fe=z.type;return fe===$?K(k,D,z.props.children,X,z.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&qs(fe)===D.type)?(D=h(D,z.props),fl(D,z),D.return=k,D):(D=nc(z.type,z.key,z.props,null,k.mode,X),fl(D,z),D.return=k,D)}function j(k,D,z,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=kf(z,k.mode,X),D.return=k,D):(D=h(D,z.children||[]),D.return=k,D)}function K(k,D,z,X,fe){return D===null||D.tag!==7?(D=Ps(z,k.mode,X,fe),D.return=k,D):(D=h(D,z),D.return=k,D)}function Z(k,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Vf(""+D,k.mode,z),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case P:return z=nc(D.type,D.key,D.props,null,k.mode,z),fl(z,D),z.return=k,z;case Y:return D=kf(D,k.mode,z),D.return=k,D;case w:return D=qs(D),Z(k,D,z)}if(xt(D)||L(D))return D=Ps(D,k.mode,z,null),D.return=k,D;if(typeof D.then=="function")return Z(k,uc(D),z);if(D.$$typeof===re)return Z(k,sc(k,D),z);cc(k,D)}return null}function B(k,D,z,X){var fe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:b(k,D,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===fe?C(k,D,z,X):null;case Y:return z.key===fe?j(k,D,z,X):null;case w:return z=qs(z),B(k,D,z,X)}if(xt(z)||L(z))return fe!==null?null:K(k,D,z,X,null);if(typeof z.then=="function")return B(k,D,uc(z),X);if(z.$$typeof===re)return B(k,D,sc(k,z),X);cc(k,z)}return null}function F(k,D,z,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(z)||null,b(D,k,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return k=k.get(X.key===null?z:X.key)||null,C(D,k,X,fe);case Y:return k=k.get(X.key===null?z:X.key)||null,j(D,k,X,fe);case w:return X=qs(X),F(k,D,z,X,fe)}if(xt(X)||L(X))return k=k.get(z)||null,K(D,k,X,fe,null);if(typeof X.then=="function")return F(k,D,z,uc(X),fe);if(X.$$typeof===re)return F(k,D,z,sc(D,X),fe);cc(D,X)}return null}function ce(k,D,z,X){for(var fe=null,je=null,he=D,we=D=0,Oe=null;he!==null&&we<z.length;we++){he.index>we?(Oe=he,he=null):Oe=he.sibling;var Be=B(k,he,z[we],X);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(k,he),D=d(Be,D,we),je===null?fe=Be:je.sibling=Be,je=Be,he=Oe}if(we===z.length)return a(k,he),Le&&Ki(k,we),fe;if(he===null){for(;we<z.length;we++)he=Z(k,z[we],X),he!==null&&(D=d(he,D,we),je===null?fe=he:je.sibling=he,je=he);return Le&&Ki(k,we),fe}for(he=l(he);we<z.length;we++)Oe=F(he,k,we,z[we],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?we:Oe.key),D=d(Oe,D,we),je===null?fe=Oe:je.sibling=Oe,je=Oe);return t&&he.forEach(function(Xr){return i(k,Xr)}),Le&&Ki(k,we),fe}function pe(k,D,z,X){if(z==null)throw Error(s(151));for(var fe=null,je=null,he=D,we=D=0,Oe=null,Be=z.next();he!==null&&!Be.done;we++,Be=z.next()){he.index>we?(Oe=he,he=null):Oe=he.sibling;var Xr=B(k,he,Be.value,X);if(Xr===null){he===null&&(he=Oe);break}t&&he&&Xr.alternate===null&&i(k,he),D=d(Xr,D,we),je===null?fe=Xr:je.sibling=Xr,je=Xr,he=Oe}if(Be.done)return a(k,he),Le&&Ki(k,we),fe;if(he===null){for(;!Be.done;we++,Be=z.next())Be=Z(k,Be.value,X),Be!==null&&(D=d(Be,D,we),je===null?fe=Be:je.sibling=Be,je=Be);return Le&&Ki(k,we),fe}for(he=l(he);!Be.done;we++,Be=z.next())Be=F(he,k,we,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?we:Be.key),D=d(Be,D,we),je===null?fe=Be:je.sibling=Be,je=Be);return t&&he.forEach(function(Pw){return i(k,Pw)}),Le&&Ki(k,we),fe}function Ze(k,D,z,X){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var fe=z.key;D!==null;){if(D.key===fe){if(fe=z.type,fe===$){if(D.tag===7){a(k,D.sibling),X=h(D,z.props.children),X.return=k,k=X;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&qs(fe)===D.type){a(k,D.sibling),X=h(D,z.props),fl(X,z),X.return=k,k=X;break e}a(k,D);break}else i(k,D);D=D.sibling}z.type===$?(X=Ps(z.props.children,k.mode,X,z.key),X.return=k,k=X):(X=nc(z.type,z.key,z.props,null,k.mode,X),fl(X,z),X.return=k,k=X)}return _(k);case Y:e:{for(fe=z.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(k,D.sibling),X=h(D,z.children||[]),X.return=k,k=X;break e}else{a(k,D);break}else i(k,D);D=D.sibling}X=kf(z,k.mode,X),X.return=k,k=X}return _(k);case w:return z=qs(z),Ze(k,D,z,X)}if(xt(z))return ce(k,D,z,X);if(L(z)){if(fe=L(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),pe(k,D,z,X)}if(typeof z.then=="function")return Ze(k,D,uc(z),X);if(z.$$typeof===re)return Ze(k,D,sc(k,z),X);cc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(k,D.sibling),X=h(D,z),X.return=k,k=X):(a(k,D),X=Vf(z,k.mode,X),X.return=k,k=X),_(k)):a(k,D)}return function(k,D,z,X){try{hl=0;var fe=Ze(k,D,z,X);return Ba=null,fe}catch(he){if(he===ja||he===oc)throw he;var je=_n(29,he,null,k.mode);return je.lanes=X,je.return=k,je}}}var Fs=ly(!0),uy=ly(!1),Mr=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=tc(t),Kg(t,null,a),i}return ec(t,l,i,a),tc(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}function $f(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Xf=!1;function ml(){if(Xf){var t=za;if(t!==null)throw t}}function pl(t,i,a,l){Xf=!1;var h=t.updateQueue;Mr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,j=C.next;C.next=null,_===null?d=j:_.next=j,_=C;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==_&&(b===null?K.firstBaseUpdate=j:b.next=j,K.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;_=0,K=j=C=null,b=d;do{var B=b.lane&-536870913,F=B!==b.lane;if(F?(xe&B)===B:(l&B)===B){B!==0&&B===Ua&&(Xf=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=t,pe=b;B=i;var Ze=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){Z=ce.call(Ze,Z,B);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,B=typeof ce=="function"?ce.call(Ze,Z,B):ce,B==null)break e;Z=T({},Z,B);break e;case 2:Mr=!0}}B=b.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(j=K=F,C=Z):K=K.next=F,_|=B;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),jr|=_,t.lanes=_,t.memoizedState=Z}}function cy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function hy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cy(a[t],i)}var qa=O(null),hc=O(0);function fy(t,i){t=ir,ae(hc,t),ae(qa,i),ir=t|i.baseLanes}function Jf(){ae(hc,ir),ae(qa,qa.current)}function Zf(){ir=hc.current,W(qa),W(hc)}var vn=O(null),Ln=null;function Lr(t){var i=t.alternate;ae(mt,mt.current&1),ae(vn,t),Ln===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Ln=t)}function Wf(t){ae(mt,mt.current),ae(vn,t),Ln===null&&(Ln=t)}function dy(t){t.tag===22?(ae(mt,mt.current),ae(vn,t),Ln===null&&(Ln=t)):Pr()}function Pr(){ae(mt,mt.current),ae(vn,vn.current)}function En(t){W(vn),Ln===t&&(Ln=null),W(mt)}var mt=O(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||sm(a)||am(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,Ae=null,Xe=null,wt=null,dc=!1,Ha=!1,Gs=!1,mc=0,gl=0,Fa=null,IS=0;function ct(){throw Error(s(321))}function ed(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function td(t,i,a,l,h,d){return $i=d,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Xy:gd,Gs=!1,d=a(l,h),Gs=!1,Ha&&(d=py(i,a,l,h)),my(t),d}function my(t){Q.H=vl;var i=Xe!==null&&Xe.next!==null;if($i=0,wt=Xe=Ae=null,dc=!1,gl=0,Fa=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&rc(t)&&(Rt=!0))}function py(t,i,a,l){Ae=t;var h=0;do{if(Ha&&(Fa=null),gl=0,Ha=!1,25<=h)throw Error(s(301));if(h+=1,wt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Jy,d=i(a,l)}while(Ha);return d}function CS(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ae.flags|=1024),i}function nd(){var t=mc!==0;return mc=0,t}function id(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function rd(t){if(dc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}dc=!1}$i=0,wt=Xe=Ae=null,Ha=!1,gl=mc=0,Fa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ae.memoizedState=wt=t:wt=wt.next=t,wt}function pt(){if(Xe===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=wt===null?Ae.memoizedState:wt.next;if(i!==null)wt=i,Xe=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?Ae.memoizedState=wt=t:wt=wt.next=t}return wt}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=gl;return gl+=1,Fa===null&&(Fa=[]),t=sy(Fa,t,i),i=Ae,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Xy:gd),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===re)return Ht(t)}throw Error(s(438,String(t)))}function sd(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Xi(t,i){return typeof i=="function"?i(t):i}function yc(t){var i=pt();return ad(i,Xe,t)}function ad(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=_=null,C=null,j=i,K=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(xe&Z)===Z:($i&Z)===Z){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Ua&&(K=!0);else if(($i&B)===B){j=j.next,B===Ua&&(K=!0);continue}else Z={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(b=C=Z,_=d):C=C.next=Z,Ae.lanes|=B,jr|=B;Z=j.action,Gs&&a(d,Z),d=j.hasEagerState?j.eagerState:a(d,Z)}else B={lane:Z,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(b=C=B,_=d):C=C.next=B,Ae.lanes|=Z,jr|=Z;j=j.next}while(j!==null&&j!==i);if(C===null?_=d:C.next=b,!yn(d,t.memoizedState)&&(Rt=!0,K&&(a=za,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function od(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function gy(t,i,a){var l=Ae,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((Xe||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,cd(vy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},_y.bind(null,l,h,a,i),null),We===null)throw Error(s(349));d||($i&127)!==0||yy(l,i,a)}return a}function yy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=pc(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function _y(t,i,a,l){i.value=a,i.getSnapshot=l,Ey(i)&&Ty(t)}function vy(t,i,a){return a(function(){Ey(i)&&Ty(t)})}function Ey(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Ty(t){var i=Ls(t,2);i!==null&&fn(i,t,2)}function ld(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Gs){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},i}function by(t,i,a,l){return t.baseState=a,ad(t,Xe,typeof l=="function"?l:Xi)}function NS(t,i,a,l,h){if(Ec(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ay(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ay(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var b=a(h,l),C=Q.S;C!==null&&C(_,b),Sy(t,i,b)}catch(j){ud(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),Sy(t,i,d)}catch(j){ud(t,i,j)}}function Sy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wy(t,i,l)},function(l){return ud(t,i,l)}):wy(t,i,a)}function wy(t,i,a){i.status="fulfilled",i.value=a,Ry(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ay(t,a)))}function ud(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ry(i),i=i.next;while(i!==l)}t.action=null}function Ry(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Iy(t,i){return i}function Cy(t,i){if(Le){var a=We.formState;if(a!==null){e:{var l=Ae;if(Le){if(tt){t:{for(var h=tt,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=Pn(h.nextSibling),l=h.data==="F!";break e}}xr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:i},a.queue=l,a=Qy.bind(null,Ae,l),l.dispatch=a,l=ld(!1),d=pd.bind(null,Ae,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=NS.bind(null,Ae,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ny(t){var i=pt();return Dy(i,Xe,t)}function Dy(t,i,a){if(i=ad(t,i,Iy)[0],t=yc(Xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(_){throw _===ja?oc:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,Ga(9,{destroy:void 0},DS.bind(null,h,a),null)),[l,d,t]}function DS(t,i){t.action=i}function xy(t){var i=pt(),a=Xe;if(a!==null)return Dy(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=pc(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Oy(){return pt().memoizedState}function _c(t,i,a,l){var h=nn();Ae.flags|=t,h.memoizedState=Ga(1|i,{destroy:void 0},a,l===void 0?null:l)}function vc(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&ed(l,Xe.memoizedState.deps)?h.memoizedState=Ga(i,d,a,l):(Ae.flags|=t,h.memoizedState=Ga(1|i,d,a,l))}function My(t,i){_c(8390656,8,t,i)}function cd(t,i){vc(2048,8,t,i)}function xS(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=pc(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Vy(t){var i=pt().memoizedState;return xS({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ky(t,i){return vc(4,2,t,i)}function Ly(t,i){return vc(4,4,t,i)}function Py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Uy(t,i,a){a=a!=null?a.concat([t]):null,vc(4,4,Py.bind(null,i,t),a)}function hd(){}function zy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ed(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function jy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ed(i,l[1]))return l[0];if(l=t(),Gs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function fd(t,i,a){return a===void 0||($i&1073741824)!==0&&(xe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=B_(),Ae.lanes|=t,jr|=t,a)}function By(t,i,a,l){return yn(a,i)?a:qa.current!==null?(t=fd(t,a,l),yn(t,i)||(Rt=!0),t):($i&42)===0||($i&1073741824)!==0&&(xe&261930)===0?(Rt=!0,t.memoizedState=a):(t=B_(),Ae.lanes|=t,jr|=t,i)}function qy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Q.T,b={};Q.T=b,pd(t,!1,i,a);try{var C=h(),j=Q.S;if(j!==null&&j(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=RS(C,l);_l(t,i,K,An(t))}else _l(t,i,l,An(t))}catch(Z){_l(t,i,{then:function(){},status:"rejected",reason:Z},An())}finally{se.p=d,_!==null&&b.types!==null&&(_.types=b.types),Q.T=_}}function OS(){}function dd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Hy(t).queue;qy(t,h,i,me,a===null?OS:function(){return Fy(t),a(l)})}function Hy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Fy(t){var i=Hy(t);i.next===null&&(i=t.alternate.memoizedState),_l(t,i.next.queue,{},An())}function md(){return Ht(kl)}function Gy(){return pt().memoizedState}function Ky(){return pt().memoizedState}function MS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Vr(a);var l=kr(i,t,a);l!==null&&(fn(l,i,a),dl(l,i,a)),i={cache:Hf()},t.payload=i;return}i=i.return}}function VS(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?Yy(i,a):(a=Of(t,i,a,l),a!==null&&(fn(a,t,l),$y(a,i,l)))}function Qy(t,i,a){var l=An();_l(t,i,a,l)}function _l(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))Yy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,yn(b,_))return ec(t,i,h,0),We===null&&Wu(),!1}catch{}if(a=Of(t,i,h,l),a!==null)return fn(a,t,l),$y(a,i,l),!0}return!1}function pd(t,i,a,l){if(l={lane:2,revertLane:Qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(i)throw Error(s(479))}else i=Of(t,a,l,2),i!==null&&fn(i,t,2)}function Ec(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function Yy(t,i){Ha=dc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function $y(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}var vl={readContext:Ht,use:gc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};vl.useEffectEvent=ct;var Xy={readContext:Ht,use:gc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:My,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,_c(4194308,4,Py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return _c(4194308,4,t,i)},useInsertionEffect:function(t,i){_c(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Gs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Gs){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=VS.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=ld(t);var i=t.queue,a=Qy.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(t,i){var a=nn();return fd(a,t,i)},useTransition:function(){var t=ld(!1);return t=qy.bind(null,Ae,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ae,h=nn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(xe&127)!==0||yy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,My(vy.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},_y.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=We.identifierPrefix;if(Le){var a=Ni,l=Ci;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=IS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:md,useFormState:Cy,useActionState:Cy,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=pd.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:sd,useCacheRefresh:function(){return nn().memoizedState=MS.bind(null,Ae)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},gd={readContext:Ht,use:gc,useCallback:zy,useContext:Ht,useEffect:cd,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Ly,useMemo:jy,useReducer:yc,useRef:Oy,useState:function(){return yc(Xi)},useDebugValue:hd,useDeferredValue:function(t,i){var a=pt();return By(a,Xe.memoizedState,t,i)},useTransition:function(){var t=yc(Xi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:md,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,i){var a=pt();return by(a,Xe,t,i)},useMemoCache:sd,useCacheRefresh:Ky};gd.useEffectEvent=Vy;var Jy={readContext:Ht,use:gc,useCallback:zy,useContext:Ht,useEffect:cd,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Ly,useMemo:jy,useReducer:od,useRef:Oy,useState:function(){return od(Xi)},useDebugValue:hd,useDeferredValue:function(t,i){var a=pt();return Xe===null?fd(a,t,i):By(a,Xe.memoizedState,t,i)},useTransition:function(){var t=od(Xi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:md,useFormState:xy,useActionState:xy,useOptimistic:function(t,i){var a=pt();return Xe!==null?by(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:Ky};Jy.useEffectEvent=Vy;function yd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=Vr(l);h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(fn(i,t,l),dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=Vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(fn(i,t,l),dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Vr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(fn(i,t,a),dl(i,t,a))}};function Zy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!sl(a,l)||!sl(h,d):!0}function Wy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function e_(t){Zu(t)}function t_(t){console.error(t)}function n_(t){Zu(t)}function Tc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function i_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vd(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,i)},a}function r_(t){return t=Vr(t),t.tag=3,t}function s_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){i_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){i_(i,a,l),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function kS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Pa(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Mc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Fd(t,l,h)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Fd(t,l,h)),!1}throw Error(s(435,a.tag))}return Fd(t,l,h),Mc(),!1}if(Le)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Uf&&(t=Error(s(422),{cause:l}),ll(On(t,a)))):(l!==Uf&&(i=Error(s(423),{cause:l}),ll(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=vd(t.stateNode,l,h),$f(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),Il===null?Il=[d]:Il.push(d),ht!==4&&(ht=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=vd(a.stateNode,l,t),$f(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=r_(h),s_(h,t,a,l),$f(a,h),!1}a=a.return}while(a!==null);return!1}var Ed=Error(s(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?uy(i,null,a,l):Fs(i,t.child,a,l)}function a_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return js(i),l=td(t,i,a,_,d,h),b=nd(),t!==null&&!Rt?(id(t,i,h),Ji(t,i,h)):(Le&&b&&Lf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function o_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,l_(t,i,d,l,h)):(t=nc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Cd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(_,l)&&t.ref===i.ref)return Ji(t,i,h)}return i.flags|=1,t=Gi(d,l),t.ref=i.ref,t.return=i,i.child=t}function l_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(sl(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,Cd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Ji(t,i,h)}return Td(t,i,a,l,h)}function u_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return c_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?fy(i,d):Jf(),dy(i);else return l=i.lanes=536870912,c_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(i,d.cachePool),fy(i,d),Pr(),i.memoizedState=null):(t!==null&&ac(i,null),Jf(),Pr());return Ft(t,i,h,a),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function c_(t,i,a,l,h){var d=Gf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ac(i,null),Jf(),dy(i),t!==null&&Pa(t,i,l,!0),i.childLanes=h,null}function bc(t,i){return i=Sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function h_(t,i,a){return Fs(i,t.child,null,a),t=bc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function LS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=bc(i,l),i.lanes=536870912,El(null,t);if(Wf(i),(t=tt)?(t=Av(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Yg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw xr(i);return i.lanes=536870912,null}return bc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Wf(i),h)if(i.flags&256)i.flags&=-257,i=h_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Pa(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=We,l!==null&&(_=Bo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ls(t,_),fn(l,t,_),Ed;Mc(),i=h_(t,i,a)}else t=d.treeContext,tt=Pn(_.nextSibling),qt=i,Le=!0,Dr=null,kn=!1,t!==null&&Jg(i,t),i=bc(i,l),i.flags|=4096;return i}return t=Gi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Td(t,i,a,l,h){return js(i),a=td(t,i,a,l,void 0,h),l=nd(),t!==null&&!Rt?(id(t,i,h),Ji(t,i,h)):(Le&&l&&Lf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function f_(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=py(i,l,a,h),my(t),l=nd(),t!==null&&!Rt?(id(t,i,d),Ji(t,i,d)):(Le&&l&&Lf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function d_(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Ma,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ma,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(yd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&_d.enqueueReplaceState(d,d.state,null),pl(i,l,d,h),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,C=Ks(a,b);d.props=C;var j=d.context,K=a.contextType;_=Ma,typeof K=="object"&&K!==null&&(_=Ht(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||j!==_)&&Wy(i,d,l,_),Mr=!1;var B=i.memoizedState;d.state=B,pl(i,l,d,h),ml(),j=i.memoizedState,b||B!==j||Mr?(typeof Z=="function"&&(yd(i,a,Z,l),j=i.memoizedState),(C=Mr||Zy(i,a,C,l,B,j,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(t,i),_=i.memoizedProps,K=Ks(a,_),d.props=K,Z=i.pendingProps,B=d.context,j=a.contextType,C=Ma,typeof j=="object"&&j!==null&&(C=Ht(j)),b=a.getDerivedStateFromProps,(j=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||B!==C)&&Wy(i,d,l,C),Mr=!1,B=i.memoizedState,d.state=B,pl(i,l,d,h),ml();var F=i.memoizedState;_!==Z||B!==F||Mr||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof b=="function"&&(yd(i,a,b,l),F=i.memoizedState),(K=Mr||Zy(i,a,K,l,B,F,C)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fs(i,t.child,null,h),i.child=Fs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ji(t,i,h),t}function m_(t,i,a,l){return Us(),i.flags|=256,Ft(t,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(t){return{baseLanes:t,cachePool:iy()}}function Sd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function p_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Lr(i):Pr(),(t=tt)?(t=Av(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Yg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw xr(i);return am(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Pr(),h=i.mode,b=Sc({mode:"hidden",children:b},h),l=Ps(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Ad(a),l.childLanes=Sd(t,_,a),i.memoizedState=bd,El(null,l)):(Lr(i),wd(i,b))}var C=t.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=Rd(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),b=l.fallback,h=i.mode,l=Sc({mode:"visible",children:l.children},h),b=Ps(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Fs(i,t.child,null,a),l=i.child,l.memoizedState=Ad(a),l.childLanes=Sd(t,_,a),i.memoizedState=bd,i=El(null,l));else if(Lr(i),am(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),i=Rd(t,i,a)}else if(Rt||Pa(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=We,_!==null&&(l=Bo(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ls(t,l),fn(_,t,l),Ed;sm(b)||Mc(),i=Rd(t,i,a)}else sm(b)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,tt=Pn(b.nextSibling),qt=i,Le=!0,Dr=null,kn=!1,t!==null&&Jg(i,t),i=wd(i,l.children),i.flags|=4096);return i}return h?(Pr(),b=l.fallback,h=i.mode,C=t.child,j=C.sibling,l=Gi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?b=Gi(j,b):(b=Ps(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,El(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Ad(a):(h=b.cachePool,h!==null?(C=St._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=iy(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Sd(t,_,a),i.memoizedState=bd,El(t.child,l)):(Lr(i),a=t.child,t=a.sibling,a=Gi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function wd(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function Rd(t,i,a){return Fs(i,t.child,null,a),t=wd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function g_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Bf(t.return,i,a)}function Id(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function y_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),Ft(t,i,l,a),l=Le?ol:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g_(t,a,i);else if(t.tag===19)g_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Id(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Id(i,!0,a,null,d,l);break;case"together":Id(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ji(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Gi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Gi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function PS(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Or(i,St,t.memoizedState.cache),Us();break;case 27:case 5:_s(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?p_(t,i,a):(Lr(i),t=Ji(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Pa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return y_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,u_(t,i,a,i.pendingProps);case 24:Or(i,St,t.memoizedState.cache)}return Ji(t,i,a)}function __(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Cd(t,a)&&(i.flags&128)===0)return Rt=!1,PS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Le&&(i.flags&1048576)!==0&&Xg(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")Mf(t)?(l=Ks(t,l),i.tag=1,i=d_(null,i,t,l,a)):(i.tag=0,i=Td(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ie){i.tag=11,i=a_(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=o_(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return Td(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),d_(t,i,l,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(t,i),pl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Or(i,St,l),l!==d.cache&&qf(i,[St],a,!0),ml(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=m_(t,i,l,a);break e}else if(l!==h){h=On(Error(s(424)),i),ll(h),i=m_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=Pn(t.firstChild),qt=i,Le=!0,Dr=null,kn=!0,a=uy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Us(),l===h){i=Ji(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return Ac(t,i),t===null?(a=Nv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=jc(Se.current).createElement(a),l[Tt]=i,l[Lt]=t,Gt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=Nv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _s(i),t===null&&Le&&(l=i.stateNode=Rv(i.type,i.pendingProps,Se.current),qt=i,kn=!0,h=tt,Gr(i.type)?(om=h,tt=Pn(l.firstChild)):tt=h),Ft(t,i,i.pendingProps.children,a),Ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=dw(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,qt=i,tt=Pn(l.firstChild),kn=!1,h=!0):h=!1),h||xr(i)),_s(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,nm(h,d)?l=null:_!==null&&nm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=td(t,i,CS,null,null,a),kl._currentValue=h),Ac(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=mw(a,i.pendingProps,kn),a!==null?(i.stateNode=a,qt=i,tt=null,t=!0):t=!1),t||xr(i)),null;case 13:return p_(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return a_(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Or(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return o_(t,i,i.type,i.pendingProps,a);case 15:return l_(t,i,i.type,i.pendingProps,a);case 19:return y_(t,i,a);case 31:return LS(t,i,a);case 22:return u_(t,i,a,i.pendingProps);case 24:return js(i),l=Ht(St),t===null?(h=Gf(),h===null&&(h=We,d=Hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),Or(i,St,h)):((t.lanes&a)!==0&&(Yf(t,i),pl(i,null,null,a),ml()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Or(i,St,l)):(l=d.cache,Or(i,St,l),l!==h.cache&&qf(i,[St],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function Nd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(G_())t.flags|=8192;else throw Hs=lc,Kf}else t.flags&=-16777217}function v_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vv(i))if(G_())t.flags|=8192;else throw Hs=lc,Kf}function wc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xu():536870912,t.lanes|=i,$a|=i)}function Tl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function US(t,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Zi(i),d!==null?(nt(i),v_(i,d)):(nt(i),Nd(i,h,null,l,a))):d?d!==t.memoizedState?(Zi(i),nt(i),v_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(i),nt(i),Nd(i,h,t,l,a)),null;case 27:if(ma(i),a=Se.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,La(i)?Zg(i):(t=Rv(h,l,a),i.stateNode=t,Zi(i))}return nt(i),null;case 5:if(ma(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,La(i))Zg(i);else{var _=jc(Se.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(i)}}return nt(i),Nd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,La(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||pv(t.nodeValue,a)),t||xr(i,!0)}else t=jc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=La(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),wc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Jd(i.stateNode.containerInfo),nt(i),null;case 10:return Yi(i.type),nt(i),null;case 19:if(W(mt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Tl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=fc(t),d!==null){for(i.flags|=128,Tl(l,!1),t=d.updateQueue,i.updateQueue=t,wc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Qg(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Le&&Ki(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Dc&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304)}else{if(!h)if(t=fc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,wc(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*en()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=mt.current,ae(mt,h?a&1|2:a&1),Le&&Ki(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return En(i),Zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&wc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function zS(t,i){switch(Pf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ma(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(mt),null;case 4:return st(),null;case 10:return Yi(i.type),null;case 22:case 23:return En(i),Zf(),t!==null&&W(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(St),null;case 25:return null;default:return null}}function E_(t,i){switch(Pf(i),i.tag){case 3:Yi(St),st();break;case 26:case 27:case 5:ma(i);break;case 4:st();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:W(mt);break;case 10:Yi(i.type);break;case 22:case 23:En(i),Zf(),t!==null&&W(Bs);break;case 24:Yi(St)}}function bl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Ye(i,i.return,b)}}function Ur(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var C=a,j=b;try{j()}catch(K){Ye(h,C,K)}}}l=l.next}while(l!==d)}}catch(K){Ye(i,i.return,K)}}function T_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{hy(i,a)}catch(l){Ye(t,t.return,l)}}}function b_(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function Al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function Di(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function A_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Dd(t,i,a){try{var l=t.stateNode;ow(l,t.type,a,i),l[Lt]=i}catch(h){Ye(t,t.return,h)}}function S_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gr(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,a),t=t.sibling;t!==null;)Od(t,i,a),t=t.sibling}function Rc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Rc(t,i,a),t=t.sibling;t!==null;)Rc(t,i,a),t=t.sibling}function w_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Tt]=t,i[Lt]=a}catch(d){Ye(t,t.return,d)}}var Wi=!1,It=!1,Md=!1,R_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function jS(t,i){if(t=t.containerInfo,em=Qc,t=Ug(t),Rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,C=-1,j=0,K=0,Z=t,B=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(b=_+h),Z!==d||l!==0&&Z.nodeType!==3||(C=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(F=Z.firstChild)!==null;)B=Z,Z=F;for(;;){if(Z===t)break t;if(B===a&&++j===h&&(b=_),B===d&&++K===l&&(C=_),(F=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=F}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:t,selectionRange:a},Qc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ks(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ye(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)rm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function I_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),l&4&&bl(5,a);break;case 1:if(tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&T_(a),l&512&&Al(a,a.return);break;case 3:if(tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hy(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&w_(a);case 26:case 5:tr(t,a),i===null&&l&4&&A_(a),l&512&&Al(a,a.return);break;case 12:tr(t,a);break;case 31:tr(t,a),l&4&&D_(t,a);break;case 13:tr(t,a),l&4&&x_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=$S.bind(null,a),pw(t,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){i=i!==null&&i.memoizedState!==null||It,h=Wi;var d=It;Wi=l,(It=i)&&!d?nr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Wi=h,It=d}break;case 30:break;default:tr(t,a)}}function C_(t){var i=t.alternate;i!==null&&(t.alternate=null,C_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function er(t,i,a){for(a=a.child;a!==null;)N_(t,i,a),a=a.sibling}function N_(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:It||Di(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Di(a,i);var l=ot,h=ln;Gr(a.type)&&(ot=a.stateNode,ln=!1),er(t,i,a),Ol(a.stateNode),ot=l,ln=h;break;case 5:It||Di(a,i);case 6:if(l=ot,h=ln,ot=null,er(t,i,a),ot=l,ln=h,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(ln?(t=ot,Tv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):Tv(ot,a.stateNode));break;case 4:l=ot,h=ln,ot=a.stateNode.containerInfo,ln=!0,er(t,i,a),ot=l,ln=h;break;case 0:case 11:case 14:case 15:Ur(2,a,i),It||Ur(4,a,i),er(t,i,a);break;case 1:It||(Di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&b_(a,i,l)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,er(t,i,a),It=l;break;default:er(t,i,a)}}function D_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){Ye(i,i.return,a)}}}function x_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){Ye(i,i.return,a)}}function BS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new R_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new R_),i;default:throw Error(s(435,t.tag))}}function Ic(t,i){var a=BS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=XS.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Gr(b.type)){ot=b.stateNode,ln=!1;break e}break;case 5:ot=b.stateNode,ln=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(ot===null)throw Error(s(160));N_(d,_,h),ot=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)O_(i,t),i=i.sibling}var Wn=null;function O_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Ur(3,t,t.return),bl(3,t),Ur(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(It||a===null||Di(a,a.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(un(i,t),cn(t),l&512&&(It||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,bt(d),l=d;break e;case"link":var _=Ov("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Ov("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,bt(d),l=d}t.stateNode=l}else Mv(h,t.type,t.stateNode);else t.stateNode=xv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Mv(h,t.type,t.stateNode):xv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(It||a===null||Di(a,a.return)),a!==null&&l&4&&Dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(It||a===null||Di(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(ce){Ye(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Dd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Md=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(Hc=null,h=Wn,Wn=Bc(i.containerInfo),un(i,t),Wn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(ce){Ye(t,t.return,ce)}Md&&(Md=!1,M_(t));break;case 4:l=Wn,Wn=Bc(t.stateNode.containerInfo),un(i,t),cn(t),Wn=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Wi,K=It;if(Wi=j||h,It=K||C,un(i,t),It=K,Wi=j,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Wi||It||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=C.stateNode;var Z=C.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){Ye(C,C.return,ce)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){Ye(C,C.return,ce)}}}else if(i.tag===18){if(a===null){C=i;try{var F=C.stateNode;h?bv(F,!0):bv(C.stateNode,!1)}catch(ce){Ye(C,C.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ic(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(S_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=xd(t);Rc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var b=xd(t);Rc(t,b,_);break;case 3:case 4:var C=a.stateNode.containerInfo,j=xd(t);Od(t,j,C);break;default:throw Error(s(161))}}catch(K){Ye(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function M_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;M_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)I_(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ur(4,i,i.return),Qs(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&b_(i,i.return,a),Qs(i);break;case 27:Ol(i.stateNode);case 26:case 5:Di(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function nr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:nr(h,d,a),bl(4,d);break;case 1:if(nr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ye(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)cy(C[h],b)}catch(j){Ye(l,l.return,j)}}a&&_&64&&T_(d),Al(d,d.return);break;case 27:w_(d);case 26:case 5:nr(h,d,a),a&&l===null&&_&4&&A_(d),Al(d,d.return);break;case 12:nr(h,d,a);break;case 31:nr(h,d,a),a&&_&4&&D_(h,d);break;case 13:nr(h,d,a),a&&_&4&&x_(h,d);break;case 22:d.memoizedState===null&&nr(h,d,a),Al(d,d.return);break;case 30:break;default:nr(h,d,a)}i=i.sibling}}function Vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function kd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)V_(t,i,a,l),i=i.sibling}function V_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),h&2048&&bl(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(h&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(i,i.return,C)}}else ei(t,i,a,l);break;case 31:ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):Sl(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,Ka(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Vd(_,i);break;case 24:ei(t,i,a,l),h&2048&&kd(i.alternate,i);break;default:ei(t,i,a,l)}}function Ka(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,C=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(d,_,b,C,h),bl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ka(d,_,b,C,h):Sl(d,_):(K._visibility|=2,Ka(d,_,b,C,h)),h&&j&2048&&Vd(_.alternate,_);break;case 24:Ka(d,_,b,C,h),h&&j&2048&&kd(_.alternate,_);break;default:Ka(d,_,b,C,h)}i=i.sibling}}function Sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Sl(a,l),h&2048&&Vd(l.alternate,l);break;case 24:Sl(a,l),h&2048&&kd(l.alternate,l);break;default:Sl(a,l)}i=i.sibling}}var wl=8192;function Qa(t,i,a){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)k_(t,i,a),t=t.sibling}function k_(t,i,a){switch(t.tag){case 26:Qa(t,i,a),t.flags&wl&&t.memoizedState!==null&&Iw(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,i,a);break;case 3:case 4:var l=Wn;Wn=Bc(t.stateNode.containerInfo),Qa(t,i,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,Qa(t,i,a),wl=l):Qa(t,i,a));break;default:Qa(t,i,a)}}function L_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,U_(l,t)}L_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)P_(t),t=t.sibling}function P_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Cc(t)):Rl(t);break;default:Rl(t)}}function Cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,U_(l,t)}L_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ur(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}t=t.sibling}}function U_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(C_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var qS={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},HS=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,Ne=null,xe=0,Qe=0,Tn=null,zr=!1,Ya=!1,Ld=!1,ir=0,ht=0,jr=0,Ys=0,Pd=0,bn=0,$a=0,Il=null,hn=null,Ud=!1,Nc=0,z_=0,Dc=1/0,xc=null,Br=null,Vt=0,qr=null,Xa=null,rr=0,zd=0,jd=null,j_=null,Cl=0,Bd=null;function An(){return(He&2)!==0&&xe!==0?xe&-xe:Q.T!==null?Qd():Ou()}function B_(){if(bn===0)if((xe&536870912)===0||Le){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function fn(t,i,a){(t===We&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Hr(t,xe,bn,!1)),bs(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Ys|=a),ht===4&&Hr(t,xe,bn,!1)),xi(t))}function q_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=l?KS(t,i):Hd(t,i,!0),d=l;do{if(h===0){Ya&&!l&&Hr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!FS(a)){h=Hd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=Il;var C=b.current.memoizedState.isDehydrated;if(C&&(Ja(b,_).flags|=256),_=Hd(b,_,!1),_!==2){if(Ld&&!C){b.errorRecoveryDisabledLanes|=d,Ys|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ja(t,0),Hr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(l,i,bn,!zr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Nc+300-en(),10<h)){if(Hr(l,i,bn,!zr),di(l,0,!0)!==0)break e;rr=i,l.timeoutHandle=vv(H_.bind(null,l,a,hn,xc,Ud,i,bn,Ys,$a,zr,d,"Throttled",-0,0),h);break e}H_(l,a,hn,xc,Ud,i,bn,Ys,$a,zr,d,null,-0,0)}}break}while(!0);xi(t)}function H_(t,i,a,l,h,d,_,b,C,j,K,Z,B,F){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},k_(i,d,Z);var ce=(d&62914560)===d?Nc-en():(d&4194048)===d?z_-en():0;if(ce=Cw(Z,ce),ce!==null){rr=d,t.cancelPendingCommit=ce(J_.bind(null,t,i,d,a,l,h,_,b,C,K,Z,null,B,F)),Hr(t,d,_,!j);return}}J_(t,i,d,a,l,h,_,b,C)}function FS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(t,i,a,l){i&=~Pd,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&As(t,a,i)}function Oc(){return(He&6)===0?(Nl(0),!1):!0}function qd(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Qi=zs=null,rd(t),Ba=null,hl=0,t=Ne;for(;t!==null;)E_(t.alternate,t),t=t.return;Ne=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,cw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rr=0,qd(),We=t,Ne=a=Gi(t.current,null),xe=i,Qe=0,Tn=null,zr=!1,Ya=Fn(t,i),Ld=!1,$a=bn=Pd=Ys=jr=ht=0,hn=Il=null,Ud=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return ir=i,Wu(),a}function F_(t,i){Ae=null,Q.H=vl,i===ja||i===oc?(i=ay(),Qe=3):i===Kf?(i=ay(),Qe=4):Qe=i===Ed?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Ne===null&&(ht=1,Tc(t,On(i,t.current)))}function G_(){var t=vn.current;return t===null?!0:(xe&4194048)===xe?Ln===null:(xe&62914560)===xe||(xe&536870912)!==0?t===Ln:!1}function K_(){var t=Q.H;return Q.H=vl,t===null?vl:t}function Q_(){var t=Q.A;return Q.A=qS,t}function Mc(){ht=4,zr||(xe&4194048)!==xe&&vn.current!==null||(Ya=!0),(jr&134217727)===0&&(Ys&134217727)===0||We===null||Hr(We,xe,bn,!1)}function Hd(t,i,a){var l=He;He|=2;var h=K_(),d=Q_();(We!==t||xe!==i)&&(xc=null,Ja(t,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&Ne!==null){var b=Ne,C=Tn;switch(Qe){case 8:qd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var j=Qe;if(Qe=0,Tn=null,Za(t,b,C,j),a&&Ya){_=0;break e}break;default:j=Qe,Qe=0,Tn=null,Za(t,b,C,j)}}GS(),_=ht;break}catch(K){F_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Qi=zs=null,He=l,Q.H=h,Q.A=d,Ne===null&&(We=null,xe=0,Wu()),_}function GS(){for(;Ne!==null;)Y_(Ne)}function KS(t,i){var a=He;He|=2;var l=K_(),h=Q_();We!==t||xe!==i?(xc=null,Dc=en()+500,Ja(t,i)):Ya=Fn(t,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=Tn;t:switch(Qe){case 1:Qe=0,Tn=null,Za(t,i,d,1);break;case 2:case 9:if(ry(d)){Qe=0,Tn=null,$_(i);break}i=function(){Qe!==2&&Qe!==9||We!==t||(Qe=7),xi(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:ry(d)?(Qe=0,Tn=null,$_(i)):(Qe=0,Tn=null,Za(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var b=Ne;if(_?Vv(_):b.stateNode.complete){Qe=0,Tn=null;var C=b.sibling;if(C!==null)Ne=C;else{var j=b.return;j!==null?(Ne=j,Vc(j)):Ne=null}break t}}Qe=0,Tn=null,Za(t,i,d,5);break;case 6:Qe=0,Tn=null,Za(t,i,d,6);break;case 8:qd(),ht=6;break e;default:throw Error(s(462))}}QS();break}catch(K){F_(t,K)}while(!0);return Qi=zs=null,Q.H=l,Q.A=h,He=a,Ne!==null?0:(We=null,xe=0,Wu(),ht)}function QS(){for(;Ne!==null&&!vf();)Y_(Ne)}function Y_(t){var i=__(t.alternate,t,ir);t.memoizedProps=t.pendingProps,i===null?Vc(t):Ne=i}function $_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=f_(a,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=f_(a,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:rd(i);default:E_(a,i),i=Ne=Qg(i,ir),i=__(a,i,ir)}t.memoizedProps=t.pendingProps,i===null?Vc(t):Ne=i}function Za(t,i,a,l){Qi=zs=null,rd(i),Ba=null,hl=0;var h=i.return;try{if(kS(t,h,i,a,xe)){ht=1,Tc(t,On(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,Tc(t,On(a,t.current)),Ne=null;return}i.flags&32768?(Le||l===1?t=!0:Ya||(xe&536870912)!==0?t=!1:(zr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),X_(i,t)):Vc(i)}function Vc(t){var i=t;do{if((i.flags&32768)!==0){X_(i,zr);return}t=i.return;var a=US(i.alternate,i,ir);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function X_(t,i){do{var a=zS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function J_(t,i,a,l,h,d,_,b,C){t.cancelPendingCommit=null;do kc();while(Vt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=xf,bf(t,a,d,_,b,C),t===We&&(Ne=We=null,xe=0),Xa=i,qr=t,rr=a,zd=d,jd=h,j_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JS(vr,function(){return nv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=se.p,se.p=2,_=He,He|=4;try{jS(t,i,a)}finally{He=_,se.p=h,Q.T=l}}Vt=1,Z_(),W_(),ev()}}function Z_(){if(Vt===1){Vt=0;var t=qr,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{O_(i,t);var d=tm,_=Ug(t.containerInfo),b=d.focusedElem,C=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Pg(b.ownerDocument.documentElement,b)){if(C!==null&&Rf(b)){var j=C.start,K=C.end;if(K===void 0&&(K=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(K,b.value.length);else{var Z=b.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var F=B.getSelection(),ce=b.textContent.length,pe=Math.min(C.start,ce),Ze=C.end===void 0?pe:Math.min(C.end,ce);!F.extend&&pe>Ze&&(_=Ze,Ze=pe,pe=_);var k=Lg(b,pe),D=Lg(b,Ze);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var z=Z.createRange();z.setStart(k.node,k.offset),F.removeAllRanges(),pe>Ze?(F.addRange(z),F.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),F.addRange(z))}}}}for(Z=[],F=b;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var X=Z[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Qc=!!em,tm=em=null}finally{He=h,se.p=l,Q.T=a}}t.current=i,Vt=2}}function W_(){if(Vt===2){Vt=0;var t=qr,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{I_(t,i.alternate,i)}finally{He=h,se.p=l,Q.T=a}}Vt=3}}function ev(){if(Vt===4||Vt===3){Vt=0,wu();var t=qr,i=Xa,a=rr,l=j_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Xa=qr=null,tv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Br=null),Bi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=se.p,se.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Q.T=i,se.p=h}}(rr&3)!==0&&kc(),xi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Bd?Cl++:(Cl=0,Bd=t):Cl=0,Nl(0)}}function tv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function kc(){return Z_(),W_(),ev(),nv()}function nv(){if(Vt!==5)return!1;var t=qr,i=zd;zd=0;var a=Bi(rr),l=Q.T,h=se.p;try{se.p=32>a?32:a,Q.T=null,a=jd,jd=null;var d=qr,_=rr;if(Vt=0,Xa=qr=null,rr=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,P_(d.current),V_(d,d.current,_,a),He=b,Nl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{se.p=h,Q.T=l,tv(t,i)}}function iv(t,i,a){i=On(a,i),i=vd(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(bs(t,2),xi(t))}function Ye(t,i,a){if(t.tag===3)iv(t,t,a);else for(;i!==null;){if(i.tag===3){iv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=On(a,t),a=r_(2),l=kr(i,a,2),l!==null&&(s_(a,l,i,t),bs(l,2),xi(l));break}}i=i.return}}function Fd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new HS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ld=!0,h.add(a),t=YS.bind(null,t,i,a),i.then(t,t))}function YS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(xe&a)===a&&(ht===4||ht===3&&(xe&62914560)===xe&&300>en()-Nc?(He&2)===0&&Ja(t,0):Pd|=a,$a===xe&&($a=0)),xi(t)}function rv(t,i){i===0&&(i=xu()),t=Ls(t,i),t!==null&&(bs(t,i),xi(t))}function $S(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),rv(t,a)}function XS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),rv(t,a)}function JS(t,i){return Mt(t,i)}var Lc=null,Wa=null,Gd=!1,Pc=!1,Kd=!1,Fr=0;function xi(t){t!==Wa&&t.next===null&&(Wa===null?Lc=Wa=t:Wa=Wa.next=t),Pc=!0,Gd||(Gd=!0,WS())}function Nl(t,i){if(!Kd&&Pc){Kd=!0;do for(var a=!1,l=Lc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,lv(l,d))}else d=xe,d=di(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,lv(l,d));l=l.next}while(a);Kd=!1}}function ZS(){sv()}function sv(){Pc=Gd=!1;var t=0;Fr!==0&&uw()&&(t=Fr);for(var i=en(),a=null,l=Lc;l!==null;){var h=l.next,d=av(l,i);d===0?(l.next=null,a===null?Lc=h:a.next=h,h===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=h}Vt!==0&&Vt!==5||Nl(t),Fr!==0&&(Fr=0)}function av(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),b=1<<_,C=h[_];C===-1?((b&a)===0||(b&l)!==0)&&(h[_]=Tf(b,i)):C<=i&&(t.expiredLanes|=b),d&=~b}if(i=We,a=xe,a=di(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_r(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&_r(l),Bi(a)){case 2:case 8:a=zo;break;case 32:a=vr;break;case 268435456:a=Ru;break;default:a=vr}return l=ov.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&_r(l),t.callbackPriority=2,t.callbackNode=null,2}function ov(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var l=xe;return l=di(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(q_(t,l,i),av(t,en()),t.callbackNode!=null&&t.callbackNode===a?ov.bind(null,t):null)}function lv(t,i){if(kc())return null;q_(t,i,!0)}function WS(){hw(function(){(He&6)!==0?Mt(Uo,ZS):sv()})}function Qd(){if(Fr===0){var t=Ua;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Fr=t}return Fr}function uv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function cv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ew(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=uv((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?uv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Si("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var C=_?cv(h,_):new FormData(h);dd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=_?cv(h,_):new FormData(h),dd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Yd=0;Yd<Df.length;Yd++){var $d=Df[Yd],tw=$d.toLowerCase(),nw=$d[0].toUpperCase()+$d.slice(1);Zn(tw,"on"+nw)}Zn(Bg,"onAnimationEnd"),Zn(qg,"onAnimationIteration"),Zn(Hg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(_S,"onTransitionRun"),Zn(vS,"onTransitionStart"),Zn(ES,"onTransitionCancel"),Zn(Fg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function hv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],C=b.instance,j=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=j;try{d(h)}catch(K){Zu(K)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(b=l[_],C=b.instance,j=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=j;try{d(h)}catch(K){Zu(K)}h.currentTarget=null,d=C}}}}function De(t,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var l=t+"__bubble";a.has(l)||(fv(i,t,2,!1),a.add(l))}function Xd(t,i,a){var l=0;i&&(l|=4),fv(a,t,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[Uc]){t[Uc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(iw.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Xd("selectionchange",!1,i))}}function fv(t,i,a,l){switch(Bv(i)){case 2:var h=xw;break;case 8:h=Ow;break;default:h=fm}a=h.bind(null,i,a,t),h=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=yi(b),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}b=b.parentNode}}l=l.return}wr(function(){var j=d,K=Cn(a),Z=[];e:{var B=Gg.get(t);if(B!==void 0){var F=Si,ce=t;switch(t){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":F=$u;break;case"focusin":ce="focus",F=Os;break;case"focusout":ce="blur",F=Os;break;case"beforeblur":case"afterblur":F=Os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=y;break;case Bg:case qg:case Hg:F=qu;break;case Fg:F=A;break;case"scroll":case"scrollend":F=el;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Fi;break;case"toggle":case"beforetoggle":F=be}var pe=(i&4)!==0,Ze=!pe&&(t==="scroll"||t==="scrollend"),k=pe?B!==null?B+"Capture":null:B;pe=[];for(var D=j,z;D!==null;){var X=D;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||k===null||(X=Yn(D,k),X!=null&&pe.push(xl(D,X,z))),Ze)break;D=D.return}0<pe.length&&(B=new F(B,ce,null,a,K),Z.push({event:B,listeners:pe}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==Jo&&(ce=a.relatedTarget||a.fromElement)&&(yi(ce)||ce[pi]))break e;if((F||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ce=a.relatedTarget||a.toElement,F=j,ce=ce?yi(ce):null,ce!==null&&(Ze=u(ce),pe=ce.tag,ce!==Ze||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(F=null,ce=j),F!==ce)){if(pe=tl,X="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Fi,X="onPointerLeave",k="onPointerEnter",D="pointer"),Ze=F==null?B:pn(F),z=ce==null?B:pn(ce),B=new pe(X,D+"leave",F,a,K),B.target=Ze,B.relatedTarget=z,X=null,yi(K)===j&&(pe=new pe(k,D+"enter",ce,a,K),pe.target=z,pe.relatedTarget=Ze,X=pe),Ze=X,F&&ce)t:{for(pe=rw,k=F,D=ce,z=0,X=k;X;X=pe(X))z++;X=0;for(var fe=D;fe;fe=pe(fe))X++;for(;0<z-X;)k=pe(k),z--;for(;0<X-z;)D=pe(D),X--;for(;z--;){if(k===D||D!==null&&k===D.alternate){pe=k;break t}k=pe(k),D=pe(D)}pe=null}else pe=null;F!==null&&dv(Z,B,F,pe,!1),ce!==null&&Ze!==null&&dv(Z,Ze,ce,pe,!0)}}e:{if(B=j?pn(j):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var je=Dg;else if(Cg(B))if(xg)je=pS;else{je=dS;var he=fS}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ba(j.elementType)&&(je=Dg):je=mS;if(je&&(je=je(t,j))){Ng(Z,je,a,K);break e}he&&he(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Yo(B,"number",B.value)}switch(he=j?pn(j):window,t){case"focusin":(Cg(he)||he.contentEditable==="true")&&(Da=he,If=j,al=null);break;case"focusout":al=If=Da=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,zg(Z,a,K);break;case"selectionchange":if(yS)break;case"keydown":case"keyup":zg(Z,a,K)}var we;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Na?Ms(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ii&&a.locale!=="ko"&&(Na||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Na&&(we=Wo()):(Ai=K,Zo="value"in Ai?Ai.value:Ai.textContent,Na=!0)),he=zc(j,Oe),0<he.length&&(Oe=new Ri(Oe,t,null,a,K),Z.push({event:Oe,listeners:he}),we?Oe.data=we:(we=Ca(a),we!==null&&(Oe.data=we)))),(we=Dn?lS(t,a):uS(t,a))&&(Oe=zc(j,"onBeforeInput"),0<Oe.length&&(he=new Ri("onBeforeInput","beforeinput",null,a,K),Z.push({event:he,listeners:Oe}),he.data=we)),ew(Z,t,j,a,K)}hv(Z,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function zc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Yn(t,i),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function rw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,C=b.alternate,j=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||j===null||(C=j,h?(j=Yn(a,d),j!=null&&_.unshift(xl(a,j,C))):h||(j=Yn(a,d),j!=null&&_.push(xl(a,j,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var sw=/\r\n?/g,aw=/\u0000|\uFFFD/g;function mv(t){return(typeof t=="string"?t:""+t).replace(sw,`
`).replace(aw,"")}function pv(t,i){return i=mv(i),mv(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Xo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,Ea(t,a,l))}}function Wd(t,i,a,l,h,d){switch(a){case"style":Xo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ea(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var b=d=_=h=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":C=K;break;case"defaultChecked":j=K;break;case"value":d=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Je(t,i,l,K,a,null)}}Lu(t,d,b,C,j,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Je(t,i,h,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Tr(t,!!l,i,!1):a!=null&&Tr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(t,i,_,b,a,null)}br(t,l,h,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,C,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)De(Dl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,j,l,a,null)}return;default:if(ba(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Wd(t,i,K,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(t,i,b,l,a,null))}function ow(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,C=null,j=null,K=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(F)||Je(t,i,F,null,l,Z)}}for(var B in l){var F=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(F!=null||Z!=null))switch(B){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":K=F;break;case"value":_=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&Je(t,i,B,F,l,Z)}}Ta(t,_,b,C,j,K,d,h);return;case"select":F=_=b=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==C&&Je(t,i,h,d,l,C)}i=b,a=_,l=F,B!=null?Tr(t,!!a,B,!1):!!l!=!!a&&(i!=null?Tr(t,!!a,i,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Pu(t,B,F);return;case"option":for(var ce in a)B=a[ce],a.hasOwnProperty(ce)&&B!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:Je(t,i,ce,null,l,B));for(C in l)B=l[C],F=a[C],l.hasOwnProperty(C)&&B!==F&&(B!=null||F!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Je(t,i,C,B,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!l.hasOwnProperty(pe)&&Je(t,i,pe,null,l,B);for(j in l)if(B=l[j],F=a[j],l.hasOwnProperty(j)&&B!==F&&(B!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Je(t,i,j,B,l,F)}return;default:if(ba(i)){for(var Ze in a)B=a[Ze],a.hasOwnProperty(Ze)&&B!==void 0&&!l.hasOwnProperty(Ze)&&Wd(t,i,Ze,void 0,l,B);for(K in l)B=l[K],F=a[K],!l.hasOwnProperty(K)||B===F||B===void 0&&F===void 0||Wd(t,i,K,B,l,F);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&Je(t,i,k,null,l,B);for(Z in l)B=l[Z],F=a[Z],!l.hasOwnProperty(Z)||B===F||B==null&&F==null||Je(t,i,Z,B,l,F)}function gv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&gv(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],j=C.startTime;if(j>b)break;var K=C.transferSize,Z=C.initiatorType;K&&gv(Z)&&(C=C.responseEnd,_+=K*(C<b?1:(b-j)/(C-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var em=null,tm=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function yv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function nm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var im=null;function uw(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var vv=typeof setTimeout=="function"?setTimeout:void 0,cw=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,hw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(t){return Ev.resolve(null).then(t).catch(fw)}:vv;function fw(t){setTimeout(function(){throw t})}function Gr(t){return t==="head"}function Tv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),io(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[gi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ol(t.ownerDocument.body);a=h}while(a);io(i)}function bv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function rm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function dw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function mw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function Av(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$?"||t.data==="$~"}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var om=null;function Sv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function wv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Rv(t,i,a){switch(i=jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var Un=new Map,Iv=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sr=se.d;se.d={f:gw,r:yw,D:_w,C:vw,L:Ew,m:Tw,X:Aw,S:bw,M:Sw};function gw(){var t=sr.f(),i=Oc();return t||i}function yw(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?Fy(i):sr.r(t)}var eo=typeof document>"u"?null:document;function Cv(t,i,a){var l=eo;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Iv.has(h)||(Iv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),bt(i),l.head.appendChild(i)))}}function _w(t){sr.D(t),Cv("dns-prefetch",t,null)}function vw(t,i){sr.C(t,i),Cv("preconnect",t,i)}function Ew(t,i,a){sr.L(t,i,a);var l=eo;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=to(t);break;case"script":d=no(t)}Un.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),Gt(i,"link",t),bt(i),l.head.appendChild(i)))}}function Tw(t,i){sr.m(t,i);var a=eo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(t)}if(!Un.has(d)&&(t=T({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),Gt(l,"link",t),bt(l),a.head.appendChild(l)}}}function bw(t,i,a){sr.S(t,i,a);var l=eo;if(l&&t){var h=_i(l).hoistableStyles,d=to(t);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ml(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&lm(t,a);var C=_=l.createElement("link");bt(C),Gt(C,"link",t),C._p=new Promise(function(j,K){C.onload=j,C.onerror=K}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function Aw(t,i){sr.X(t,i);var a=eo;if(a&&t){var l=_i(a).hoistableScripts,h=no(t),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(t=T({src:t,async:!0},i),(i=Un.get(h))&&um(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Sw(t,i){sr.M(t,i);var a=eo;if(a&&t){var l=_i(a).hoistableScripts,h=no(t),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&um(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Nv(t,i,a,l){var h=(h=Se.current)?Bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=_i(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var d=_i(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Ml(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||ww(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=_i(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function to(t){return'href="'+an(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function Dv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function ww(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),bt(i),t.head.appendChild(i))}function no(t){return'[src="'+an(t)+'"]'}function Vl(t){return"script[async]"+t}function xv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Gt(l,"style",h),qc(l,a.precedence,t),i.instance=l;case"stylesheet":h=to(a.href);var d=t.querySelector(Ml(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=Dv(a),(h=Un.get(h))&&lm(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(b,C){_.onload=b,_.onerror=C}),Gt(d,"link",l),i.state.loading|=4,qc(d,a.precedence,t),i.instance=d;case"script":return d=no(a.src),(h=t.querySelector(Vl(d)))?(i.instance=h,bt(h),h):(l=a,(h=Un.get(d))&&(l=T({},a),um(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,t));return i.instance}function qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Hc=null;function Ov(t,i,a){if(Hc===null){var l=new Map,h=Hc=new Map;h.set(a,l)}else h=Hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[gi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Mv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Rw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Iw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=to(l.href),d=i.querySelector(Ml(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Fc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=Dv(l),(h=Un.get(h))&&lm(l,h),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(b,C){_.onload=b,_.onerror=C}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var cm=0;function Cw(t,i){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&cm===0&&(cm=62500*lw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>cm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(Nw,t),Gc=null,Fc.call(t))}function Nw(t,i){if(!(i.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var kl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Dw(t,i,a,l,h,d,_,b,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function kv(t,i,a,l,h,d,_,b,C,j,K,Z){return t=new Dw(t,i,a,_,C,j,K,Z,b),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=Hf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),t}function Lv(t){return t?(t=Ma,t):Ma}function Pv(t,i,a,l,h,d){h=Lv(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(fn(a,t,i),dl(a,t,i))}function Uv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function hm(t,i){Uv(t,i),(t=t.alternate)&&Uv(t,i)}function zv(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&fn(i,t,67108864),hm(t,67108864)}}function jv(t){if(t.tag===13||t.tag===31){var i=An();i=Ss(i);var a=Ls(t,i);a!==null&&fn(a,t,i),hm(t,i)}}var Qc=!0;function xw(t,i,a,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=2,fm(t,i,a,l)}finally{se.p=d,Q.T=h}}function Ow(t,i,a,l){var h=Q.T;Q.T=null;var d=se.p;try{se.p=8,fm(t,i,a,l)}finally{se.p=d,Q.T=h}}function fm(t,i,a,l){if(Qc){var h=dm(l);if(h===null)Zd(t,i,l,Yc,a),qv(t,l);else if(Vw(h,t,i,a,l))l.stopPropagation();else if(qv(t,l),i&4&&-1<Mw.indexOf(t)){for(;h!==null;){var d=In(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=fi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var C=1<<31-ft(_);b.entanglements[1]|=C,_&=~C}xi(d),(He&6)===0&&(Dc=en()+500,Nl(0))}}break;case 31:case 13:b=Ls(d,2),b!==null&&fn(b,d,2),Oc(),hm(d,2)}if(d=dm(l),d===null&&Zd(t,i,l,Yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,i,l,null,a)}}function dm(t){return t=Cn(t),mm(t)}var Yc=null;function mm(t){if(Yc=null,t=yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Yc=t,null}function Bv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Uo:return 2;case zo:return 8;case vr:case Ef:return 32;case Ru:return 268435456;default:return 32}default:return 32}}var pm=!1,Kr=null,Qr=null,Yr=null,Ll=new Map,Pl=new Map,$r=[],Mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qv(t,i){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function Ul(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&zv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Vw(t,i,a,l,h){switch(i){case"focusin":return Kr=Ul(Kr,t,i,a,l,h),!0;case"dragenter":return Qr=Ul(Qr,t,i,a,l,h),!0;case"mouseover":return Yr=Ul(Yr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ll.set(d,Ul(Ll.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Pl.set(d,Ul(Pl.get(d)||null,t,i,a,l,h)),!0}return!1}function Hv(t){var i=yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){jv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){jv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=dm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Jo=l,a.target.dispatchEvent(l),Jo=null}else return i=In(a),i!==null&&zv(i),t.blockedOn=a,!1;i.shift()}return!0}function Fv(t,i,a){$c(t)&&a.delete(i)}function kw(){pm=!1,Kr!==null&&$c(Kr)&&(Kr=null),Qr!==null&&$c(Qr)&&(Qr=null),Yr!==null&&$c(Yr)&&(Yr=null),Ll.forEach(Fv),Pl.forEach(Fv)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,pm||(pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kw)))}var Jc=null;function Gv(t){Jc!==t&&(Jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jc===t&&(Jc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(mm(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,dd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function io(t){function i(C){return Xc(C,t)}Kr!==null&&Xc(Kr,t),Qr!==null&&Xc(Qr,t),Yr!==null&&Xc(Yr,t),Ll.forEach(i),Pl.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)Hv(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||Gv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)b=_.formAction;else if(mm(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Gv(a)}}}function Kv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function gm(t){this._internalRoot=t}Zc.prototype.render=gm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();Pv(a,l,t,i,null,null)},Zc.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Pv(t.current,2,null,t,null,null),Oc(),i[pi]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ou();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&Hv(t)}};var Qv=e.version;if(Qv!=="19.2.3")throw Error(s(527,Qv,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Lw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Hn=Wc.inject(Lw),jt=Wc}catch{}}return jl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=e_,d=t_,_=n_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=kv(t,1,!1,null,null,a,l,null,h,d,_,Kv),t[pi]=i.current,Jd(t),new gm(i)},jl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=e_,_=t_,b=n_,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=kv(t,1,!0,i,a??null,l,h,C,d,_,b,Kv),i.context=Lv(null),a=i.current,l=An(),l=Ss(l),h=Vr(l),h.callback=null,kr(a,h,l),a=l,i.current.lanes=a,bs(i,a),xi(i),t[pi]=i.current,Jd(t),new Zc(i)},jl.version="19.2.3",jl}var iE;function Kw(){if(iE)return vm.exports;iE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=Gw(),vm.exports}var Qw=Kw();var rE="popstate";function Yw(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=la(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),qm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:eu(u))}function s(o,u){ai(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Xw(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ai(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $w(){return Math.random().toString(36).substring(2,10)}function sE(r,e){return{usr:r.state,key:r.key,idx:e}}function qm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:n,key:e&&e.key||s||$w()}}function eu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function la(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Xw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let G=E(),ne=G==null?null:G-p;p=G,g&&g({action:m,location:$.location,delta:ne})}function S(G,ne){m="PUSH";let te=qm($.location,G,ne);n&&n(te,G),p=E()+1;let re=sE(te,p),Ie=$.createHref(te);try{f.pushState(re,"",Ie)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(Ie)}u&&g&&g({action:m,location:$.location,delta:1})}function P(G,ne){m="REPLACE";let te=qm($.location,G,ne);n&&n(te,G),p=E();let re=sE(te,p),Ie=$.createHref(te);f.replaceState(re,"",Ie),u&&g&&g({action:m,location:$.location,delta:0})}function Y(G){return Jw(G)}let $={get action(){return m},get location(){return r(o,f)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(rE,T),g=G,()=>{o.removeEventListener(rE,T),g=null}},createHref(G){return e(o,G)},createURL:Y,encodeLocation(G){let ne=Y(G);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:P,go(G){return f.go(G)}};return $}function Jw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:eu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function QT(r,e,n="/"){return Zw(r,e,n,!1)}function Zw(r,e,n,s){let o=typeof e=="string"?la(e):e,u=hr(o.pathname||"/",n);if(u==null)return null;let f=YT(r);Ww(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=c1(u);m=l1(f[g],p,s)}return m}function YT(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ur([s,E.relativePath]),S=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),YT(f.children,e,S,T,g)),!(f.path==null&&!f.index)&&e.push({path:T,score:a1(T,f.index),routesMeta:S})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of $T(f.path))u(f,m,!0,g)}),e}function $T(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=$T(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Ww(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:o1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var e1=/^:[\w-]+$/,t1=3,n1=2,i1=1,r1=10,s1=-2,aE=r=>r==="*";function a1(r,e){let n=r.split("/"),s=n.length;return n.some(aE)&&(s+=s1),e&&(s+=n1),n.filter(o=>!aE(o)).reduce((o,u)=>o+(e1.test(u)?t1:u===""?i1:r1),s)}function o1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function l1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ur([u,T.pathname]),pathnameBase:m1(ur([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ur([u,T.pathnameBase]))}return f}function Eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=u1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:T},S)=>{if(E==="*"){let Y=m[S]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const P=m[S];return T&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function u1(r,e=!1,n=!0){ai(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function c1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var h1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function f1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?la(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=oE(n.substring(1),"/"):u=oE(n,e)):u=e,{pathname:u,search:p1(s),hash:g1(o)}}function oE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XT(r){let e=d1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function JT(r,e,n,s=!1){let o;typeof r=="string"?o=la(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=f1(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var ur=r=>r.join("/").replace(/\/\/+/g,"/"),m1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),p1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,g1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,y1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function v1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ZT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function WT(r,e){let n=r;if(typeof n!="string"||!h1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(ZT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=hr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ai(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e0=["POST","PUT","PATCH","DELETE"];new Set(e0);var E1=["GET",...e0];new Set(E1);var wo=q.createContext(null);wo.displayName="DataRouter";var Fh=q.createContext(null);Fh.displayName="DataRouterState";var T1=q.createContext(!1),t0=q.createContext({isTransitioning:!1});t0.displayName="ViewTransition";var b1=q.createContext(new Map);b1.displayName="Fetchers";var A1=q.createContext(null);A1.displayName="Await";var qn=q.createContext(null);qn.displayName="Navigation";var hu=q.createContext(null);hu.displayName="Location";var ji=q.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var gp=q.createContext(null);gp.displayName="RouteError";var n0="REACT_ROUTER_ERROR",S1="REDIRECT",w1="ROUTE_ERROR_RESPONSE";function R1(r){if(r.startsWith(`${n0}:${S1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function I1(r){if(r.startsWith(`${n0}:${w1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new y1(e.status,e.statusText,e.data)}catch{}}function C1(r,{relative:e}={}){lt(fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(qn),{hash:o,pathname:u,search:f}=du(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ur([n,u])),s.createHref({pathname:m,search:f,hash:o})}function fu(){return q.useContext(hu)!=null}function ua(){return lt(fu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(hu).location}var i0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r0(r){q.useContext(qn).static||q.useLayoutEffect(r)}function s0(){let{isDataRoute:r}=q.useContext(ji);return r?q1():N1()}function N1(){lt(fu(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(wo),{basename:e,navigator:n}=q.useContext(qn),{matches:s}=q.useContext(ji),{pathname:o}=ua(),u=JSON.stringify(XT(s)),f=q.useRef(!1);return r0(()=>{f.current=!0}),q.useCallback((g,p={})=>{if(ai(f.current,i0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=JT(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ur([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}q.createContext(null);function D1(){let{matches:r}=q.useContext(ji),e=r[r.length-1];return e?e.params:{}}function du(r,{relative:e}={}){let{matches:n}=q.useContext(ji),{pathname:s}=ua(),o=JSON.stringify(XT(n));return q.useMemo(()=>JT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function x1(r,e){return a0(r,e)}function a0(r,e,n,s,o){lt(fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(qn),{matches:f}=q.useContext(ji),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let te=T&&T.path||"";l0(p,!T||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let S=ua(),P;if(e){let te=typeof e=="string"?la(e):e;lt(E==="/"||te.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),P=te}else P=S;let Y=P.pathname||"/",$=Y;if(E!=="/"){let te=E.replace(/^\//,"").split("/");$="/"+Y.replace(/^\//,"").split("/").slice(te.length).join("/")}let G=QT(r,{pathname:$});ai(T||G!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),ai(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=L1(G&&G.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:ur([E,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:ur([E,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),f,n,s,o);return e&&ne?q.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ne):ne}function O1(){let r=B1(),e=_1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var M1=q.createElement(O1,null),o0=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=I1(r.digest);n&&(r=n)}let e=r!==void 0?q.createElement(ji.Provider,{value:this.props.routeContext},q.createElement(gp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(V1,{error:r},e):e}};o0.contextType=T1;var Sm=new WeakMap;function V1({children:r,error:e}){let{basename:n}=q.useContext(qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=R1(e.digest);if(s){let o=Sm.get(e);if(o)throw o;let u=WT(s.location,n);if(ZT&&!Sm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Sm.set(e,f),f}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function k1({routeContext:r,match:e,children:n}){let s=q.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(ji.Provider,{value:r},n)}function L1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=E),T.route.id){let{loaderData:S,errors:P}=n,Y=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!P||P[T.route.id]===void 0);if(T.route.lazy||Y){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:v1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,S)=>{let P,Y=!1,$=null,G=null;n&&(P=f&&T.route.id?f[T.route.id]:void 0,$=T.route.errorElement||M1,m&&(g<0&&S===0?(l0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,G=null):g===S&&(Y=!0,G=T.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,S+1)),te=()=>{let re;return P?re=$:Y?re=G:T.route.Component?re=q.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=E,q.createElement(k1,{match:T,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?q.createElement(o0,{location:n.location,revalidation:n.revalidation,component:$,error:P,children:te(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:p}):te()},null)}function yp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P1(r){let e=q.useContext(wo);return lt(e,yp(r)),e}function U1(r){let e=q.useContext(Fh);return lt(e,yp(r)),e}function z1(r){let e=q.useContext(ji);return lt(e,yp(r)),e}function _p(r){let e=z1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function j1(){return _p("useRouteId")}function B1(){let r=q.useContext(gp),e=U1("useRouteError"),n=_p("useRouteError");return r!==void 0?r:e.errors?.[n]}function q1(){let{router:r}=P1("useNavigate"),e=_p("useNavigate"),n=q.useRef(!1);return r0(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{ai(n.current,i0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var lE={};function l0(r,e,n){!e&&!lE[r]&&(lE[r]=!0,ai(!1,n))}q.memo(H1);function H1({routes:r,future:e,state:n,onError:s}){return a0(r,void 0,n,s,e)}function Zr(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=la(n));let{pathname:p="/",search:E="",hash:T="",state:S=null,key:P="default"}=n,Y=q.useMemo(()=>{let $=hr(p,m);return $==null?null:{location:{pathname:$,search:E,hash:T,state:S,key:P},navigationType:s}},[m,p,E,T,S,P,s]);return ai(Y!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:q.createElement(qn.Provider,{value:g},q.createElement(hu.Provider,{children:e,value:Y}))}function G1({children:r,location:e}){return x1(Hm(r),e)}function Hm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Hm(s.props.children,u));return}lt(s.type===Zr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Hm(s.props.children,u)),n.push(f)}),n}var lh="get",uh="application/x-www-form-urlencoded";function Gh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function K1(r){return Gh(r)&&r.tagName.toLowerCase()==="button"}function Q1(r){return Gh(r)&&r.tagName.toLowerCase()==="form"}function Y1(r){return Gh(r)&&r.tagName.toLowerCase()==="input"}function $1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function X1(r,e){return r.button===0&&(!e||e==="_self")&&!$1(r)}var eh=null;function J1(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var Z1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wm(r){return r!=null&&!Z1.has(r)?(ai(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function W1(r,e){let n,s,o,u,f;if(Q1(r)){let m=r.getAttribute("action");s=m?hr(m,e):null,n=r.getAttribute("method")||lh,o=wm(r.getAttribute("enctype"))||uh,u=new FormData(r)}else if(K1(r)||Y1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?hr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||lh,o=wm(r.getAttribute("formenctype"))||wm(m.getAttribute("enctype"))||uh,u=new FormData(m,r),!J1()){let{name:p,type:E,value:T}=r;if(E==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,T)}}else{if(Gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=uh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function eR(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&hr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function tR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function iR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await tR(u,n);return f.links?f.links():[]}return[]}));return oR(s.flat(1).filter(nR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uE(r,e,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function rR(r,e,{includeHydrateFallback:n}={}){return sR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function sR(r){return[...new Set(r)]}function aR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function oR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(aR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function u0(){let r=q.useContext(wo);return vp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function lR(){let r=q.useContext(Fh);return vp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ep=q.createContext(void 0);Ep.displayName="FrameworkContext";function c0(){let r=q.useContext(Ep);return vp(r,"You must render this element inside a <HydratedRouter> element"),r}function uR(r,e){let n=q.useContext(Ep),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:T}=e,S=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=ne=>{ne.forEach(te=>{f(te.isIntersecting)})},G=new IntersectionObserver($,{threshold:.5});return S.current&&G.observe(S.current),()=>{G.disconnect()}}},[r]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let P=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Bl(m,P),onBlur:Bl(g,Y),onMouseEnter:Bl(p,P),onMouseLeave:Bl(E,Y),onTouchStart:Bl(T,P)}]:[!1,S,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function cR({page:r,...e}){let{router:n}=u0(),s=q.useMemo(()=>QT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(fR,{page:r,matches:s,...e}):null}function hR(r){let{manifest:e,routeModules:n}=c0(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return iR(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function fR({page:r,matches:e,...n}){let s=ua(),{future:o,manifest:u,routeModules:f}=c0(),{basename:m}=u0(),{loaderData:g,matches:p}=lR(),E=q.useMemo(()=>uE(r,e,p,u,s,"data"),[r,e,p,u,s]),T=q.useMemo(()=>uE(r,e,p,u,s,"assets"),[r,e,p,u,s]),S=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,G=!1;if(e.forEach(te=>{let re=u.routes[te.route.id];!re||!re.hasLoader||(!E.some(Ie=>Ie.route.id===te.route.id)&&te.route.id in g&&f[te.route.id]?.shouldRevalidate||re.hasClientLoader?G=!0:$.add(te.route.id))}),$.size===0)return[];let ne=eR(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&$.size>0&&ne.searchParams.set("_routes",e.filter(te=>$.has(te.route.id)).map(te=>te.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),P=q.useMemo(()=>rR(T,u),[T,u]),Y=hR(T);return q.createElement(q.Fragment,null,S.map($=>q.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),P.map($=>q.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),Y.map(({key:$,link:G})=>q.createElement("link",{key:$,nonce:n.nonce,...G,crossOrigin:G.crossOrigin??n.crossOrigin})))}function dR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mR&&(window.__reactRouterVersion="7.13.0")}catch{}function pR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=q.useRef();o.current==null&&(o.current=Yw({window:s,v5Compat:!0}));let u=o.current,[f,m]=q.useState({action:u.action,location:u.location}),g=q.useCallback(p=>{n===!1?m(p):q.startTransition(()=>m(p))},[n]);return q.useLayoutEffect(()=>u.listen(g),[u,g]),q.createElement(F1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tu=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...P},Y){let{basename:$,unstable_useTransitions:G}=q.useContext(qn),ne=typeof p=="string"&&h0.test(p),te=WT(p,$);p=te.to;let re=C1(p,{relative:o}),[Ie,Ce,Re]=uR(s,P),N=vR(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:G});function w(V){e&&e(V),V.defaultPrevented||N(V)}let R=q.createElement("a",{...P,...Re,href:te.absoluteURL||re,onClick:te.isExternal||u?e:w,ref:dR(Y,Ce),target:g,"data-discover":!ne&&n==="render"?"true":void 0});return Ie&&!ne?q.createElement(q.Fragment,null,R,q.createElement(cR,{page:re})):R});tu.displayName="Link";var gR=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let T=du(f,{relative:p.relative}),S=ua(),P=q.useContext(Fh),{navigator:Y,basename:$}=q.useContext(qn),G=P!=null&&SR(T)&&m===!0,ne=Y.encodeLocation?Y.encodeLocation(T).pathname:T.pathname,te=S.pathname,re=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(te=te.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&$&&(re=hr(re,$)||re);const Ie=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Ce=te===ne||!o&&te.startsWith(ne)&&te.charAt(Ie)==="/",Re=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),N={isActive:Ce,isPending:Re,isTransitioning:G},w=Ce?e:void 0,R;typeof s=="function"?R=s(N):R=[s,Ce?"active":null,Re?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(N):u;return q.createElement(tu,{...p,"aria-current":w,className:R,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(N):g)});gR.displayName="NavLink";var yR=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=lh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...P},Y)=>{let{unstable_useTransitions:$}=q.useContext(qn),G=bR(),ne=AR(m,{relative:p}),te=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&h0.test(m),Ie=Ce=>{if(g&&g(Ce),Ce.defaultPrevented)return;Ce.preventDefault();let Re=Ce.nativeEvent.submitter,N=Re?.getAttribute("formmethod")||f,w=()=>G(Re||Ce.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S});$&&n!==!1?q.startTransition(()=>w()):w()};return q.createElement("form",{ref:Y,method:te,action:ne,onSubmit:s?g:Ie,...P,"data-discover":!re&&r==="render"?"true":void 0})});yR.displayName="Form";function _R(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f0(r){let e=q.useContext(wo);return lt(e,_R(r)),e}function vR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=s0(),E=ua(),T=du(r,{relative:u});return q.useCallback(S=>{if(X1(S,e)){S.preventDefault();let P=n!==void 0?n:eu(E)===eu(T),Y=()=>p(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?q.startTransition(()=>Y()):Y()}},[E,p,T,n,s,e,r,o,u,f,m,g])}var ER=0,TR=()=>`__${String(++ER)}__`;function bR(){let{router:r}=f0("useSubmit"),{basename:e}=q.useContext(qn),n=j1(),s=r.fetch,o=r.navigate;return q.useCallback(async(u,f={})=>{let{action:m,method:g,encType:p,formData:E,body:T}=W1(u,e);if(f.navigate===!1){let S=f.fetcherKey||TR();await s(S,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||g,formEncType:f.encType||p,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||g,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function AR(r,{relative:e}={}){let{basename:n}=q.useContext(qn),s=q.useContext(ji);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(r||".",{relative:e})},f=ua();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ur([n,u.pathname])),eu(u)}function SR(r,{relative:e}={}){let n=q.useContext(t0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=f0("useViewTransitionState"),o=du(r,{relative:e});if(!n.isTransitioning)return!1;let u=hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,f)!=null||Eh(o.pathname,u)!=null}const wR=()=>{};var cE={};const d0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},RR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},m0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,P=p&63;g||(P=64,f||(S=64)),s.push(n[E],n[T],n[S],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(d0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||T==null)throw new IR;const S=u<<2|m>>4;if(s.push(S),p!==64){const P=m<<4&240|p>>2;if(s.push(P),T!==64){const Y=p<<6&192|T;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CR=function(r){const e=d0(r);return m0.encodeByteArray(e,!0)},Th=function(r){return CR(r).replace(/\./g,"")},p0=function(r){try{return m0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DR=()=>NR().__FIREBASE_DEFAULTS__,xR=()=>{if(typeof process>"u"||typeof cE>"u")return;const r=cE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},OR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&p0(r[1]);return e&&JSON.parse(e)},Kh=()=>{try{return wR()||DR()||xR()||OR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},g0=r=>Kh()?.emulatorHosts?.[r],MR=r=>{const e=g0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},y0=()=>Kh()?.config,_0=r=>Kh()?.[`_${r}`];class VR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v0(r){return(await fetch(r,{credentials:"include"})).ok}function kR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Th(JSON.stringify(n)),Th(JSON.stringify(f)),""].join(".")}const Ql={};function LR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function PR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let hE=!1;function E0(r,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Ql[r]===e||Ql[r]||hE)return;Ql[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=LR().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,P){S.setAttribute("width","24"),S.setAttribute("id",P),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{hE=!0,f()},S}function E(S,P){S.setAttribute("id",P),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=PR(s),P=n("text"),Y=document.getElementById(P)||document.createElement("span"),$=n("learnmore"),G=document.getElementById($)||document.createElement("a"),ne=n("preprendIcon"),te=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;m(re),E(G,$);const Ie=p();g(te,ne),re.append(te,Y,G,Ie),document.body.appendChild(re)}u?(Y.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function zR(){const r=Kh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function BR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qR(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function HR(){return!zR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b0(){try{return typeof indexedDB=="object"}catch{return!1}}function A0(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function FR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const GR="FirebaseError";class ui extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=GR,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ca.prototype.create)}}class ca{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?KR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ui(o,m,s)}}function KR(r,e){return r.replace(QR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const QR=/\{\$([^}]+)}/g;function YR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function fr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(fE(u)&&fE(f)){if(!fr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function fE(r){return r!==null&&typeof r=="object"}function mu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $R(r,e){const n=new XR(r,e);return n.subscribe.bind(n)}class XR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");JR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Rm),o.error===void 0&&(o.error=Rm),o.complete===void 0&&(o.complete=Rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Rm(){}const ZR=1e3,WR=2,eI=14400*1e3,tI=.5;function dE(r,e=ZR,n=WR){const s=e*Math.pow(n,r),o=Math.round(tI*s*(Math.random()-.5)*2);return Math.min(eI,s+o)}function _t(r){return r&&r._delegate?r._delegate:r}class oi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class nI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new VR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rI(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iI(r){return r===$s?void 0:r}function rI(r){return r.instantiationMode==="EAGER"}class sI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const aI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},oI=Me.INFO,lI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},uI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=lI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qh{constructor(e){this.name=e,this._logLevel=oI,this._logHandler=uI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const cI=(r,e)=>e.some(n=>r instanceof n);let mE,pE;function hI(){return mE||(mE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fI(){return pE||(pE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Fm=new WeakMap,w0=new WeakMap,Im=new WeakMap,Tp=new WeakMap;function dI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(is(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&S0.set(n,r)}).catch(()=>{}),Tp.set(e,r),e}function mI(r){if(Fm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fm.set(r,e)}let Gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||w0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function pI(r){Gm=r(Gm)}function gI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Cm(this),e,...n);return w0.set(s,e.sort?e.sort():[e]),is(s)}:fI().includes(r)?function(...e){return r.apply(Cm(this),e),is(S0.get(this))}:function(...e){return is(r.apply(Cm(this),e))}}function yI(r){return typeof r=="function"?gI(r):(r instanceof IDBTransaction&&mI(r),cI(r,hI())?new Proxy(r,Gm):r)}function is(r){if(r instanceof IDBRequest)return dI(r);if(Im.has(r))return Im.get(r);const e=yI(r);return e!==r&&(Im.set(r,e),Tp.set(e,r)),e}const Cm=r=>Tp.get(r);function R0(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=is(f);return s&&f.addEventListener("upgradeneeded",g=>{s(is(f.result),g.oldVersion,g.newVersion,is(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const _I=["get","getKey","getAll","getAllKeys","count"],vI=["put","add","delete","clear"],Nm=new Map;function gE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=vI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_I.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Nm.set(e,u),u}pI(r=>({...r,get:(e,n,s)=>gE(e,n)||r.get(e,n,s),has:(e,n)=>!!gE(e,n)||r.has(e,n)}));class EI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TI(r){return r.getComponent()?.type==="VERSION"}const Km="@firebase/app",yE="0.14.7";const dr=new Qh("@firebase/app"),bI="@firebase/app-compat",AI="@firebase/analytics-compat",SI="@firebase/analytics",wI="@firebase/app-check-compat",RI="@firebase/app-check",II="@firebase/auth",CI="@firebase/auth-compat",NI="@firebase/database",DI="@firebase/data-connect",xI="@firebase/database-compat",OI="@firebase/functions",MI="@firebase/functions-compat",VI="@firebase/installations",kI="@firebase/installations-compat",LI="@firebase/messaging",PI="@firebase/messaging-compat",UI="@firebase/performance",zI="@firebase/performance-compat",jI="@firebase/remote-config",BI="@firebase/remote-config-compat",qI="@firebase/storage",HI="@firebase/storage-compat",FI="@firebase/firestore",GI="@firebase/ai",KI="@firebase/firestore-compat",QI="firebase",YI="12.8.0";const Qm="[DEFAULT]",$I={[Km]:"fire-core",[bI]:"fire-core-compat",[SI]:"fire-analytics",[AI]:"fire-analytics-compat",[RI]:"fire-app-check",[wI]:"fire-app-check-compat",[II]:"fire-auth",[CI]:"fire-auth-compat",[NI]:"fire-rtdb",[DI]:"fire-data-connect",[xI]:"fire-rtdb-compat",[OI]:"fire-fn",[MI]:"fire-fn-compat",[VI]:"fire-iid",[kI]:"fire-iid-compat",[LI]:"fire-fcm",[PI]:"fire-fcm-compat",[UI]:"fire-perf",[zI]:"fire-perf-compat",[jI]:"fire-rc",[BI]:"fire-rc-compat",[qI]:"fire-gcs",[HI]:"fire-gcs-compat",[FI]:"fire-fst",[KI]:"fire-fst-compat",[GI]:"fire-vertex","fire-js":"fire-js",[QI]:"fire-js-all"};const bh=new Map,XI=new Map,Ym=new Map;function _E(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Pi(r){const e=r.name;if(Ym.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,r);for(const n of bh.values())_E(n,r);for(const n of XI.values())_E(n,r);return!0}function ha(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ti(r){return r==null?!1:r.settings!==void 0}const JI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new ca("app","Firebase",JI);class ZI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const Io=YI;function I0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Qm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=y0()),!n)throw rs.create("no-options");const u=bh.get(o);if(u){if(fr(n,u.options)&&fr(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const f=new sI(o);for(const g of Ym.values())f.addComponent(g);const m=new ZI(n,s,f);return bh.set(o,m),m}function bp(r=Qm){const e=bh.get(r);if(!e&&r===Qm&&y0())return I0();if(!e)throw rs.create("no-app",{appName:r});return e}function jn(r,e,n){let s=$I[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(f.join(" "));return}Pi(new oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const WI="firebase-heartbeat-database",eC=1,nu="firebase-heartbeat-store";let Dm=null;function C0(){return Dm||(Dm=R0(WI,eC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function tC(r){try{const n=(await C0()).transaction(nu),s=await n.objectStore(nu).get(N0(r));return await n.done,s}catch(e){if(e instanceof ui)dr.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function vE(r,e){try{const s=(await C0()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,N0(r)),await s.done}catch(n){if(n instanceof ui)dr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function N0(r){return`${r.name}!${r.options.appId}`}const nC=1024,iC=30;class rC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>iC){const o=oC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=EE(),{heartbeatsToSend:n,unsentEntries:s}=sC(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return dr.warn(e),""}}}function EE(){return new Date().toISOString().substring(0,10)}function sC(r,e=nC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),TE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),TE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class aC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b0()?A0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function TE(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function oC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function lC(r){Pi(new oi("platform-logger",e=>new EI(e),"PRIVATE")),Pi(new oi("heartbeat",e=>new rC(e),"PRIVATE")),jn(Km,yE,r),jn(Km,yE,"esm2020"),jn("fire-js","")}lC("");function D0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uC=D0,x0=new ca("auth","Firebase",D0());const Ah=new Qh("@firebase/auth");function cC(r,...e){Ah.logLevel<=Me.WARN&&Ah.warn(`Auth (${Io}): ${r}`,...e)}function ch(r,...e){Ah.logLevel<=Me.ERROR&&Ah.error(`Auth (${Io}): ${r}`,...e)}function Ui(r,...e){throw Sp(r,...e)}function ii(r,...e){return Sp(r,...e)}function Ap(r,e,n){const s={...uC(),[e]:n};return new ca("auth","Firebase",s).create(e,{appName:r.name})}function Ws(r){return Ap(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hC(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ui(r,"argument-error"),Ap(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return x0.create(r,...e)}function ye(r,e,...n){if(!r)throw Sp(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function mr(r,e){r||or(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function fC(){return bE()==="http:"||bE()==="https:"}function bE(){return typeof self<"u"&&self.location?.protocol||null}function dC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fC()||T0()||"connection"in navigator)?navigator.onLine:!0}function mC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=UR()||BR()}get(){return dC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wp(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class O0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yC=new pu(3e4,6e4);function Rp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Co(r,e,n,s,o={}){return M0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=mu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return jR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(p.credentials="include"),O0.fetch()(await V0(r,r.config.apiHost,n,m),p)})}async function M0(r,e,n){r._canInitEmulator=!1;const s={...pC,...e};try{const o=new vC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw th(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw th(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ap(r,E,p);Ui(r,E)}}catch(o){if(o instanceof ui)throw o;Ui(r,"network-request-failed",{message:String(o)})}}async function _C(r,e,n,s,o={}){const u=await Co(r,e,n,s,o);return"mfaPendingCredential"in u&&Ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function V0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?wp(r.config,o):`${r.config.apiScheme}://${o}`;return gC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class vC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),yC.get())})}}function th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ii(r,e,s);return o.customData._tokenResponse=n,o}async function EC(r,e){return Co(r,"POST","/v1/accounts:delete",e)}async function Sh(r,e){return Co(r,"POST","/v1/accounts:lookup",e)}function Yl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TC(r,e=!1){const n=_t(r),s=await n.getIdToken(e),o=Ip(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Yl(xm(o.auth_time)),issuedAtTime:Yl(xm(o.iat)),expirationTime:Yl(xm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function xm(r){return Number(r)*1e3}function Ip(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=p0(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function AE(r){const e=Ip(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function iu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ui&&bC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function bC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class AC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wh(r){const e=r.auth,n=await r.getIdToken(),s=await iu(r,Sh(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?k0(o.providerUserInfo):[],f=wC(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function SC(r){const e=_t(r);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function k0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function RC(r,e){const n=await M0(r,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await V0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(g.credentials="include"),O0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IC(r,e){return Co(r,"POST","/v2/accounts:revokeToken",Rp(r,e))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=AE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await RC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new uo;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return or("not implemented")}}function Jr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new AC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TC(this,e)}reload(){return SC(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Ws(this.auth));const e=await this.getIdToken();return await iu(this,EC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:P,providerData:Y,stsTokenManager:$}=n;ye(T&&$,e,"internal-error");const G=uo.fromJSON(this.name,$);ye(typeof T=="string",e,"internal-error"),Jr(s,e.name),Jr(o,e.name),ye(typeof S=="boolean",e,"internal-error"),ye(typeof P=="boolean",e,"internal-error"),Jr(u,e.name),Jr(f,e.name),Jr(m,e.name),Jr(g,e.name),Jr(p,e.name),Jr(E,e.name);const ne=new ni({uid:T,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:p,lastLoginAt:E});return Y&&Array.isArray(Y)&&(ne.providerData=Y.map(te=>({...te}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?k0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new uo;m.updateFromIdToken(s);const g=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const SE=new Map;function lr(r){mr(r instanceof Function,"Expected a class definition");let e=SE.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,SE.set(r,e),e)}class L0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}L0.type="NONE";const wE=L0;function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(lr(wE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||lr(wE);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let T;if(typeof E=="string"){const S=await Sh(e,{idToken:E}).catch(()=>{});if(!S)break;T=await ni._fromGetAccountInfoResponse(e,S,E)}else T=ni._fromJSON(e,E);p!==u&&(m=T),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new co(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new co(u,e,s))}}function RE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q0(e))return"Blackberry";if(H0(e))return"Webos";if(U0(e))return"Safari";if((e.includes("chrome/")||z0(e))&&!e.includes("edge/"))return"Chrome";if(B0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function P0(r=Wt()){return/firefox\//i.test(r)}function U0(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z0(r=Wt()){return/crios\//i.test(r)}function j0(r=Wt()){return/iemobile/i.test(r)}function B0(r=Wt()){return/android/i.test(r)}function q0(r=Wt()){return/blackberry/i.test(r)}function H0(r=Wt()){return/webos/i.test(r)}function Cp(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function CC(r=Wt()){return Cp(r)&&!!window.navigator?.standalone}function NC(){return qR()&&document.documentMode===10}function F0(r=Wt()){return Cp(r)||B0(r)||H0(r)||q0(r)||/windows phone/i.test(r)||j0(r)}function G0(r,e=[]){let n;switch(r){case"Browser":n=RE(Wt());break;case"Worker":n=`${RE(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}class DC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function xC(r,e={}){return Co(r,"GET","/v2/passwordPolicy",Rp(r,e))}const OC=6;class MC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??OC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class VC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new DC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Ws(this));const n=e?_t(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xC(this),n=new MC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ca("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await IC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yh(r){return _t(r)}class IE{constructor(e){this.auth=e,this.observer=null,this.addObserver=$R(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kC(r){Np=r}function LC(r){return Np.loadJS(r)}function PC(){return Np.gapiScript}function UC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function zC(r,e){const n=ha(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(fr(u,e??{}))return o;Ui(o,"already-initialized")}return n.initialize({options:e})}function jC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function BC(r,e,n){const s=Yh(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=K0(e),{host:f,port:m}=qC(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(fr(p,s.config.emulator)&&fr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ro(f)?(v0(`${u}//${f}${g}`),E0("Auth",!0)):HC()}function K0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function qC(r){const e=K0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:CE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:CE(f)}}}function CE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function HC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Q0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function ho(r,e){return _C(r,"POST","/v1/accounts:signInWithIdp",Rp(r,e))}const FC="http://localhost";class na extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new na(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:FC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}class Dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends gu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class ar extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ar.credential(n,s)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class es extends gu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ts extends gu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),f=NE(s);return new go({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=NE(s);return new go({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function NE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Rh extends ui{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Rh(e,n,s,o)}}function Y0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(r,u,e,s):u})}async function GC(r,e,n=!1){const s=await iu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return go._forOperation(r,"link",s)}async function KC(r,e,n=!1){const{auth:s}=r;if(ti(s.app))return Promise.reject(Ws(s));const o="reauthenticate";try{const u=await iu(r,Y0(s,o,e,r),n);ye(u.idToken,s,"internal-error");const f=Ip(u.idToken);ye(f,s,"internal-error");const{sub:m}=f;return ye(r.uid===m,s,"user-mismatch"),go._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ui(s,"user-mismatch"),u}}async function QC(r,e,n=!1){if(ti(r.app))return Promise.reject(Ws(r));const s="signIn",o=await Y0(r,s,e),u=await go._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function YC(r,e,n,s){return _t(r).onIdTokenChanged(e,n,s)}function $C(r,e,n){return _t(r).beforeAuthStateChanged(e,n)}function XC(r,e,n,s){return _t(r).onAuthStateChanged(e,n,s)}function JC(r){return _t(r).signOut()}const Ih="__sak";class $0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ZC=1e3,WC=10;class X0 extends $0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);NC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}X0.type="LOCAL";const e2=X0;class J0 extends $0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}J0.type="SESSION";const Z0=J0;function t2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new $h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await t2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];function xp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class n2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=xp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Mi(){return window}function i2(r){Mi().location.href=r}function W0(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function r2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s2(){return navigator?.serviceWorker?.controller||null}function a2(){return W0()?self:null}const eb="firebaseLocalStorageDb",o2=1,Ch="firebaseLocalStorage",tb="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function l2(){const r=indexedDB.deleteDatabase(eb);return new yu(r).toPromise()}function Jm(){const r=indexedDB.open(eb,o2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:tb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await l2(),e(await Jm()))})})}async function DE(r,e,n){const s=Xh(r,!0).put({[tb]:e,value:n});return new yu(s).toPromise()}async function u2(r,e){const n=Xh(r,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function xE(r,e){const n=Xh(r,!0).delete(e);return new yu(n).toPromise()}const c2=800,h2=3;class nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>h2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(a2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await r2(),!this.activeServiceWorker)return;this.sender=new n2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await DE(e,Ih,"1"),await xE(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>DE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>u2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nb.type="LOCAL";const f2=nb;new pu(3e4,6e4);function ib(r,e){return e?lr(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Op extends Q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d2(r){return QC(r.auth,new Op(r),r.bypassAuthState)}function m2(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),KC(n,new Op(r),r.bypassAuthState)}async function p2(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),GC(n,new Op(r),r.bypassAuthState)}class rb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d2;case"linkViaPopup":case"linkViaRedirect":return p2;case"reauthViaPopup":case"reauthViaRedirect":return m2;default:Ui(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const g2=new pu(2e3,1e4);async function y2(r,e,n){if(ti(r.app))return Promise.reject(ii(r,"operation-not-supported-in-this-environment"));const s=Yh(r);hC(r,e,Dp);const o=ib(s,n);return new Xs(s,"signInViaPopup",e,o).executeNotNull()}class Xs extends rb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g2.get())};e()}}Xs.currentPopupAction=null;const _2="pendingRedirect",fh=new Map;class v2 extends rb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await E2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E2(r,e){const n=A2(e),s=b2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function T2(r,e){fh.set(r._key(),e)}function b2(r){return lr(r._redirectPersistence)}function A2(r){return hh(_2,r.config.apiKey,r.name)}async function S2(r,e,n=!1){if(ti(r.app))return Promise.reject(Ws(r));const s=Yh(r),o=ib(s,e),f=await new v2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const w2=600*1e3;class R2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!sb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ii(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w2&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(e))}saveEventToCache(e){this.cachedEventUids.add(OE(e)),this.lastProcessedEventTime=Date.now()}}function OE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function I2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sb(r);default:return!1}}async function C2(r,e={}){return Co(r,"GET","/v1/projects",e)}const N2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D2=/^https?/;async function x2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await C2(r);for(const n of e)try{if(O2(n))return}catch{}Ui(r,"unauthorized-domain")}function O2(r){const e=$m(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!D2.test(n))return!1;if(N2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const M2=new pu(3e4,6e4);function ME(){const r=Mi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function V2(r){return new Promise((e,n)=>{function s(){ME(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ME(),n(ii(r,"network-request-failed"))},timeout:M2.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=UC("iframefcb");return Mi()[o]=()=>{gapi.load?s():n(ii(r,"network-request-failed"))},LC(`${PC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}let dh=null;function k2(r){return dh=dh||V2(r),dh}const L2=new pu(5e3,15e3),P2="__/auth/iframe",U2="emulator/auth/iframe",z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B2(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?wp(e,U2):`https://${r.config.authDomain}/${P2}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=j2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function q2(r){const e=await k2(r),n=Mi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:B2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ii(r,"network-request-failed"),m=Mi().setTimeout(()=>{u(f)},L2.get());function g(){Mi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const H2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F2=500,G2=600,K2="_blank",Q2="http://localhost";class VE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y2(r,e,n,s=F2,o=G2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...H2,width:s.toString(),height:o.toString(),top:u,left:f},p=Wt().toLowerCase();n&&(m=z0(p)?K2:n),P0(p)&&(e=e||Q2,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[P,Y])=>`${S}${P}=${Y},`,"");if(CC(p)&&m!=="_self")return $2(e||"",m),new VE(null);const T=window.open(e||"",m,E);ye(T,r,"popup-blocked");try{T.focus()}catch{}return new VE(T)}function $2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const X2="__/auth/handler",J2="emulator/auth/handler",Z2=encodeURIComponent("fac");async function kE(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Io,eventId:o};if(e instanceof Dp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",YR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof gu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${Z2}=${encodeURIComponent(g)}`:"";return`${W2(r)}?${mu(m).slice(1)}${p}`}function W2({config:r}){return r.emulator?wp(r,J2):`https://${r.authDomain}/${X2}`}const Om="webStorageSupport";class eN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=S2,this._overrideRedirectResult=T2}async _openPopup(e,n,s,o){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await kE(e,n,s,$m(),o);return Y2(e,u,xp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await kE(e,n,s,$m(),o);return i2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await q2(e),s=new R2(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{const u=o?.[0]?.[Om];u!==void 0&&n(!!u),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F0()||U0()||Cp()}}const tN=eN;var LE="@firebase/auth",PE="1.12.0";class nN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function iN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rN(r){Pi(new oi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G0(r)},p=new VC(s,o,u,g);return jC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Pi(new oi("auth-internal",e=>{const n=Yh(e.getProvider("auth").getImmediate());return(s=>new nN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(LE,PE,iN(r)),jn(LE,PE,"esm2020")}const sN=300,aN=_0("authIdTokenMaxAge")||sN;let UE=null;const oN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aN)return;const o=n?.token;UE!==o&&(UE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lN(r=bp()){const e=ha(r,"auth");if(e.isInitialized())return e.getImmediate();const n=zC(r,{popupRedirectResolver:tN,persistence:[f2,e2,Z0]}),s=_0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=oN(u.toString());$C(n,f,()=>f(n.currentUser)),YC(n,m=>f(m))}}const o=g0("auth");return o&&BC(n,`http://${o}`),n}function uN(){return document.getElementsByTagName("head")?.[0]??document}kC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",uN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rN("Browser");function cN(r,e,n,s){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(E){try{p(s.next(E))}catch(T){f(T)}}function g(E){try{p(s.throw(E))}catch(T){f(T)}}function p(E){E.done?u(E.value):o(E.value).then(m,g)}p((s=s.apply(r,[])).next())})}function hN(r,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(p){return function(E){return g([p,E])}}function g(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){n.label=p[1];break}if(p[0]===6&&n.label<u[1]){n.label=u[1],u=p;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(p);break}u[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(r,n)}catch(E){p=[6,E],o=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var lo=function(){return lo=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},lo.apply(this,arguments)},ab=function(r){return{loading:r==null,value:r}},fN=function(){return function(r,e){switch(e.type){case"error":return lo(lo({},r),{error:e.error,loading:!1,value:void 0});case"reset":return ab(e.defaultValue);case"value":return lo(lo({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},dN=(function(r){var e=r?r():void 0,n=q.useReducer(fN(),ab(e)),s=n[0],o=n[1],u=q.useCallback(function(){var g=r?r():void 0;o({type:"reset",defaultValue:g})},[r]),f=q.useCallback(function(g){o({type:"error",error:g})},[]),m=q.useCallback(function(g){o({type:"value",value:g})},[]);return q.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:f,setValue:m,value:s.value}},[s.error,s.loading,u,f,m,s.value])}),mN=(function(r,e){var n=dN(function(){return r.currentUser}),s=n.error,o=n.loading,u=n.setError,f=n.setValue,m=n.value;return q.useEffect(function(){var g=XC(r,function(p){return cN(void 0,void 0,void 0,function(){var E;return hN(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return T.sent(),[3,4];case 3:return E=T.sent(),u(E),[3,4];case 4:return f(p),[2]}})})},u);return function(){g()}},[r]),[m,o,s]}),pN="firebase",gN="12.8.0";jn(pN,gN,"app");const ob="@firebase/installations",Mp="0.6.19";const lb=1e4,ub=`w:${Mp}`,cb="FIS_v2",yN="https://firebaseinstallations.googleapis.com/v1",_N=3600*1e3,vN="installations",EN="Installations";const TN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ia=new ca(vN,EN,TN);function hb(r){return r instanceof ui&&r.code.includes("request-failed")}function fb({projectId:r}){return`${yN}/projects/${r}/installations`}function db(r){return{token:r.token,requestStatus:2,expiresIn:AN(r.expiresIn),creationTime:Date.now()}}async function mb(r,e){const s=(await e.json()).error;return ia.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function pb({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function bN(r,{refreshToken:e}){const n=pb(r);return n.append("Authorization",SN(e)),n}async function gb(r){const e=await r();return e.status>=500&&e.status<600?r():e}function AN(r){return Number(r.replace("s","000"))}function SN(r){return`${cb} ${r}`}async function wN({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=fb(r),o=pb(r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={fid:n,authVersion:cb,appId:r.appId,sdkVersion:ub},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await gb(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:db(p.authToken)}}else throw await mb("Create Installation",g)}function yb(r){return new Promise(e=>{setTimeout(e,r)})}function RN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const IN=/^[cdef][\w-]{21}$/,Zm="";function CN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=NN(r);return IN.test(n)?n:Zm}catch{return Zm}}function NN(r){return RN(r).substr(0,22)}function Jh(r){return`${r.appName}!${r.appId}`}const _b=new Map;function vb(r,e){const n=Jh(r);Eb(n,e),DN(n,e)}function Eb(r,e){const n=_b.get(r);if(n)for(const s of n)s(e)}function DN(r,e){const n=xN();n&&n.postMessage({key:r,fid:e}),ON()}let Js=null;function xN(){return!Js&&"BroadcastChannel"in self&&(Js=new BroadcastChannel("[Firebase] FID Change"),Js.onmessage=r=>{Eb(r.data.key,r.data.fid)}),Js}function ON(){_b.size===0&&Js&&(Js.close(),Js=null)}const MN="firebase-installations-database",VN=1,ra="firebase-installations-store";let Mm=null;function Vp(){return Mm||(Mm=R0(MN,VN,{upgrade:(r,e)=>{e===0&&r.createObjectStore(ra)}})),Mm}async function Nh(r,e){const n=Jh(r),o=(await Vp()).transaction(ra,"readwrite"),u=o.objectStore(ra),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&vb(r,e.fid),e}async function Tb(r){const e=Jh(r),s=(await Vp()).transaction(ra,"readwrite");await s.objectStore(ra).delete(e),await s.done}async function Zh(r,e){const n=Jh(r),o=(await Vp()).transaction(ra,"readwrite"),u=o.objectStore(ra),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&vb(r,m.fid),m}async function kp(r){let e;const n=await Zh(r.appConfig,s=>{const o=kN(s),u=LN(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Zm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kN(r){const e=r||{fid:CN(),registrationStatus:0};return bb(e)}function LN(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ia.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=PN(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UN(r)}:{installationEntry:e}}async function PN(r,e){try{const n=await wN(r,e);return Nh(r.appConfig,n)}catch(n){throw hb(n)&&n.customData.serverCode===409?await Tb(r.appConfig):await Nh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function UN(r){let e=await zE(r.appConfig);for(;e.registrationStatus===1;)await yb(100),e=await zE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await kp(r);return s||n}return e}function zE(r){return Zh(r,e=>{if(!e)throw ia.create("installation-not-found");return bb(e)})}function bb(r){return zN(r)?{fid:r.fid,registrationStatus:0}:r}function zN(r){return r.registrationStatus===1&&r.registrationTime+lb<Date.now()}async function jN({appConfig:r,heartbeatServiceProvider:e},n){const s=BN(r,n),o=bN(r,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={installation:{sdkVersion:ub,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await gb(()=>fetch(s,m));if(g.ok){const p=await g.json();return db(p)}else throw await mb("Generate Auth Token",g)}function BN(r,{fid:e}){return`${fb(r)}/${e}/authTokens:generate`}async function Lp(r,e=!1){let n;const s=await Zh(r.appConfig,u=>{if(!Ab(u))throw ia.create("not-registered");const f=u.authToken;if(!e&&FN(f))return u;if(f.requestStatus===1)return n=qN(r,e),u;{if(!navigator.onLine)throw ia.create("app-offline");const m=KN(u);return n=HN(r,m),m}});return n?await n:s.authToken}async function qN(r,e){let n=await jE(r.appConfig);for(;n.authToken.requestStatus===1;)await yb(100),n=await jE(r.appConfig);const s=n.authToken;return s.requestStatus===0?Lp(r,e):s}function jE(r){return Zh(r,e=>{if(!Ab(e))throw ia.create("not-registered");const n=e.authToken;return QN(n)?{...e,authToken:{requestStatus:0}}:e})}async function HN(r,e){try{const n=await jN(r,e),s={...e,authToken:n};return await Nh(r.appConfig,s),n}catch(n){if(hb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Tb(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Nh(r.appConfig,s)}throw n}}function Ab(r){return r!==void 0&&r.registrationStatus===2}function FN(r){return r.requestStatus===2&&!GN(r)}function GN(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+_N}function KN(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function QN(r){return r.requestStatus===1&&r.requestTime+lb<Date.now()}async function YN(r){const e=r,{installationEntry:n,registrationPromise:s}=await kp(e);return s?s.catch(console.error):Lp(e).catch(console.error),n.fid}async function $N(r,e=!1){const n=r;return await XN(n),(await Lp(n,e)).token}async function XN(r){const{registrationPromise:e}=await kp(r);e&&await e}function JN(r){if(!r||!r.options)throw Vm("App Configuration");if(!r.name)throw Vm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Vm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Vm(r){return ia.create("missing-app-config-values",{valueName:r})}const Sb="installations",ZN="installations-internal",WN=r=>{const e=r.getProvider("app").getImmediate(),n=JN(e),s=ha(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},eD=r=>{const e=r.getProvider("app").getImmediate(),n=ha(e,Sb).getImmediate();return{getId:()=>YN(n),getToken:o=>$N(n,o)}};function tD(){Pi(new oi(Sb,WN,"PUBLIC")),Pi(new oi(ZN,eD,"PRIVATE"))}tD();jn(ob,Mp);jn(ob,Mp,"esm2020");const Dh="analytics",nD="firebase_id",iD="origin",rD=60*1e3,sD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pp="https://www.googletagmanager.com/gtag/js";const rn=new Qh("@firebase/analytics");const aD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new ca("analytics","Analytics",aD);function oD(r){if(!r.startsWith(Pp)){const e=wn.create("invalid-gtag-resource",{gtagURL:r});return rn.warn(e.message),""}return r}function wb(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function lD(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function uD(r,e){const n=lD("firebase-js-sdk-policy",{createScriptURL:oD}),s=document.createElement("script"),o=`${Pp}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function cD(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function hD(r,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const g=(await wb(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){rn.error(m)}r("config",o,u)}async function fD(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await wb(n);for(const g of f){const p=m.find(T=>T.measurementId===g),E=p&&e[p.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){rn.error(u)}}function dD(r,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,g]=f;await fD(r,e,n,m,g)}else if(u==="config"){const[m,g]=f;await hD(r,e,n,s,m,g)}else if(u==="consent"){const[m,g]=f;r("consent",m,g)}else if(u==="get"){const[m,g,p]=f;r("get",m,g,p)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){rn.error(m)}}return o}function mD(r,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=dD(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function pD(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Pp)&&n.src.includes(r))return n;return null}const gD=30,yD=1e3;class _D{constructor(e={},n=yD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Rb=new _D;function vD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function ED(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:vD(n)},o=sD.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function TD(r,e=Rb,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw wn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw wn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new SD;return setTimeout(async()=>{m.abort()},rD),Ib({appId:s,apiKey:o,measurementId:u},f,m,e)}async function Ib(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=Rb){const{appId:u,measurementId:f}=r;try{await bD(s,e)}catch(m){if(f)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await ED(r);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!AD(g)){if(o.deleteThrottleMetadata(u),f)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw m}const p=Number(g?.customData?.httpStatus)===503?dE(n,o.intervalMillis,gD):dE(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(u,E),rn.debug(`Calling attemptFetch again in ${p} millis`),Ib(r,E,s,o)}}function bD(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function AD(r){if(!(r instanceof ui)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class SD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function wD(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,f={...s,send_to:u};r("event",n,f)}}async function RD(r,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function ID(){if(b0())try{await A0()}catch(r){return rn.warn(wn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return rn.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function CD(r,e,n,s,o,u,f){const m=TD(r);m.then(S=>{n[S.measurementId]=S.appId,r.options.measurementId&&S.measurementId!==r.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>rn.error(S)),e.push(m);const g=ID().then(S=>{if(S)return s.getId()}),[p,E]=await Promise.all([m,g]);pD(u)||uD(u,p.measurementId),o("js",new Date);const T=f?.config??{};return T[iD]="firebase",T.update=!0,E!=null&&(T[nD]=E),o("config",p.measurementId,T),p.measurementId}class ND{constructor(e){this.app=e}_delete(){return delete fo[this.app.options.appId],Promise.resolve()}}let fo={},BE=[];const qE={};let km="dataLayer",DD="gtag",HE,Up,FE=!1;function xD(){const r=[];if(T0()&&r.push("This is a browser extension environment."),FR()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}function OD(r,e,n){xD();const s=r.options.appId;if(!s)throw wn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(fo[s]!=null)throw wn.create("already-exists",{id:s});if(!FE){cD(km);const{wrappedGtag:u,gtagCore:f}=mD(fo,BE,qE,km,DD);Up=u,HE=f,FE=!0}return fo[s]=CD(r,BE,qE,e,HE,km,n),new ND(r)}function MD(r=bp()){r=_t(r);const e=ha(r,Dh);return e.isInitialized()?e.getImmediate():VD(r)}function VD(r,e={}){const n=ha(r,Dh);if(n.isInitialized()){const o=n.getImmediate();if(fr(e,n.getOptions()))return o;throw wn.create("already-initialized")}return n.initialize({options:e})}function kD(r,e,n){r=_t(r),RD(Up,fo[r.app.options.appId],e,n).catch(s=>rn.error(s))}function LD(r,e,n,s){r=_t(r),wD(Up,fo[r.app.options.appId],e,n,s).catch(o=>rn.error(o))}const GE="@firebase/analytics",KE="0.10.19";function PD(){Pi(new oi(Dh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return OD(s,o,n)},"PUBLIC")),Pi(new oi("analytics-internal",r,"PRIVATE")),jn(GE,KE),jn(GE,KE,"esm2020");function r(e){try{const n=e.getProvider(Dh).getImmediate();return{logEvent:(s,o,u)=>LD(n,s,o,u),setUserProperties:(s,o)=>kD(n,s,o)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}}}PD();var QE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,Cb;(function(){var r;function e(N,w){function R(){}R.prototype=w.prototype,N.F=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,x,L){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return w.prototype[x].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)V[x]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(x=0;x<16;++x)V[x]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],x=N.g[2];let L=N.g[3],I;I=w+(L^R&(x^L))+V[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(x^w&(R^x))+V[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(R^L&(w^R))+V[2]+606105819&4294967295,x=L+(I<<17&4294967295|I>>>15),I=R+(w^x&(L^w))+V[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(L^R&(x^L))+V[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(x^w&(R^x))+V[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(R^L&(w^R))+V[6]+2821735955&4294967295,x=L+(I<<17&4294967295|I>>>15),I=R+(w^x&(L^w))+V[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(L^R&(x^L))+V[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(x^w&(R^x))+V[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(R^L&(w^R))+V[10]+4294925233&4294967295,x=L+(I<<17&4294967295|I>>>15),I=R+(w^x&(L^w))+V[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(L^R&(x^L))+V[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(x^w&(R^x))+V[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(R^L&(w^R))+V[14]+2792965006&4294967295,x=L+(I<<17&4294967295|I>>>15),I=R+(w^x&(L^w))+V[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=w+(x^L&(R^x))+V[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^x&(w^R))+V[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(L^w))+V[11]+643717713&4294967295,x=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(x^L))+V[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(R^x))+V[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^x&(w^R))+V[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(L^w))+V[15]+3634488961&4294967295,x=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(x^L))+V[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(R^x))+V[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^x&(w^R))+V[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(L^w))+V[3]+4107603335&4294967295,x=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(x^L))+V[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(R^x))+V[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^x&(w^R))+V[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^R&(L^w))+V[7]+1735328473&4294967295,x=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(x^L))+V[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=w+(R^x^L)+V[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^x)+V[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^R)+V[11]+1839030562&4294967295,x=L+(I<<16&4294967295|I>>>16),I=R+(x^L^w)+V[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(R^x^L)+V[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^x)+V[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^R)+V[7]+4139469664&4294967295,x=L+(I<<16&4294967295|I>>>16),I=R+(x^L^w)+V[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(R^x^L)+V[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^x)+V[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^R)+V[3]+3572445317&4294967295,x=L+(I<<16&4294967295|I>>>16),I=R+(x^L^w)+V[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(R^x^L)+V[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^x)+V[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^R)+V[15]+530742520&4294967295,x=L+(I<<16&4294967295|I>>>16),I=R+(x^L^w)+V[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=w+(x^(R|~L))+V[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~x))+V[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~R))+V[14]+2878612391&4294967295,x=L+(I<<15&4294967295|I>>>17),I=R+(L^(x|~w))+V[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=w+(x^(R|~L))+V[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~x))+V[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~R))+V[10]+4293915773&4294967295,x=L+(I<<15&4294967295|I>>>17),I=R+(L^(x|~w))+V[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=w+(x^(R|~L))+V[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~x))+V[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~R))+V[6]+2734768916&4294967295,x=L+(I<<15&4294967295|I>>>17),I=R+(L^(x|~w))+V[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=w+(x^(R|~L))+V[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~x))+V[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~R))+V[2]+718787259&4294967295,x=L+(I<<15&4294967295|I>>>17),I=R+(L^(x|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const R=w-this.blockSize,V=this.C;let x=this.h,L=0;for(;L<w;){if(x==0)for(;L<=R;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(V[x++]=N.charCodeAt(L++),x==this.blockSize){o(this,V),x=0;break}}else for(;L<w;)if(V[x++]=N[L++],x==this.blockSize){o(this,V),x=0;break}}this.h=x,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[w++]=this.g[R]>>>V&255;return N};function u(N,w){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function f(N,w){this.h=w;const R=[];let V=!0;for(let x=N.length-1;x>=0;x--){const L=N[x]|0;V&&L==w||(R[x]=L,V=!1)}this.g=R}var m={};function g(N){return-128<=N&&N<128?u(N,function(w){return new f([w|0],w<0?-1:0)}):new f([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return G(p(-N));const w=[];let R=1;for(let V=0;N>=R;V++)w[V]=N/R|0,R*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return G(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(w,8));let V=T;for(let L=0;L<N.length;L+=8){var x=Math.min(8,N.length-L);const I=parseInt(N.substring(L,L+x),w);x<8?(x=p(Math.pow(w,x)),V=V.j(x).add(p(I))):(V=V.j(R),V=V.add(p(I)))}return V}var T=g(0),S=g(1),P=g(16777216);r=f.prototype,r.m=function(){if($(this))return-G(this).m();let N=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if($(this))return"-"+G(this).toString(N);const w=p(Math.pow(N,6));var R=this;let V="";for(;;){const x=Ie(R,w).g;R=ne(R,x.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=x,Y(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function $(N){return N.h==-1}r.l=function(N){return N=ne(this,N),$(N)?-1:Y(N)?0:1};function G(N){const w=N.g.length,R=[];for(let V=0;V<w;V++)R[V]=~N.g[V];return new f(R,~N.h).add(S)}r.abs=function(){return $(this)?G(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let x=0;x<=w;x++){let L=V+(this.i(x)&65535)+(N.i(x)&65535),I=(L>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);V=I>>>16,L&=65535,I&=65535,R[x]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ne(N,w){return N.add(G(w))}r.j=function(N){if(Y(this)||Y(N))return T;if($(this))return $(N)?G(this).j(G(N)):G(G(this).j(N));if($(N))return G(this.j(G(N)));if(this.l(P)<0&&N.l(P)<0)return p(this.m()*N.m());const w=this.g.length+N.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<N.g.length;x++){const L=this.i(V)>>>16,I=this.i(V)&65535,rt=N.i(x)>>>16,xt=N.i(x)&65535;R[2*V+2*x]+=I*xt,te(R,2*V+2*x),R[2*V+2*x+1]+=L*xt,te(R,2*V+2*x+1),R[2*V+2*x+1]+=I*rt,te(R,2*V+2*x+1),R[2*V+2*x+2]+=L*rt,te(R,2*V+2*x+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new f(R,0)};function te(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function re(N,w){this.g=N,this.h=w}function Ie(N,w){if(Y(w))throw Error("division by zero");if(Y(N))return new re(T,T);if($(N))return w=Ie(G(N),w),new re(G(w.g),G(w.h));if($(w))return w=Ie(N,G(w)),new re(G(w.g),w.h);if(N.g.length>30){if($(N)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,V=w;V.l(N)<=0;)R=Ce(R),V=Ce(V);var x=Re(R,1),L=Re(V,1);for(V=Re(V,2),R=Re(R,2);!Y(V);){var I=L.add(V);I.l(N)<=0&&(x=x.add(R),L=I),V=Re(V,1),R=Re(R,1)}return w=ne(N,x.j(w)),new re(x,w)}for(x=T;N.l(w)>=0;){for(R=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=p(R),I=L.j(w);$(I)||I.l(N)>0;)R-=V,L=p(R),I=L.j(w);Y(L)&&(L=S),x=x.add(L),N=ne(N,I)}return new re(x,N)}r.B=function(N){return Ie(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&N.i(V);return new f(R,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|N.i(V);return new f(R,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^N.i(V);return new f(R,this.h^N.h)};function Ce(N){const w=N.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(R,N.h)}function Re(N,w){const R=w>>5;w%=32;const V=N.g.length-R,x=[];for(let L=0;L<V;L++)x[L]=w>0?N.i(L+R)>>>w|N.i(L+R+1)<<32-w:N.i(L+R);return new f(x,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Cb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,ss=f}).apply(typeof QE<"u"?QE:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nb,Hl,Db,mh,Wm,xb,Ob,Mb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break e;v=v[U]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,H){for(var ie=Array(arguments.length-2),be=2;be<arguments.length;be++)ie[be-2]=arguments[be];return y.prototype[U].apply(A,ie)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function Y(c,y){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const H=U.length||0;c.length=v+H;for(let ie=0;ie<H;ie++)c[v+ie]=U[ie]}else c.push(U)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,v){const A=re.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new $(()=>new Ie,c=>c.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Re=!1,N=new te,w=()=>{const c=Promise.resolve(void 0);Ce=()=>{c.then(R)}};function R(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){G(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(rt,x),rt.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,y,v,A,U){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=U,this.key=++Q,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function O(c){const y={};for(const v in c)y[v]=c[v];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let H=0;H<W.length;H++)v=W[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,A,U){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ie=Se(c,y,A,U);return ie>-1?(y=c[ie],v||(y.fa=!1)):(y=new se(y,this.src,H,!!A,U),y.fa=v,c.push(y)),y};function _e(c,y){const v=y.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,y,void 0),H;(H=U>=0)&&Array.prototype.splice.call(A,U,1),H&&(me(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Se(c,y,v,A){for(let U=0;U<c.length;++U){const H=c[U];if(!H.da&&H.listener==y&&H.capture==!!v&&H.ha==A)return U}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,y,v,A,U){if(Array.isArray(y)){for(let H=0;H<y.length;H++)st(c,y[H],v,A,U);return null}return v=Po(v),c&&c[xt]?c.J(y,v,m(A)?!!A.capture:!1,U):_s(c,y,v,!1,A,U)}function _s(c,y,v,A,U,H){if(!y)throw Error("Invalid event type");const ie=m(U)?!!U.capture:!!U;let be=vs(c);if(be||(c[Pe]=be=new ue(c)),v=be.add(y,v,A,ie,H),v.proxy)return v;if(A=ma(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(U=ie),U===void 0&&(U=!1),c.addEventListener(y.toString(),A,U);else if(c.attachEvent)c.attachEvent(ci(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ma(){function c(v){return y.call(c.src,c.listener,v)}const y=ko;return c}function pa(c,y,v,A,U){if(Array.isArray(y))for(var H=0;H<y.length;H++)pa(c,y[H],v,A,U);else A=m(A)?!!A.capture:!!A,v=Po(v),c&&c[xt]?(c=c.i,H=String(y).toString(),H in c.g&&(y=c.g[H],v=Se(y,v,A,U),v>-1&&(me(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[H],c.h--)))):c&&(c=vs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Se(y,v,A,U)),(v=c>-1?y[c]:null)&&ga(v))}function ga(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xt])_e(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ci(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=vs(y))?(_e(v,c),v.h==0&&(v.src=null,y[Pe]=null)):me(c)}}}function ci(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function ko(c,y){if(c.da)c=!0;else{y=new rt(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&ga(c),c=v.call(A,y)}return c}function vs(c){return c=c[Pe],c instanceof ue?c:null}var Lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(c){return typeof c=="function"?c:(c[Lo]||(c[Lo]=function(y){return c.handleEvent(y)}),c[Lo])}function vt(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}T(vt,V),vt.prototype[xt]=!0,vt.prototype.removeEventListener=function(c,y,v,A){pa(this,c,y,v,A)};function Mt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new x(y,c);else if(y instanceof x)y.target=y.target||c;else{var U=y;y=new x(A,c),ae(y,U)}U=!0;let H,ie;if(v)for(ie=v.length-1;ie>=0;ie--)H=y.g=v[ie],U=_r(H,A,!0,y)&&U;if(H=y.g=c,U=_r(H,A,!0,y)&&U,U=_r(H,A,!1,y)&&U,v)for(ie=0;ie<v.length;ie++)H=y.g=v[ie],U=_r(H,A,!1,y)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},vt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function _r(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let H=0;H<y.length;++H){const ie=y[H];if(ie&&!ie.da&&ie.capture==v){const be=ie.listener,dt=ie.ha||ie.src;ie.fa&&_e(c.i,ie),U=be.call(dt,A)!==!1&&U}}return U&&!A.defaultPrevented}function vf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function wu(c){c.g=vf(()=>{c.g=null,c.i&&(c.i=!1,wu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){V.call(this),this.h=c,this.g={}}T(Es,V);var Uo=[];function zo(c){ze(c.g,function(y,v){this.g.hasOwnProperty(v)&&ga(y)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),zo(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=f.JSON.stringify,Ef=f.JSON.parse,Ru=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Iu(){}function Cu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){x.call(this,"d")}T(jt,x);function Rn(){x.call(this,"c")}T(Rn,x);var ft={},Nu=null;function ya(){return Nu=Nu||new vt}ft.Ia="serverreachability";function Du(c){x.call(this,ft.Ia,c)}T(Du,x);function hi(c){const y=ya();Mt(y,new Du(y))}ft.STAT_EVENT="statevent";function Ts(c,y){x.call(this,ft.STAT_EVENT,c),this.stat=y}T(Ts,x);function Et(c){const y=ya();Mt(y,new Ts(y,c))}ft.Ja="timingevent";function fi(c,y){x.call(this,ft.Ja,c),this.size=y}T(fi,x);function di(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Tf(c,y,v,A,U,H){c.info(function(){if(c.g)if(H){var ie="",be=H.split("&");for(let qe=0;qe<be.length;qe++){var dt=be[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Dn=at.split("_");ie=Dn.length>=2&&Dn[1]=="type"?ie+(at+"="+dt+"&"):ie+(at+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+v+`
`+ie})}function xu(c,y,v,A,U,H,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+v+`
`+H+" "+ie})}function mi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+bf(c,v)+(A?" "+A:"")})}function bs(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function bf(c,y){if(!c.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return vr(H)}catch{return y}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Ss(){}T(Ss,Iu),Ss.prototype.g=function(){return new XMLHttpRequest},Bo=new Ss;function Bi(c){return encodeURIComponent(String(c))}function Ou(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Gn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function pi(c,y,v){c.M=1,c.A=ws(At(y)),c.u=v,c.R=!0,_a(c,null)}function _a(c,y){c.F=Date.now(),gi(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ba(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Kn,c.g=Qu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Uo[0]=U.toString()),U=Uo);for(let H=0;H<U.length;H++){const ie=st(v,U[H],A||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),hi(),Tf(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$n(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const be=$n(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||be!=4||dt==7||(dt==8||qe<=0?hi(3):hi(2)),yi(this);var y=this.g.ca();this.X=y;var v=Af(this);if(this.o=y==200,xu(this.i,this.v,this.B,this.l,this.S,be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var H=A;break t}}H=null}if(c=H)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,Et(12),pn(this),In(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Vu(this,v),at==Lt){be==4&&(this.m=4,Et(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Tt){this.m=4,Et(15),mi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,at,null),_i(this,at);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),nl(ie),ie.P=!0,Et(11))}}else mi(this.i,this.l,v,null),_i(this,v);be==4&&pn(this),this.o&&!this.K&&(be==4?Hu(this.j,this):(this.o=!1,gi(this)))}else Hi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),pn(this),In(this)}}}catch{}};function Af(c){if(!Mu(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const A=y.length,U=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),In(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,v+=c.h.i.decode(y[H],{stream:!(U&&H==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Vu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Lt:(v=Number(y.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>y.length?Lt:(y=y.slice(A,A+v),c.C=A+v,y)))}Gn.prototype.cancel=function(){this.K=!0,pn(this)};function gi(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(p(c.aa,c),y)}function yi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bs(this.i,this.B),this.M!=2&&(hi(),Et(17)),pn(this),this.m=2,In(this)):va(this,this.T-c)};function In(c){c.j.I==0||c.K||Hu(c.j,c)}function pn(c){yi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,zo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function _i(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ei(v.h,c))){if(!c.L&&Ei(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ia(v),Ir(v);else break e;Os(v),Et(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(p(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((c.L||v.g==c)&&Ia(v),!I(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let qe=U[y];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Dn=qe[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ii=qe[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const Xn=qe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Jn=c.g;if(Jn){const Ms=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var H=A.h;H.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Fo(H,H.h),H.h=null))}if(A.G){const Ca=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(A.wa=Ca,Ke(A.J,A.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ie=c;if(A.na=Ku(A,A.L?A.ba:null,A.W),ie.L){Go(A.h,ie);var be=ie,dt=A.O;dt&&(be.H=dt),be.D&&(yi(be),gi(be)),A.g=ie}else Bu(A);v.i.length>0&&wi(v)}else qe[0]!="stop"&&qe[0]!="close"||Ri(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ri(v,7):el(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}hi(4)}catch{}}var bt=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Fo(c,y){c.g?c.g.add(y):c.h=y}function Go(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return P(c.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,H=null;A>=0?(U=c[v].substring(0,A),H=c[v].substring(A+1)):U=c[v],y(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,Qo(this,zu(c.i)),this.m=c.m):c&&(y=String(c).match(ku))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=Ti(y[2]||""),this.g=Ti(y[3]||"",!0),Er(this,y[4]),this.h=Ti(y[5]||"",!0),Qo(this,y[6]||"",!0),this.m=Ti(y[7]||"")):(this.l=!1,this.i=new br(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Rs(y,Ta,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Rs(y,Ta,!0),"@"),c.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?Yo:Lu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,Pu)),c.join("")},gn.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?Pt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Er(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=y.h.lastIndexOf("/");U!=-1&&(A=y.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ie=0;ie<U.length;){const be=U[ie++];be=="."?A&&ie==U.length&&H.push(""):be==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ie==U.length&&H.push("")):(H.push(be),A=!0)}A=H.join("/")}else A=U}return v?y.h=A:v=c.i.toString()!=="",v?Qo(y,zu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new gn(c)}function Pt(c,y,v){c.j=v?Ti(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Qo(c,y,v){y instanceof br?(c.i=y,Aa(c.i,c.l)):(v||(y=Rs(y,Tr)),c.i=new br(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function ws(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ta=/[#\/\?@]/g,Lu=/[#\?:]/g,Yo=/[#\?]/g,Tr=/[#\?@]/g,Pu=/#/g;function br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=br.prototype,r.add=function(c,y){on(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Uu(c,y){on(c),y=Ar(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $o(c,y){return on(c),y=Ar(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(y,U,A,this)},this)},this)};function Xo(c,y){on(c);let v=[];if(typeof y=="string")$o(c,y)&&(v=v.concat(c.g.get(Ar(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return on(this),this.i=null,c=Ar(this,c),$o(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Xo(this,c),c.length>0?String(c[0]):y):y};function ba(c,y,v){Uu(c,y),v.length>0&&(c.i=null,c.g.set(Ar(c,y),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const U=Bi(v);v=Xo(this,v);for(let H=0;H<v.length;H++){let ie=U;v[H]!==""&&(ie+="="+Bi(v[H])),c.push(ie)}}return this.i=c.join("&")};function zu(c){const y=new br;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ar(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Aa(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(Uu(this,A),ba(this,U,v))},c)),c.j=y}function Qn(c,y){const v=new Fn;if(f.Image){const A=new Image;A.onload=E(Cn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Cn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Cn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Cn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Jo(c,y){const v=new Fn,A=new AbortController,U=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Sr(){this.g=new Ru}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(bi,Iu),bi.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Is,vt),r=Is.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wr(this):Yn(this),this.readyState==3&&Sa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let y="";return ze(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Cs(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Nn(v),typeof c=="string"?v!=null&&Bi(v):Ke(c,y,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,vt);var Ai=/^https?$/i,Zo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(H){Ns(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Zo,y,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of v)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Ns(this,H)}};function Ns(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Wo(c),qi(c)}function Wo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=H===0){let ie=String(c.D).match(ku)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),A=!Ai.test(ie?ie.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var U=$n(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Wo(c)}}finally{qi(c)}}}}function qi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ef(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const y={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Ou(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=y[U]||[];y[U]=H,H.push(v)}Ge(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Rr(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Rr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Et(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ku(this,null,this.W),wi(this)};function el(c){if(wa(c),c.I==3){var y=c.V++,v=At(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),xs(c,v),y=new Gn(c,c.j,y),y.M=2,y.A=ws(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gi(y)}Gu(c)}function Ir(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function wa(c){Ir(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function wi(c){if(!Ho(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ce||w(),Re||(Ce(),Re=!0),N.add(y,c),c.D=0}}function Ra(c,y){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(p(c.Ea,c,y),Fu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Gn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=O(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ju(this,U,y),v=At(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),xs(this,v),H&&(this.R?y="headers="+Bi(Nn(H))+"&"+y:this.u&&Cs(v,this.u,H)),Fo(this.h,U),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),U.U=!0,pi(U,v,null)):pi(U,v,y),this.I=2}}else this.I==3&&(c?tl(this,c):this.i.length==0||Ho(this.h)||tl(this))};function tl(c,y){var v;y?v=y.l:v=c.V++;const A=At(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),xs(c,A),c.u&&c.o&&Cs(A,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ju(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Fo(c.h,v),pi(v,A,y)}function xs(c,y){c.H&&ze(c.H,function(v,A){Ke(y,A,v)}),c.l&&ze({},function(v,A){Ke(y,A,v)})}function ju(c,y,v){v=Math.min(c.i.length,v);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var U=c.i;let be=-1;for(;;){const dt=["count="+v];be==-1?v>0?(be=U[0].g,dt.push("ofs="+be)):be=0:dt.push("ofs="+be);let qe=!0;for(let at=0;at<v;at++){var H=U[at].g;const Dn=U[at].map;if(H-=be,H<0)be=Math.max(0,U[at].g-100),qe=!1;else try{H="req"+H+"_"||"";try{var ie=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ii,Xn]of ie){let Jn=Xn;m(Xn)&&(Jn=vr(Xn)),dt.push(H+Ii+"="+encodeURIComponent(Jn))}}catch(Ii){throw dt.push(H+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(Dn)}}if(qe){ie=dt.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),y.G=c,ie}function Bu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ce||w(),Re||(Ce(),Re=!0),N.add(y,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(p(c.Da,c),Fu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ir(this),qu(this))};function nl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),xs(c,y),c.u&&c.o&&Cs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ws(At(y)),v.u=null,v.R=!0,_a(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ir(this),Os(this),Et(19))};function Ia(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Hu(c,y){var v=null;if(c.g==y){Ia(c),nl(c),c.g=null;var A=2}else if(Ei(c.h,y))v=y.G,Go(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=c.D;A=ya(),Mt(A,new fi(A,v)),wi(c)}else Bu(c);else if(U=y.m,U==3||U==0&&y.X>0||!(A==1&&Ra(c,y)||A==2&&Os(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),U){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function Fu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ri(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),A=c.Ua;const U=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),ws(A),U?Qn(A.toString(),v):Jo(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(y),Gu(c),wa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(Y(c.ja,y),Y(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Ku(c,y,v){var A=v instanceof gn?At(v):new gn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Er(A,A.u);else{var U=f.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const H=new gn(null);A&&Pt(H,A),y&&(H.g=y),U&&Er(H,U),v&&(H.h=v),A=H}return v=c.G,y=c.wa,v&&y&&Ke(A,v,y),Ke(A,"VER",c.ka),xs(c,A),A}function Qu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new bi({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){vt.call(this),this.g=new Rr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Fi(this)}T(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){el(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vr(c),c=v);y.i.push(new bt(y.Ya++,c)),y.I==3&&wi(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,tn.Z.N.call(this)};function $u(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T($u,jt);function Xu(){Rn.call(this),this.status=1}T(Xu,Rn);function Fi(c){this.g=c}T(Fi,Yu),Fi.prototype.ra=function(){Mt(this.g,"a")},Fi.prototype.qa=function(c){Mt(this.g,new $u(c))},Fi.prototype.pa=function(c){Mt(this.g,new Xu)},Fi.prototype.oa=function(){Mt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Mb=function(){return new Cr},Ob=function(){return ya()},xb=ft,Wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,mh=As,jo.COMPLETE="complete",Db=jo,Cu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Hl=Cu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,Nb=$e}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let No="12.8.0";function UD(r){No=r}const sa=new Qh("@firebase/firestore");function ro(){return sa.logLevel}function le(r,...e){if(sa.logLevel<=Me.DEBUG){const n=e.map(zp);sa.debug(`Firestore (${No}): ${r}`,...n)}}function pr(r,...e){if(sa.logLevel<=Me.ERROR){const n=e.map(zp);sa.error(`Firestore (${No}): ${r}`,...n)}}function yo(r,...e){if(sa.logLevel<=Me.WARN){const n=e.map(zp);sa.warn(`Firestore (${No}): ${r}`,...n)}}function zp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ge(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Vb(r,s,n)}function Vb(r,e,n){let s=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Vb(e,o,s)}function Te(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class kb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class jD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BD{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new kb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class qD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class HD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new qD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function ep(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Lm(o)===Lm(u)?Ve(o,u):Lm(o)?1:-1}return Ve(r.length,e.length)}const KD=55296,QD=57343;function Lm(r){const e=r.charCodeAt(0);return e>=KD&&e<=QD}function _o(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const $E="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ge(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),o=Oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class et extends Oi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const YD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Oi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return YD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$E}static keyField(){return new Qt([$E])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}function Lb(r,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $D(r,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function XE(r){if(!de.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function JE(r){if(de.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Pb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function Bn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function _u(r,e){if(!Pb(r))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const ZE=-62135596800,WE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*WE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ZE)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Dt("string",it._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new it(0,0))}static max(){return new ve(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru=-1;function XD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new os(o,de.empty(),e)}function JD(r){return new os(r.readTime,r.key,ru)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(ve.min(),de.empty(),ru)}static max(){return new os(ve.max(),de.empty(),ru)}}function ZD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const WD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==WD)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function tx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(r){return r.name==="IndexedDbTransactionError"}class ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ef.ce=-1;const Bp=-1;function tf(r){return r==null}function xh(r){return r===0&&1/r==-1/0}function nx(r){return typeof r=="number"&&Number.isInteger(r)&&!xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Ub="";function ix(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=eT(e)),e=rx(r.get(n),e);return eT(e)}function rx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Ub:n+="";break;default:n+=u}}return n}function eT(r){return r+Ub+""}function tT(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ps(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function zb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new kt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jb("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=sx.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const Bb="server_timestamp",qb="__type__",Hb="__previous_value__",Fb="__local_write_time__";function qp(r){return(r?.mapValue?.fields||{})[qb]?.stringValue===Bb}function nf(r){const e=r.mapValue.fields[Hb];return qp(e)?nf(e):e}function su(r){const e=ls(r.mapValue.fields[Fb].timestampValue);return new it(e.seconds,e.nanos)}class ax{constructor(e,n,s,o,u,f,m,g,p,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=T}}const Oh="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}function ox(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(r.options.projectId,e)}const Gb="__type__",lx="__max__",rh={mapValue:{}},Kb="__vector__",Mh="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qp(r)?4:cx(r)?9007199254740991:ux(r)?10:11:ge(28295,{value:r})}function zi(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return su(r).isEqual(su(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?xh(f)===xh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(tT(f)!==tT(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!zi(f[g],m[g])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function ou(r,e){return(r.values||[]).find((n=>zi(n,e)))!==void 0}function vo(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return iT(r.timestampValue,e.timestampValue);case 4:return iT(su(r),su(e));case 5:return ep(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=us(u),g=us(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ve(m[p],g[p]);if(E!==0)return E}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(gt(u.latitude),gt(f.latitude));return m!==0?m:Ve(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return rT(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[Mh]?.arrayValue,E=g[Mh]?.arrayValue,T=Ve(p?.values?.length||0,E?.values?.length||0);return T!==0?T:rT(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===rh.mapValue&&f===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(f===rh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const S=ep(g[T],E[T]);if(S!==0)return S;const P=vo(m[g[T]],p[E[T]]);if(P!==0)return P}return Ve(g.length,E.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function iT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ls(r),s=ls(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function rT(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Eo(r){return tp(r)}function tp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=tp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${tp(n.fields[f])}`;return o+"}"})(r.mapValue):ge(61005,{value:r})}function ph(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(r);return e?16+ph(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ph(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ps(s.fields,((u,f)=>{o+=u.length+ph(f)})),o})(r.mapValue);default:throw ge(13486,{value:r})}}function sT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function np(r){return!!r&&"integerValue"in r}function Hp(r){return!!r&&"arrayValue"in r}function aT(r){return!!r&&"nullValue"in r}function oT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gh(r){return!!r&&"mapValue"in r}function ux(r){return(r?.mapValue?.fields||{})[Gb]?.stringValue===Kb}function $l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ps(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=$l(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(r.arrayValue.values[n]);return e}return{...r}}function cx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lx}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=$l(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ps(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn($l(this.value))}}function Qb(r){const e=[];return ps(r.fields,((n,s)=>{const o=new Qt([n]);if(gh(s)){const u=Qb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Sn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,ve.min(),ve.min(),ve.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,ve.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,ve.min(),ve.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,ve.min(),ve.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function lT(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),n.key):s=vo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function uT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],e.position[n]))return!1;return!0}class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function hx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Yb{}class Nt extends Yb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new dx(e,n,s):n==="array-contains"?new gx(e,s):n==="in"?new yx(e,s):n==="not-in"?new _x(e,s):n==="array-contains-any"?new vx(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new mx(e,s):new px(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Yb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return $b(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $b(r){return r.op==="and"}function Xb(r){return fx(r)&&$b(r)}function fx(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function ip(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(Xb(r))return r.filters.map((e=>ip(e))).join(",");{const e=r.filters.map((n=>ip(n))).join(",");return`${r.op}(${e})`}}function Jb(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(r,e):r instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Jb(f,o.filters[m])),!0):!1})(r,e):void ge(19439)}function Zb(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(r):r instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(Zb).join(" ,")+"}"})(r):"Filter"}class dx extends Nt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class mx extends Nt{constructor(e,n){super(e,"in",n),this.keys=Wb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class px extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=Wb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Wb(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class gx extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hp(n)&&ou(n.arrayValue,this.value)}}class yx extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class _x extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class vx extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ou(this.value.arrayValue,s)))}}class Ex{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function cT(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Ex(r,e,n,s,o,u,f)}function Fp(r){const e=Te(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ip(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Eo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Eo(s))).join(",")),e.Te=n}return e.Te}function Gp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!hx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Jb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uT(r.startAt,e.startAt)&&uT(r.endAt,e.endAt)}function rp(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Oo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Tx(r,e,n,s,o,u,f,m){return new Oo(r,e,n,s,o,u,f,m)}function rf(r){return new Oo(r)}function hT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bx(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function eA(r){return r.collectionGroup!==null}function Xl(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt(Qt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new lu(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new lu(Qt.keyField(),s))}return e.Ie}function Vi(r){const e=Te(r);return e.Ee||(e.Ee=Ax(e,Xl(r))),e.Ee}function Ax(r,e){if(r.limitType==="F")return cT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new lu(o.field,u)}));const n=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return cT(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function sp(r,e){const n=r.filters.concat([e]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Sx(r,e){const n=r.explicitOrderBy.concat([e]);return new Oo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function kh(r,e,n){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function sf(r,e){return Gp(Vi(r),Vi(e))&&r.limitType===e.limitType}function tA(r){return`${Fp(Vi(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Zb(o))).join(", ")}]`),tf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Eo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Eo(o))).join(",")),`Target(${s})`})(Vi(r))}; limitType=${r.limitType})`}function af(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const p=lT(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,Xl(s),o)||s.endAt&&!(function(f,m,g){const p=lT(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,Xl(s),o))})(r,e)}function wx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nA(r){return(e,n)=>{let s=!1;for(const o of Xl(r)){const u=Rx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Rx(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?vo(g,p):ge(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ge(19790,{direction:r.dir})}}class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return zb(this.inner)}size(){return this.innerSize}}const Ix=new ut(de.comparator);function gr(){return Ix}const iA=new ut(de.comparator);function Fl(...r){let e=iA;for(const n of r)e=e.insert(n.key,n);return e}function rA(r){let e=iA;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return Jl()}function sA(){return Jl()}function Jl(){return new fa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Cx=new ut(de.comparator),Nx=new kt(de.comparator);function ke(...r){let e=Nx;for(const n of r)e=e.add(n);return e}const Dx=new kt(Ve);function xx(){return Dx}function Kp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function aA(r){return{integerValue:""+r}}function Ox(r,e){return nx(e)?aA(e):Kp(r,e)}class of{constructor(){this._=void 0}}function Mx(r,e,n){return r instanceof uu?(function(o,u){const f={fields:{[qb]:{stringValue:Bb},[Fb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qp(u)&&(u=nf(u)),u&&(f.fields[Hb]=u),{mapValue:f}})(n,e):r instanceof To?lA(r,e):r instanceof cu?uA(r,e):(function(o,u){const f=oA(o,u),m=fT(f)+fT(o.Ae);return np(f)&&np(o.Ae)?aA(m):Kp(o.serializer,m)})(r,e)}function Vx(r,e,n){return r instanceof To?lA(r,e):r instanceof cu?uA(r,e):n}function oA(r,e){return r instanceof Lh?(function(s){return np(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class uu extends of{}class To extends of{constructor(e){super(),this.elements=e}}function lA(r,e){const n=cA(e);for(const s of r.elements)n.some((o=>zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class cu extends of{constructor(e){super(),this.elements=e}}function uA(r,e){let n=cA(e);for(const s of r.elements)n=n.filter((o=>!zi(o,s)));return{arrayValue:{values:n}}}class Lh extends of{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fT(r){return gt(r.integerValue||r.doubleValue)}function cA(r){return Hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class hA{constructor(e,n){this.field=e,this.transform=n}}function kx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof To&&o instanceof To||s instanceof cu&&o instanceof cu?_o(s.elements,o.elements,zi):s instanceof Lh&&o instanceof Lh?zi(s.Ae,o.Ae):s instanceof uu&&o instanceof uu})(r.transform,e.transform)}class Lx{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class lf{}function fA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qp(r.key,ri.none()):new vu(r.key,r.data,ri.none());{const n=r.data,s=mn.empty();let o=new kt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new gs(r.key,s,new Sn(o.toArray()),ri.none())}}function Px(r,e,n){r instanceof vu?(function(o,u,f){const m=o.value.clone(),g=mT(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof gs?(function(o,u,f){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=mT(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(dA(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Zl(r,e,n,s){return r instanceof vu?(function(u,f,m,g){if(!yh(u.precondition,f))return m;const p=u.value.clone(),E=pT(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof gs?(function(u,f,m,g){if(!yh(u.precondition,f))return m;const p=pT(u.fieldTransforms,g,f),E=f.data;return E.setAll(dA(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return yh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function Ux(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=oA(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function dT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,((u,f)=>kx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vu extends lf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends lf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dA(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function mT(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Vx(f,m,n[o]))}return s}function pT(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Mx(u,f,e))}return s}class Qp extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zx extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Px(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=sA();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=fA(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((n,s)=>dT(n,s)))&&_o(this.baseMutations,e.baseMutations,((n,s)=>dT(n,s)))}}class Yp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Cx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Yp(e,n,s,o)}}class Bx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qx{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Ue;function Hx(r){switch(r){case J.OK:return ge(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function mA(r){if(r===void 0)return pr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ct.OK:return J.OK;case Ct.CANCELLED:return J.CANCELLED;case Ct.UNKNOWN:return J.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return J.INTERNAL;case Ct.UNAVAILABLE:return J.UNAVAILABLE;case Ct.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ct.NOT_FOUND:return J.NOT_FOUND;case Ct.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ct.ABORTED:return J.ABORTED;case Ct.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ct.DATA_LOSS:return J.DATA_LOSS;default:return ge(39323,{code:r})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function Fx(){return new TextEncoder}const Gx=new ss([4294967295,4294967295],0);function gT(r){const e=Fx().encode(r),n=new Cb;return n.update(e),new Uint8Array(n.digest())}function yT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class $p{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(Gx)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gT(e),[s,o]=yT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new $p(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=gT(e),[s,o]=yT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new uf(ve.min(),o,new ut(Ve),gr(),ke())}}class Eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Eu(s,n,ke(),ke(),ke())}}class _h{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class pA{constructor(e,n){this.targetId=e,this.Ce=n}}class gA{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class _T{constructor(){this.ve=0,this.Fe=vT(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ge(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=vT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Kx{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.He=sh(),this.Je=sh(),this.Ze=new ut(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(rp(u))if(s===0){const f=new de(u.path);this.et(n,f,Zt.newNoDocument(f,ve.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=us(s).toUint8Array()}catch(g){if(g instanceof jb)return yo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new $p(f,o,u)}catch(g){return yo(g instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&rp(m.target)){const g=new de(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Zt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=ke();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new uf(e,n,this.Ze,this.je,s);return this.je=gr(),this.He=sh(),this.Je=sh(),this.Ze=new ut(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new _T,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _T),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new ut(de.comparator)}function vT(){return new ut(de.comparator)}const Qx={asc:"ASCENDING",desc:"DESCENDING"},Yx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$x={and:"AND",or:"OR"};class Xx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ap(r,e){return r.useProto3Json||tf(e)?e:{value:e}}function Ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Jx(r,e){return Ph(r,e.toTimestamp())}function ki(r){return Fe(!!r,49232),ve.fromTimestamp((function(n){const s=ls(n);return new it(s.seconds,s.nanos)})(r))}function Xp(r,e){return op(r,e).canonicalString()}function op(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function _A(r){const e=et.fromString(r);return Fe(AA(e),10190,{key:e.toString()}),e}function lp(r,e){return Xp(r.databaseId,e.path)}function Pm(r,e){const n=_A(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(EA(n))}function vA(r,e){return Xp(r.databaseId,e)}function Zx(r){const e=_A(r);return e.length===4?et.emptyPath():EA(e)}function up(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function EA(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ET(r,e,n){return{name:lp(r,e),fields:n.value.mapValue.fields}}function Wx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ge(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?J.UNKNOWN:mA(p.code);return new oe(E,p.message||"")})(f);n=new gA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pm(r,s.document.name),u=ki(s.document.updateTime),f=s.document.createTime?ki(s.document.createTime):ve.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new _h(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pm(r,s.document),u=s.readTime?ki(s.readTime):ve.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _h([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pm(r,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new qx(o,u),m=s.targetId;n=new pA(m,f)}}return n}function eO(r,e){let n;if(e instanceof vu)n={update:ET(r,e.key,e.value)};else if(e instanceof Qp)n={delete:lp(r,e.key)};else if(e instanceof gs)n={update:ET(r,e.key,e.data),updateMask:uO(e.fieldMask)};else{if(!(e instanceof zx))return ge(16599,{dt:e.type});n={verify:lp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof uu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof To)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ge(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Jx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ge(27497)})(r,e.precondition)),n}function tO(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ki(o.updateTime):ki(u);return f.isEqual(ve.min())&&(f=ki(u)),new Lx(f,o.transformResults||[])})(n,e)))):[]}function nO(r,e){return{documents:[vA(r,e.path)]}}function iO(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vA(r,o);const u=(function(p){if(p.length!==0)return bA(li.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(S){return{field:ao(S.field),direction:aO(S.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ap(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function rO(r){let e=Zx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const S=TA(T);return S instanceof li&&Xb(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((S=>(function(Y){return new lu(oo(Y.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,tf(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(T){const S=!!T.before,P=T.values||[];return new Vh(P,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const S=!T.before,P=T.values||[];return new Vh(P,S)})(n.endAt)),Tx(e,o,f,u,m,"F",g,p)}function sO(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=oo(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>TA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(n.compositeFilter.op))})(r):ge(30097,{filter:r})}function aO(r){return Qx[r]}function oO(r){return Yx[r]}function lO(r){return $x[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return Qt.fromServerFormat(r.fieldPath)}function bA(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(oT(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(aT(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oT(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(aT(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:oO(n.op),value:n.value}}})(r):r instanceof li?(function(n){const s=n.getFilters().map((o=>bA(o)));return s.length===1?s[0]:{compositeFilter:{op:lO(n.op),filters:s}}})(r):ge(54877,{filter:r})}function uO(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function AA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function SA(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ns{constructor(e,n,s,o,u=ve.min(),f=ve.min(),m=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cO{constructor(e){this.yt=e}}function hO(r){const e=rO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?kh(e,e.limit,"L"):e}class fO{constructor(){this.Sn=new dO}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(os.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class dO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(et.comparator)).toArray()}}const TT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wA=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(wA,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class bo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bo(0)}static ar(){return new bo(-1)}}const bT="LruGarbageCollector",mO=1048576;function AT([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class pO{constructor(e){this.Pr=e,this.buffer=new kt(AT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();AT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(bT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?le(bT,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Ar(3e5)}))}}class yO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(ef.ce);const s=new pO(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(TT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),ro()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function _O(r,e){return new yO(r,e)}class vO{constructor(){this.changes=new fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class EO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Zl(s.mutation,o,Sn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Fl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=gr();const f=Jl(),m=(function(){return Jl()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof gs)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Zl(E.mutation,p,E.mutation.getFieldMask(),it.now())):f.set(p.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new EO(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Jl();let o=new ut(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||Sn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const T=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,T=sA();E.forEach((S=>{if(!u.has(S)){const P=fA(n.get(S),s.get(S));P!==null&&T.set(S,P),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return bx(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Zs());let m=ru,g=u;return f.next((p=>ee.forEach(p,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,ke()))).next((E=>({batchId:m,changes:rA(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(g=>{const p=(function(T,S){return new Oo(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((T,S)=>{f=f.insert(T,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Fl();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Zl(E.mutation,p,Sn.empty(),it.now()),af(n,p)&&(m=m.insert(g,p))})),m}))}}class bO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:hO(o.bundledQuery),readTime:ki(o.readTime)}})(n)),ee.resolve()}}class AO{constructor(){this.overlays=new ut(de.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new de(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Zs(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Zs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Bx(n,s));let u=this.Lr.get(n);u===void 0&&(u=ke(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class SO{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Jp{constructor(){this.kr=new kt(zt.Kr),this.qr=new kt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new de(new et([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new de(new et([])),s=new zt(n,e),o=new zt(n,e+1);let u=ke();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return de.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||de.comparator(e.key,n.key)}}class wO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(zt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Bp:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ve);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const f=new zt(new de(u),0);let m=new kt(Ve);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),f),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new zt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RO{constructor(e){this.ti=e,this.docs=(function(){return new ut(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const f=n.path,m=new de(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||ZD(JD(E),s)<=0||(o.has(E.key)||af(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ge(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new IO(this)}getSize(e){return ee.resolve(this.size)}}class IO extends vO{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class CO{constructor(e){this.persistence=e,this.ri=new fa((n=>Fp(n)),Gp),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new Jp,this.targetCount=0,this.oi=bo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class RA{constructor(e,n){this._i={},this.overlays={},this.ai=new ef(0),this.ui=!1,this.ui=!0,this.ci=new SO,this.referenceDelegate=e(this),this.li=new CO(this),this.indexManager=new fO,this.remoteDocumentCache=(function(o){return new RO(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new cO(n),this.Pi=new bO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new wO(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new NO(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class NO extends ex{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Ri=new Jp,this.Ai=null}static Vi(e){return new Zp(e)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=de.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Uh{constructor(e,n){this.persistence=e,this.fi=new fa((s=>ix(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=_O(this,n)}static Vi(e,n){return new Uh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wp(e,n.fromCache,s,o)}}class DO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return HR()?8:tx(Wt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new DO;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(ro()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(ro()<=Me.DEBUG&&le("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ro()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ee.resolve())}gs(e,n){if(hT(n))return ee.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=kh(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,f,g.readTime)?this.gs(e,kh(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return hT(n)||o.isEqual(ve.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ee.resolve(null):(ro()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.Ds(e,f,n,XD(o,ru)).next((m=>m)))}))}bs(e,n){let s=new kt(nA(e));return n.forEach(((o,u)=>{af(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return ro()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",so(n)),this.fs.getDocumentsMatchingQuery(e,n,os.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const eg="LocalStore",OO=3e8;class MO{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(Ve),this.Fs=new fa((u=>Fp(u)),Gp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function VO(r,e,n,s){return new MO(r,e,n,s)}async function IA(r,e){const n=Te(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=ke();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function kO(r,e){const n=Te(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const T=p.batch,S=T.keys();let P=ee.resolve();return S.forEach((Y=>{P=P.next((()=>E.getEntry(g,Y))).next(($=>{const G=p.docVersions.get(Y);Fe(G!==null,48541),$.version.compareTo(G)<0&&(T.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),E.addEntry($)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function CA(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function LO(r,e){const n=Te(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const S=o.get(T);if(!S)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let P=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(Yt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(T,P),(function($,G,ne){return $.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=OO?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,P,E)&&m.push(n.li.updateTargetData(u,P))}));let g=gr(),p=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(PO(u,f,e.documentUpdates).next((E=>{g=E.Bs,p=E.Ls}))),!s.isEqual(ve.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function PO(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=gr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):le(eg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function UO(r,e){const n=Te(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zO(r,e){const n=Te(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new ns(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function cp(r,e,n){const s=Te(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!xo(f))throw f;le(eg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function ST(r,e,n){const s=Te(r);let o=ve.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const T=Te(g),S=T.Fs.get(E);return S!==void 0?ee.resolve(T.vs.get(S)):T.li.getTargetData(p,E)})(s,f,Vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:ve.min(),n?u:ke()))).next((m=>(jO(s,wx(e),m),{documents:m,ks:u})))))}function jO(r,e,n){let s=r.Ms.get(e)||ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class wT{constructor(){this.activeTargetIds=xx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BO{constructor(){this.vo=new wT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new wT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qO{Mo(e){}shutdown(){}}const RT="ConnectivityMonitor";class IT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(RT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(RT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ah=null;function hp(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}const Um="RestConnection",HO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class FO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=hp(),m=this.Qo(e,n.toUriEncodedString());le(Um,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),E=Ro(p);return this.zo(e,m,g,s,E).then((T=>(le(Um,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw yo(Um,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=HO[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class GO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xt="WebChannelConnection",ql=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class mo extends FO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!mo.c_){const e=Ob();ql(e,xb.STAT_EVENT,(n=>{n.stat===Wm.PROXY?le(Xt,"STAT_EVENT: detected buffering proxy"):n.stat===Wm.NOPROXY&&le(Xt,"STAT_EVENT: detected no buffering proxy")})),mo.c_=!0}}zo(e,n,s,o,u){const f=hp();return new Promise(((m,g)=>{const p=new Nb;p.setWithCredentials(!0),p.listenOnce(Db.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case mh.NO_ERROR:const T=p.getResponseJson();le(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case mh.TIMEOUT:le(Xt,`RPC '${e}' ${f} timed out`),g(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const S=p.getStatus();if(le(Xt,`RPC '${e}' ${f} failed with status:`,S,"response text:",p.getResponseText()),S>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const Y=P?.error;if(Y&&Y.status&&Y.message){const $=(function(ne){const te=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(te)>=0?te:J.UNKNOWN})(Y.status);g(new oe($,Y.message))}else g(new oe(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new oe(J.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{le(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=hp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${p}`,m);const E=f.createWebChannel(p,m);this.I_(E);let T=!1,S=!1;const P=new GO({Ho:Y=>{S?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(T||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,Y),E.send(Y))},Jo:()=>E.close()});return ql(E,Hl.EventType.OPEN,(()=>{S||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),P.i_())})),ql(E,Hl.EventType.CLOSE,(()=>{S||(S=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),P.o_(),this.E_(E))})),ql(E,Hl.EventType.ERROR,(Y=>{S||(S=!0,yo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),P.o_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),ql(E,Hl.EventType.MESSAGE,(Y=>{if(!S){const $=Y.data[0];Fe(!!$,16349);const G=$,ne=G?.error||G[0]?.error;if(ne){le(Xt,`RPC '${e}' stream ${o} received error:`,ne);const te=ne.status;let re=(function(Re){const N=Ct[Re];if(N!==void 0)return mA(N)})(te),Ie=ne.message;re===void 0&&(re=J.INTERNAL,Ie="Unknown error status: "+te+" with message "+ne.message),S=!0,P.o_(new oe(re,Ie)),E.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,$),P.__($)}})),mo.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Mb()}}function KO(r){return new mo(r)}function zm(){return typeof document<"u"?document:null}function cf(r){return new Xx(r,!0)}mo.c_=!1;class NA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const CT="PersistentStream";class DA{constructor(e,n,s,o,u,f,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(CT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(CT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QO extends DA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Wx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?ki(f.readTime):ve.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=up(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=rp(g)?{documents:nO(u,g)}:{query:iO(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=yA(u,f.resumeToken);const p=ap(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(ve.min())>0){m.readTime=Ph(u,f.snapshotVersion.toTimestamp());const p=ap(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=sO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=up(this.serializer),n.removeTarget=e,this.K_(n)}}class YO extends DA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tO(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=up(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>eO(this.serializer,s)))};this.K_(n)}}class $O{}class XO extends $O{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,op(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,op(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JO(r,e,n,s){return new XO(r,e,n,s)}class ZO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class WO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{da(this)&&(le(aa,"Restarting streams for network reachability change."),await(async function(g){const p=Te(g);p.Ea.add(4),await Tu(p),p.Va.set("Unknown"),p.Ea.delete(4),await hf(p)})(this))}))})),this.Va=new ZO(s,o)}}async function hf(r){if(da(r))for(const e of r.Ra)await e(!0)}async function Tu(r){for(const e of r.Ra)await e(!1)}function xA(r,e){const n=Te(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?ig(n):Mo(n).O_()&&ng(n,e))}function tg(r,e){const n=Te(r),s=Mo(n);n.Ia.delete(e),s.O_()&&OA(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Va.set("Unknown"))}function ng(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(r).Z_(e)}function OA(r,e){r.da.$e(e),Mo(r).X_(e)}function ig(r){r.da=new Kx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Va.ua()}function rg(r){return da(r)&&!Mo(r).x_()&&r.Ia.size>0}function da(r){return Te(r).Ea.size===0}function MA(r){r.da=void 0}async function eM(r){r.Va.set("Online")}async function tM(r){r.Ia.forEach(((e,n)=>{ng(r,e)}))}async function nM(r,e){MA(r),rg(r)?(r.Va.ha(e),ig(r)):r.Va.set("Unknown")}async function iM(r,e,n){if(r.Va.set("Online"),e instanceof gA&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){le(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(r,s)}else if(e instanceof _h?r.da.Xe(e):e instanceof pA?r.da.st(e):r.da.tt(e),!n.isEqual(ve.min()))try{const s=await CA(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),OA(u,g);const T=new ns(E.target,g,p,E.sequenceNumber);ng(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(aa,"Failed to raise snapshot:",s),await zh(r,s)}}async function zh(r,e,n){if(!xo(e))throw e;r.Ea.add(1),await Tu(r),r.Va.set("Offline"),n||(n=()=>CA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(aa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await hf(r)}))}function VA(r,e){return e().catch((n=>zh(r,n,e)))}async function ff(r){const e=Te(r),n=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bp;for(;rM(e);)try{const o=await UO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,sM(e,o)}catch(o){await zh(e,o)}kA(e)&&LA(e)}function rM(r){return da(r)&&r.Ta.length<10}function sM(r,e){r.Ta.push(e);const n=hs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function kA(r){return da(r)&&!hs(r).x_()&&r.Ta.length>0}function LA(r){hs(r).start()}async function aM(r){hs(r).ra()}async function oM(r){const e=hs(r);for(const n of r.Ta)e.ea(n.mutations)}async function lM(r,e,n){const s=r.Ta.shift(),o=Yp.from(s,e,n);await VA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ff(r)}async function uM(r,e){e&&hs(r).Y_&&await(async function(s,o){if((function(f){return Hx(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();hs(s).B_(),await VA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ff(s)}})(r,e),kA(r)&&LA(r)}async function NT(r,e){const n=Te(r);n.asyncQueue.verifyOperationInProgress(),le(aa,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await Tu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hf(n)}async function cM(r,e){const n=Te(r);e?(n.Ea.delete(2),await hf(n)):e||(n.Ea.add(2),await Tu(n),n.Va.set("Unknown"))}function Mo(r){return r.ma||(r.ma=(function(n,s,o){const u=Te(n);return u.sa(),new QO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:eM.bind(null,r),Yo:tM.bind(null,r),t_:nM.bind(null,r),J_:iM.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),rg(r)?ig(r):r.Va.set("Unknown")):(await r.ma.stop(),MA(r))}))),r.ma}function hs(r){return r.fa||(r.fa=(function(n,s,o){const u=Te(n);return u.sa(),new YO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:aM.bind(null,r),t_:uM.bind(null,r),ta:oM.bind(null,r),na:lM.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await ff(r)):(await r.fa.stop(),r.Ta.length>0&&(le(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class sg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new sg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,e){if(pr("AsyncQueue",`${e}: ${r}`),xo(r))return new oe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class DT{constructor(){this.ga=new ut(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ao{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Ao(e,n,po.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class hM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class fM{constructor(){this.queries=xT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Te(n),u=o.queries;o.queries=xT(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function xT(){return new fa((r=>tA(r)),sf)}async function og(r,e){const n=Te(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new hM,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ag(f,`Initialization of query '${so(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ug(n)}async function lg(r,e){const n=Te(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dM(r,e){const n=Te(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&ug(n)}function mM(r,e,n){const s=Te(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function ug(r){r.Ca.forEach((e=>{e.next()}))}var fp,OT;(OT=fp||(fp={})).Ma="default",OT.Cache="cache";class cg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fp.Cache}}class PA{constructor(e){this.key=e}}class UA{constructor(e){this.key=e}}class pM{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=nA(e),this.tu=new po(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new DT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const S=o.get(E),P=af(this.query,T)?T:null,Y=!!S&&this.mutatedKeys.has(S.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let G=!1;S&&P?S.data.isEqual(P.data)?Y!==$&&(s.track({type:3,doc:P}),G=!0):this.su(S,P)||(s.track({type:2,doc:P}),G=!0,(g&&this.eu(P,g)>0||p&&this.eu(P,p)<0)&&(m=!0)):!S&&P?(s.track({type:0,doc:P}),G=!0):S&&!P&&(s.track({type:1,doc:S}),G=!0,(g||p)&&(m=!0)),G&&(P?(f=f.add(P),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(P,Y){const $=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:G})}};return $(P)-$(Y)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,f.length!==0||p?{snapshot:new Ao(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new DT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new UA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new PA(s))})),n}cu(e){this.Za=e.ks,this.Ya=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hg="SyncEngine";class gM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yM{constructor(e){this.key=e,this.hu=!1}}class _M{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new fa((m=>tA(m)),sf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(de.comparator),this.Au=new Map,this.Vu=new Jp,this.du={},this.mu=new Map,this.fu=bo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vM(r,e,n=!0){const s=FA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zA(s,e,n,!0),o}async function EM(r,e){const n=FA(r);await zA(n,e,!0,!1)}async function zA(r,e,n,s){const o=await zO(r.localStore,Vi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await TM(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&xA(r.remoteStore,o),m}async function TM(r,e,n,s,o){r.pu=(T,S,P)=>(async function($,G,ne,te){let re=G.view.ru(ne);re.Ss&&(re=await ST($.localStore,G.query,!1).then((({documents:N})=>G.view.ru(N,re))));const Ie=te&&te.targetChanges.get(G.targetId),Ce=te&&te.targetMismatches.get(G.targetId)!=null,Re=G.view.applyChanges(re,$.isPrimaryClient,Ie,Ce);return VT($,G.targetId,Re.au),Re.snapshot})(r,T,S,P);const u=await ST(r.localStore,e,!0),f=new pM(e,u.ks),m=f.ru(u.documents),g=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);VT(r,n,p.au);const E=new gM(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function bM(r,e,n){const s=Te(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!sf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&tg(s.remoteStore,o.targetId),dp(s,o.targetId)})).catch(Do)):(dp(s,o.targetId),await cp(s.localStore,o.targetId,!0))}async function AM(r,e){const n=Te(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tg(n.remoteStore,s.targetId))}async function SM(r,e,n){const s=xM(r);try{const o=await(function(f,m){const g=Te(f),p=it.now(),E=m.reduce(((P,Y)=>P.add(Y.key)),ke());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Y=gr(),$=ke();return g.xs.getEntries(P,E).next((G=>{Y=G,Y.forEach(((ne,te)=>{te.isValidDocument()||($=$.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,Y))).next((G=>{T=G;const ne=[];for(const te of m){const re=Ux(te,T.get(te.key).overlayedDocument);re!=null&&ne.push(new gs(te.key,re,Qb(re.value.mapValue),ri.exists(!0)))}return g.mutationQueue.addMutationBatch(P,p,ne,m)})).next((G=>{S=G;const ne=G.applyToLocalDocumentSet(T,$);return g.documentOverlayCache.saveOverlays(P,G.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:rA(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.du[f.currentUser.toKey()];p||(p=new ut(Ve)),p=p.insert(m,g),f.du[f.currentUser.toKey()]=p})(s,o.batchId,n),await bu(s,o.changes),await ff(s.remoteStore)}catch(o){const u=ag(o,"Failed to persist write");n.reject(u)}}async function jA(r,e){const n=Te(r);try{const s=await LO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await bu(n,s,e)}catch(s){await Do(s)}}function MT(r,e,n){const s=Te(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Te(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,T)=>{for(const S of T.ba)S.va(m)&&(p=!0)})),p&&ug(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wM(r,e,n){const s=Te(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(de.comparator);f=f.insert(u,Zt.newNoDocument(u,ve.min()));const m=ke().add(u),g=new uf(ve.min(),new Map,new ut(Ve),f,m);await jA(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),fg(s)}else await cp(s.localStore,e,!1).then((()=>dp(s,e,n))).catch(Do)}async function RM(r,e){const n=Te(r),s=e.batch.batchId;try{const o=await kO(n.localStore,e);qA(n,s,null),BA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bu(n,o)}catch(o){await Do(o)}}async function IM(r,e,n){const s=Te(r);try{const o=await(function(f,m){const g=Te(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(Fe(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);qA(s,e,n),BA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await bu(s,o)}catch(o){await Do(o)}}function BA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function qA(r,e,n){const s=Te(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function dp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||HA(r,s)}))}function HA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(tg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),fg(r))}function VT(r,e,n){for(const s of n)s instanceof PA?(r.Vu.addReference(s.key,e),CM(r,s)):s instanceof UA?(le(hg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||HA(r,s.key)):ge(19791,{wu:s})}function CM(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(le(hg,"New document in limbo: "+n),r.Eu.add(s),fg(r))}function fg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(et.fromString(e)),s=r.fu.next();r.Au.set(s,new yM(n)),r.Ru=r.Ru.insert(n,s),xA(r.remoteStore,new ns(Vi(rf(n.path)),s,"TargetPurposeLimboResolution",ef.ce))}}async function bu(r,e,n){const s=Te(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Wp.Es(g.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,p){const E=Te(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(p,(S=>ee.forEach(S.Ts,(P=>E.persistence.referenceDelegate.addReference(T,S.targetId,P))).next((()=>ee.forEach(S.Is,(P=>E.persistence.referenceDelegate.removeReference(T,S.targetId,P)))))))))}catch(T){if(!xo(T))throw T;le(eg,"Failed to update sequence numbers: "+T)}for(const T of p){const S=T.targetId;if(!T.fromCache){const P=E.vs.get(S),Y=P.snapshotVersion,$=P.withLastLimboFreeSnapshotVersion(Y);E.vs=E.vs.insert(S,$)}}})(s.localStore,u))}async function NM(r,e){const n=Te(r);if(!n.currentUser.isEqual(e)){le(hg,"User change. New user:",e.toKey());const s=await IA(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new oe(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bu(n,s.Ns)}}function DM(r,e){const n=Te(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function FA(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=jA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wM.bind(null,e),e.Pu.J_=dM.bind(null,e.eventManager),e.Pu.yu=mM.bind(null,e.eventManager),e}function xM(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IM.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VO(this.persistence,new xO,e.initialUser,this.serializer)}Cu(e){return new RA(Zp.Vi,this.serializer)}Du(e){return new BO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class OM extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new RA((s=>Uh.Vi(s,n)),this.serializer)}}class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>MT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NM.bind(null,this.syncEngine),await cM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fM})()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),s=KO(e.databaseInfo);return JO(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new WO(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>MT(this.syncEngine,n,0)),(function(){return IT.v()?new IT:new qO})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,E){const T=new _M(o,u,f,m,g,p);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Te(n);le(aa,"RemoteStore shutting down."),s.Ea.add(5),await Tu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mp.provider={build:()=>new mp};class dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fs="FirestoreClient";class MM{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ag(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jm(r,e){r.asyncQueue.verifyOperationInProgress(),le(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await IA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function kT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await VM(r);le(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>NT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>NT(e.remoteStore,o))),r._onlineComponents=e}async function VM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(fs,"Using user provided OfflineComponentProvider");try{await jm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await jm(r,new jh)}}else le(fs,"Using default OfflineComponentProvider"),await jm(r,new OM(void 0));return r._offlineComponents}async function GA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(fs,"Using user provided OnlineComponentProvider"),await kT(r,r._uninitializedComponentsProvider._online)):(le(fs,"Using default OnlineComponentProvider"),await kT(r,new mp))),r._onlineComponents}function kM(r){return GA(r).then((e=>e.syncEngine))}async function Bh(r){const e=await GA(r),n=e.eventManager;return n.onListen=vM.bind(null,e.syncEngine),n.onUnlisten=bM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AM.bind(null,e.syncEngine),n}function LM(r,e,n,s){const o=new dg(s),u=new cg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>og(await Bh(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>lg(await Bh(r),u)))}}function PM(r,e,n={}){const s=new cr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new dg({next:S=>{E.Nu(),f.enqueueAndForget((()=>lg(u,T)));const P=S.docs.has(m);!P&&S.fromCache?p.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&g&&g.source==="server"?p.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new cg(rf(m.path),E,{includeMetadataChanges:!0,Ka:!0});return og(u,T)})(await Bh(r),r.asyncQueue,e,n,s))),s.promise}function UM(r,e,n={}){const s=new cr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new dg({next:S=>{E.Nu(),f.enqueueAndForget((()=>lg(u,T))),S.fromCache&&g.source==="server"?p.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new cg(m,E,{includeMetadataChanges:!0,Ka:!0});return og(u,T)})(await Bh(r),r.asyncQueue,e,n,s))),s.promise}function zM(r,e){const n=new cr;return r.asyncQueue.enqueueAndForget((async()=>SM(await kM(r),e,n))),n.promise}function KA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const jM="ComponentProvider",LT=new Map;function BM(r,e,n,s,o){return new ax(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,KA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const QA="firestore.googleapis.com",PT=!0;class UT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QA,this.ssl=PT}else this.host=e.host,this.ssl=e.ssl??PT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mO)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zD;switch(s.type){case"firstParty":return new HD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=LT.get(n);s&&(le(jM,"Removing Datastore"),LT.delete(n),s.terminate())})(this),Promise.resolve()}}function qM(r,e,n,s={}){r=Bn(r,df);const o=Ro(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(v0(`https://${m}`),E0("Firestore",!0)),u.host!==QA&&u.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!fr(g,f)&&(r._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Jt.MOCK_USER;else{p=kR(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(T)}r._authCredentials=new jD(new kb(p,E))}}class yr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yr(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_u(n,yt._jsonSchema))return new yt(e,s||null,new de(et.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Dt("string",yt._jsonSchemaVersion),referencePath:Dt("string")};class as extends yr{constructor(e,n,s){super(e,n,rf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new de(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function ds(r,e,...n){if(r=_t(r),Lb("collection","path",e),r instanceof df){const s=et.fromString(e,...n);return JE(s),new as(r,null,s)}{if(!(r instanceof yt||r instanceof as))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return JE(s),new as(r.firestore,null,s)}}function ys(r,e,...n){if(r=_t(r),arguments.length===1&&(e=jp.newId()),Lb("doc","path",e),r instanceof df){const s=et.fromString(e,...n);return XE(s),new yt(r,null,new de(s))}{if(!(r instanceof yt||r instanceof as))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return XE(s),new yt(r.firestore,r instanceof as?r.converter:null,new de(s))}}const zT="AsyncQueue";class jT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NA(this,"async_queue_retry"),this._c=()=>{const s=zm();s&&le(zT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;le(zT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",BT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=sg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ge(47125,{Pc:BT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ms extends df{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new jT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jT(e),this._firestoreClient=void 0,await e}}}function HM(r,e){const n=typeof r=="object"?r:bp(),s=typeof r=="string"?r:Oh,o=ha(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=MR("firestore");u&&qM(o,...u)}return o}function mf(r){if(r._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FM(r),r._firestoreClient}function FM(r){const e=r._freezeSettings(),n=BM(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new MM(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Yt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Dt("string",zn._jsonSchemaVersion),bytes:Dt("string")};class mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Au{constructor(e){this._methodName=e}}class Li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Dt("string",Li._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new si(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Dt("string",si._jsonSchemaVersion),vectorValues:Dt("object")};const GM=/^__.*__$/;class KM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class YA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $A(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{dataSource:r})}}class pf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new pf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($A(this.dataSource)&&GM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class QM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cf(e)}createContext(e,n,s,o=!1){return new pf({dataSource:e,methodName:n,targetDoc:s,path:Qt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(r){const e=r._freezeSettings(),n=cf(r._databaseId);return new QM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function YM(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);_g("Data must be an object, but it was:",f,s);const m=XA(s,f);let g,p;if(u.merge)g=new Sn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=oa(e,T,n);if(!f.contains(S))throw new oe(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);WA(E,S)||E.push(S)}g=new Sn(E),p=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=f.fieldTransforms;return new KM(new mn(m),g,p)}class gf extends Au{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}function $M(r,e,n){return new pf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gg extends Au{_toFieldTransform(e){return new hA(e.path,new uu)}isEqual(e){return e instanceof gg}}class yg extends Au{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=$M(this,e,!0),s=this.Ac.map((u=>Vo(u,n))),o=new To(s);return new hA(e.path,o)}isEqual(e){return e instanceof yg&&fr(this.Ac,e.Ac)}}function XM(r,e,n,s){const o=r.createContext(1,e,n);_g("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();ps(s,((g,p)=>{const E=ZA(e,g,n);p=_t(p);const T=o.childContextForFieldPath(E);if(p instanceof gf)u.push(E);else{const S=Vo(p,T);S!=null&&(u.push(E),f.set(E,S))}}));const m=new Sn(u);return new YA(f,m,o.fieldTransforms)}function JM(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[oa(e,s,n)],g=[o];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(oa(e,u[S])),g.push(u[S+1]);const p=[],E=mn.empty();for(let S=m.length-1;S>=0;--S)if(!WA(p,m[S])){const P=m[S];let Y=g[S];Y=_t(Y);const $=f.childContextForFieldPath(P);if(Y instanceof gf)p.push(P);else{const G=Vo(Y,$);G!=null&&(p.push(P),E.set(P,G))}}const T=new Sn(p);return new YA(E,T,f.fieldTransforms)}function ZM(r,e,n,s=!1){return Vo(n,r.createContext(s?4:3,e))}function Vo(r,e){if(JA(r=_t(r)))return _g("Unsupported field value:",e,r),XA(r,e);if(r instanceof Au)return(function(s,o){if(!$A(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Vo(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=_t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ox(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Ph(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(s instanceof Li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:yA(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof si)return(function(f,m){const g=f instanceof si?f.toArray():f;return{mapValue:{fields:{[Gb]:{stringValue:Kb},[Mh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Kp(m.serializer,E)}))}}}}}})(s,o);if(SA(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Wh(s)}`)})(r,e)}function XA(r,e){const n={};return zb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(r,((s,o)=>{const u=Vo(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function JA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Li||r instanceof zn||r instanceof yt||r instanceof Au||r instanceof si||SA(r))}function _g(r,e,n){if(!JA(n)||!Pb(n)){const s=Wh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function oa(r,e,n){if((e=_t(e))instanceof mg)return e._internalPath;if(typeof e=="string")return ZA(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const WM=new RegExp("[~\\*/\\[\\]]");function ZA(r,e,n){if(e.search(WM)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new mg(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new oe(J.INVALID_ARGUMENT,m+r+g)}function WA(r,e){return r.some((n=>n.isEqual(e)))}class eV{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ps(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Mh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new si(n)}convertGeoPoint(e){return new Li(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=ls(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(AA(s),9688,{name:e});const o=new au(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class vg extends eV{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function yf(){return new gg("serverTimestamp")}function tV(...r){return new yg("arrayUnion",r)}const qT="@firebase/firestore",HT="4.10.0";function FT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class eS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(oa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nV extends eS{data(){return super.data()}}function tS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class Tg extends Eg{}function So(r,e,...n){let s=[];e instanceof Eg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof bg)).length,m=u.filter((g=>g instanceof _f)).length;if(f>1||f>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class _f extends Tg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _f(e,n,s)}_apply(e){const n=this._parse(e);return iS(e._query,n),new yr(e.firestore,e.converter,sp(e._query,n))}_parse(e){const n=pg(e.firestore);return(function(u,f,m,g,p,E,T){let S;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){KT(T,E);const Y=[];for(const $ of T)Y.push(GT(g,u,$));S={arrayValue:{values:Y}}}else S=GT(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||KT(T,E),S=ZM(m,f,T,E==="in"||E==="not-in");return Nt.create(p,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wl(r,e,n){const s=e,o=oa("where",r);return _f._create(o,s,n)}class bg extends Eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)iS(f,g),f=sp(f,g)})(e._query,n),new yr(e.firestore,e.converter,sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends Tg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ag(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(u,f)})(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,Sx(e._query,n))}}function nS(r,e="asc"){const n=e,s=oa("orderBy",r);return Ag._create(s,n)}class Sg extends Tg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Sg(e,n,s)}_apply(e){return new yr(e.firestore,e.converter,kh(e._query,this._limit,this._limitType))}}function iV(r){return Sg._create("limit",r,"F")}function GT(r,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sT(r,new de(s))}if(n instanceof yt)return sT(r,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function KT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function rV(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends eS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(oa("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Dt("string",ea._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class vh extends ea{data(e={}){return super.data(e)}}class ta{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:sV(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sV(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Dt("string",ta._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function aV(r){r=Bn(r,yt);const e=Bn(r.firestore,ms),n=mf(e);return PM(n,r._key).then((s=>aS(e,r,s)))}function Hh(r){r=Bn(r,yr);const e=Bn(r.firestore,ms),n=mf(e),s=new vg(e);return tS(r._query),UM(n,r._query).then((o=>new ta(e,s,r,o)))}function Su(r,e,n,...s){r=Bn(r,yt);const o=Bn(r.firestore,ms),u=pg(o);let f;return f=typeof(e=_t(e))=="string"||e instanceof mg?JM(u,"updateDoc",r._key,e,n,s):XM(u,"updateDoc",r._key,e),wg(o,[f.toMutation(r._key,ri.exists(!0))])}function oV(r){return wg(Bn(r.firestore,ms),[new Qp(r._key,ri.none())])}function rS(r,e){const n=Bn(r.firestore,ms),s=ys(r),o=rV(r.converter,e),u=pg(r.firestore);return wg(n,[YM(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ri.exists(!1))]).then((()=>s))}function sS(r,...e){r=_t(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||FT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(FT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof yt)f=Bn(r.firestore,ms),m=rf(r._key.path),u={next:p=>{e[s]&&e[s](aS(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Bn(r,yr);f=Bn(p.firestore,ms),m=p._query;const E=new vg(f);u={next:T=>{e[s]&&e[s](new ta(f,E,p,T))},error:e[s+1],complete:e[s+2]},tS(r._query)}const g=mf(f);return LM(g,m,o,u)}function wg(r,e){const n=mf(r);return zM(n,e)}function aS(r,e,n){const s=n.docs.get(e._key),o=new vg(r);return new ea(r,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){UD(Io),Pi(new oi("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ms(new BD(s.getProvider("auth-internal")),new FD(f,s.getProvider("app-check-internal")),ox(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),jn(qT,HT,e),jn(qT,HT,"esm2020")})();const lV={apiKey:"AIzaSyDVhvkkJl4gRymG8S4qaZtlwG0UZsrAMrY",authDomain:"ku-engineering.firebaseapp.com",databaseURL:"https://ku-engineering-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"ku-engineering",storageBucket:"ku-engineering.appspot.com",messagingSenderId:"1080713397050",appId:"1:1080713397050:web:6e0c6ae4c3bf2cf5ddc603",measurementId:"G-P9TZRGW5WZ"},Rg=I0(lV),Ig=lN(Rg),sn=HM(Rg);MD(Rg);const uV=async()=>{const r=new ar;await y2(Ig,r)},cV=async()=>{await JC(Ig)},hV="/assets/uh-logo-BTtWyASH.png";function fV({user:r}){return M.jsx("div",{className:"w-full bg-white/70 backdrop-blur border-b",children:M.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-3 flex justify-between items-center",children:[M.jsxs("a",{href:"/",className:"flex items-center gap-3",children:[M.jsx("img",{src:hV,alt:"University Hub",className:"h-9 w-auto"}),M.jsx("h1",{className:"text-xl font-bold text-indigo-600",children:"University Hub"})]}),r?M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("img",{src:r.photoURL,alt:"avatar",className:"w-8 h-8 rounded-full"}),M.jsx("span",{className:"text-sm font-medium",children:r.displayName}),M.jsx("button",{onClick:cV,className:"px-3 py-1 rounded-lg border hover:bg-gray-100",children:"Logout"})]}):M.jsx("button",{onClick:uV,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700",children:"Login with Google"})]})})}const dV="/assets/app-preview-C8Hlhud0.jpg";function mV(){return M.jsxs("div",{className:"bg-slate-50 text-slate-900",children:[M.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-20 grid md:grid-cols-2 gap-12 items-center",children:[M.jsxs("div",{children:[M.jsxs("h2",{className:"text-5xl font-bold mb-6 leading-tight",children:["The all-in-one app for",M.jsx("br",{}),M.jsx("span",{className:"text-indigo-600",children:"university students"})]}),M.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Syllabus, materials, official updates, jobs and AI help  everything in one place for engineering & pharmacy students."}),M.jsxs("div",{className:"flex gap-4",children:[M.jsx("a",{href:"https://play.google.com/store/apps/details?id=com.ku.engineering",className:"bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Download App"}),M.jsx("a",{href:"#/dashboard",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Become a Contributor"}),M.jsx("a",{href:"#features",className:"border border-gray-300 px-6 py-3 rounded-lg",children:"Learn more"})]}),M.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Trusted by students from JNTU & Kakatiya University"})]}),M.jsxs("div",{className:"relative mx-auto w-[360px]",children:[M.jsx("div",{className:"absolute -inset-1 bg-indigo-500 rounded-[42px] blur opacity-30"}),M.jsx("div",{className:"relative bg-black p-2 rounded-[40px]",children:M.jsx("img",{src:dV,className:"rounded-[32px]",alt:"University Hub App"})})]})]}),M.jsxs("section",{id:"features",className:"bg-white py-20",children:[M.jsx("h3",{className:"text-4xl font-bold text-center mb-12",children:"Everything you need"}),M.jsx("div",{className:"max-w-7xl mx-auto grid md:grid-cols-3 gap-8 px-6",children:[["","Syllabus & Materials","Complete semester wise syllabus"],["","University Updates","Official notifications instantly"],["","Student Community","Ask, answer, discuss"],["","Ask AI","Get instant explanations"],["","Jobs & Internships","Daily curated opportunities"],["","PDF Tools","Summaries & converters"]].map(([r,e,n])=>M.jsxs("div",{className:"bg-slate-100 p-8 rounded-2xl",children:[M.jsx("div",{className:"text-4xl mb-4",children:r}),M.jsx("h4",{className:"text-xl font-semibold mb-2",children:e}),M.jsx("p",{className:"text-gray-600",children:n})]},e))})]}),M.jsxs("section",{className:"py-20",children:[M.jsx("h3",{className:"text-4xl font-bold text-center mb-12",children:"How it works"}),M.jsx("div",{className:"max-w-5xl mx-auto grid md:grid-cols-3 gap-8 px-6",children:[["1","Install the app"],["2","Select university & course"],["3","Get updates & materials"]].map(([r,e])=>M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"w-14 h-14 mx-auto bg-indigo-600 text-white rounded-full flex items-center justify-center text-xl font-bold mb-4",children:r}),M.jsx("p",{className:"font-semibold",children:e})]},r))})]}),M.jsxs("section",{className:"bg-white py-20 text-center",children:[M.jsx("h3",{className:"text-4xl font-bold mb-6",children:"Supported Universities"}),M.jsx("p",{className:"text-lg",children:"JNTU  Kakatiya University"}),M.jsx("p",{className:"text-gray-500 mt-2",children:"More universities coming soon"})]}),M.jsxs("section",{className:"bg-indigo-600 text-white py-20 text-center",children:[M.jsx("h3",{className:"text-4xl font-bold mb-6",children:"Ready to simplify your student life?"}),M.jsx("a",{href:"https://play.google.com/store/apps/details?id=com.ku.engineering",className:"bg-white text-indigo-600 px-8 py-4 rounded-xl font-bold text-lg",children:"Download University Hub"})]}),M.jsx("footer",{className:"py-8 text-center text-gray-500 text-sm",children:" 2026 University Hub  support@universityhub.co.in"})]})}const pV=async r=>{await rS(ds(sn,"tasks"),r)};async function gV(r,e){const n=ys(sn,"tasks",r);await Su(n,{requests:tV({uid:e.uid,name:e.displayName||"Anonymous",email:e.email})})}async function yV(r,e){const n=ys(sn,"tasks",r);await Su(n,{assignedTo:e.uid,status:"in_progress",requests:[]})}async function _V(r,e,n,s,o,u){await rS(ds(sn,"submissions"),{taskId:r,taskTitle:e,userId:u.uid,userName:u.displayName,url:n,comment:s,timeSpent:o,status:"under_review",submittedAt:yf()})}async function vV(r){const e=ys(sn,"tasks",r);await Su(e,{status:"in_review",submittedAt:yf()})}async function oS(r,e){await Su(ys(sn,"tasks",r),{assignedTo:null,status:"open",lastResignedBy:e,lastResignedAt:yf()})}async function EV(r){const e=ys(sn,"tasks",r),n=await aV(e);return n.exists()?{id:n.id,...n.data()}:null}const TV=async r=>{await oV(ys(sn,"tasks",r))},bV="appdroidplus7@gmail.com";function AV({task:r,user:e}){if(!e)return M.jsx("div",{className:"p-6",children:"Please login"});const n=s0(),s=e?.email===bV,o=r.requests?.some(p=>p.uid===e?.uid),u=p=>{p.stopPropagation(),confirm("Delete this task permanently?")&&TV(r.id)},f=async p=>{p.stopPropagation(),confirm("Are you sure you want to resign from this task?")&&e&&(await oS(r.id,e.uid),alert("You have resigned from the task."))},m=p=>{p.stopPropagation(),gV(r.id,e)},g=(p,E)=>{p.stopPropagation(),yV(r.id,E)};return M.jsxs("div",{onClick:()=>n(`/tasks/${r.id}`),className:"bg-white p-6 rounded-2xl shadow hover:shadow-xl transition cursor-pointer",children:[M.jsxs("div",{className:"flex justify-between items-start",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl font-semibold",children:r.title}),M.jsx("p",{className:"text-gray-600 mt-1 line-clamp-3",children:r.preview})]}),M.jsx("span",{className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm",children:r.points})]}),M.jsxs("div",{className:"flex justify-between items-center mt-4",children:[M.jsxs("span",{className:"text-sm text-gray-500",children:["Status: ",r.status]}),M.jsxs("div",{className:"flex gap-2",children:[e&&r.assignedTo===null&&(o?M.jsx("span",{className:"text-sm text-gray-500 px-4 py-2",children:"Requested"}):M.jsx("button",{onClick:m,className:"bg-indigo-500 text-white px-4 py-2 rounded-lg hover:bg-indigo-600",children:"Request Assignment"})),e&&r.assignedTo===e.uid&&r.status==="in_progress"&&M.jsx("button",{onClick:f,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:"Resign from Assignment"}),s&&M.jsx("button",{onClick:u,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:"Delete"})]})]}),!s&&r.requests?.length>0&&M.jsxs("p",{className:"mt-3 text-sm text-gray-500",children:[r.requests.length," people requested"]}),s&&r.requests?.length>0&&M.jsxs("div",{className:"mt-4 border-t pt-3 space-y-2",children:[M.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Requests"}),r.requests.map(p=>M.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded-lg",children:[M.jsxs("div",{children:[M.jsx("p",{className:"text-sm font-medium",children:p.name}),M.jsx("p",{className:"text-xs text-gray-500",children:p.email})]}),M.jsx("button",{onClick:E=>g(E,p),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:"Assign"})]},p.uid))]})]})}function SV({onClose:r}){const[e,n]=q.useState(""),[s,o]=q.useState(""),[u,f]=q.useState(""),[m,g]=q.useState(10),[p,E]=q.useState(!1),T=async()=>{if(!e||!u||!s){alert("Fill all fields");return}E(!0),await pV({title:e,preview:s,description:u,points:Number(m),status:"open",assignedTo:null,createdAt:yf()}),E(!1),r()};return M.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:M.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-xl animate-fadeIn",children:[M.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Create New Task"}),M.jsx("input",{className:"w-full border rounded-lg p-3 mb-3",placeholder:"Task title",value:e,onChange:S=>n(S.target.value)}),M.jsx("input",{className:"w-full border rounded-lg p-3 mb-3",placeholder:"Task preview",value:s,onChange:S=>o(S.target.value)}),M.jsx("textarea",{className:"w-full border rounded-lg p-3 mb-3",placeholder:"Task description",rows:4,value:u,onChange:S=>f(S.target.value)}),M.jsx("input",{type:"number",className:"w-full border rounded-lg p-3 mb-4",placeholder:"Points",value:m,onChange:S=>g(S.target.value)}),M.jsxs("div",{className:"flex justify-end gap-3",children:[M.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg border",children:"Cancel"}),M.jsx("button",{onClick:T,disabled:p,className:"px-5 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700",children:p?"Creating...":"Create Task"})]})]})})}const wV="appdroidplus7@gmail.com",Bm=10;function RV({user:r}){if(!r)return M.jsx("div",{className:"min-h-screen flex items-center justify-center text-2xl",children:"Please login to see tasks"});const[e,n]=q.useState([]),[s,o]=q.useState(!1),[u,f]=q.useState(1);q.useEffect(()=>{const T=So(ds(sn,"tasks"),nS("createdAt","desc"));return sS(T,P=>{n(P.docs.map(Y=>({id:Y.id,...Y.data()})))})},[]);const m=e.length,g=Math.ceil(m/Bm),p=(u-1)*Bm,E=e.slice(p,p+Bm);return M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-indigo-100",children:M.jsx("div",{className:"max-w-5xl mx-auto p-8",children:M.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl p-8",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-4xl font-extrabold",children:"Community Tasks"}),M.jsx("p",{className:"text-gray-500",children:"Earn certifications by contributing to University Hub"})]}),r.email===wV&&M.jsx("button",{onClick:()=>o(!0),className:"bg-indigo-600 text-white px-5 py-2 rounded-xl font-semibold hover:bg-indigo-700 transition",children:"+ Add Task"})]}),M.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Total tasks: ",M.jsx("b",{children:m})]}),s&&M.jsx(SV,{onClose:()=>o(!1)}),m===0&&M.jsxs("div",{className:"text-center py-16 text-gray-500",children:[M.jsx("p",{className:"text-xl",children:"No tasks yet"}),M.jsx("p",{children:"Be the first to create one."})]}),M.jsx("div",{className:"space-y-4",children:E.map(T=>M.jsx(AV,{task:T,user:r},T.id))}),g>1&&M.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[M.jsx("button",{disabled:u===1,onClick:()=>f(T=>T-1),className:"px-4 py-2 rounded-lg bg-gray-200 disabled:opacity-50",children:"Prev"}),M.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",u," of ",g]}),M.jsx("button",{disabled:u===g,onClick:()=>f(T=>T+1),className:"px-4 py-2 rounded-lg bg-gray-200 disabled:opacity-50",children:"Next"})]})]})})})}function IV({task:r,user:e,onSubmitted:n}){const[s,o]=q.useState(""),[u,f]=q.useState(""),[m,g]=q.useState(""),[p,E]=q.useState(!1);if(!e||r.assignedTo!==e.uid||r.status!=="in_progress")return null;const T=async()=>{if(!s)return alert("Please enter a submission link");p||(E(!0),await _V(r.id,r.title,s,u,m,e),await vV(r.id),E(!1),alert("Work submitted successfully!"),n())};return M.jsxs("div",{className:"mt-8 p-4 border rounded-xl bg-gray-50 space-y-3",children:[M.jsx("h3",{className:"font-semibold",children:"Submit your work"}),M.jsx("input",{type:"text",placeholder:"Submission link (GitHub / Drive / Figma)",value:s,onChange:S=>o(S.target.value),className:"w-full p-2 border rounded-lg"}),M.jsx("textarea",{placeholder:"Comments for reviewer (what you did, notes, etc.)",value:u,onChange:S=>f(S.target.value),rows:3,className:"w-full p-2 border rounded-lg"}),M.jsx("input",{type:"number",placeholder:"Time spent (hours)",value:m,onChange:S=>g(S.target.value),className:"w-full p-2 border rounded-lg"}),M.jsx("button",{onClick:T,disabled:p,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 w-full",children:p?"Submitting...":"Submit work"})]})}function CV({user:r}){if(!r)return M.jsx("div",{className:"p-6",children:"Please login"});const{taskId:e}=D1(),[n,s]=q.useState(null),[o,u]=q.useState(!0),f=async()=>{const m=await EV(e);s(m),u(!1)};return q.useEffect(()=>{f()},[e]),o?M.jsx("p",{className:"p-6",children:"Loading..."}):n?M.jsx("div",{className:"max-w-5xl mx-auto p-6",children:M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[M.jsxs("div",{className:"md:col-span-2 bg-white rounded-2xl shadow p-6",children:[M.jsx("h1",{className:"text-2xl font-bold",children:n.title}),M.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Status: ",n.status]}),M.jsx("div",{className:"mt-6 space-y-3 text-gray-700",dangerouslySetInnerHTML:{__html:n.description}})]}),M.jsx("div",{className:"bg-white rounded-2xl shadow p-6",children:M.jsx(IV,{task:n,user:r,onSubmitted:f})})]})}):M.jsx("p",{className:"p-6",children:"Task not found"})}function NV(){const[r,e]=q.useState([]);return q.useEffect(()=>{const n=So(ds(sn,"contributors"),nS("points","desc"),iV(10));return sS(n,o=>{e(o.docs.map(u=>u.data()))})},[]),M.jsxs("div",{children:[M.jsx("h2",{children:"Leaderboard"}),r.map((n,s)=>M.jsxs("p",{children:[n.name," - ",n.points]},s))]})}const DV="appdroidplus7@gmail.com";function xV({user:r}){if(!r)return M.jsx("div",{className:"p-6",children:"Please login"});const[e,n]=q.useState([]),[s,o]=q.useState([]),[u,f]=q.useState(!0),m=r?.email===DV;if(q.useEffect(()=>{if(!r)return;async function S(){const P=So(ds(sn,"tasks"),Wl("assignedTo","==",r.uid),Wl("status","==","in_progress")),Y=await Hh(P);n(Y.docs.map(ne=>({id:ne.id,...ne.data()})));const $=So(ds(sn,"submissions"),Wl("userId","==",r.uid)),G=await Hh($);o(G.docs.map(ne=>ne.data())),f(!1)}S()},[r]),u)return M.jsx("div",{className:"p-6",children:"Loading..."});const g=s.filter(S=>S.status==="approved").length,p=s.filter(S=>S.status==="under_review").length,E=async S=>{confirm("Are you sure you want to resign from this task?")&&(await oS(S,r.uid),alert("You have resigned from the task."),n(Y=>Y.filter($=>$.id!==S)))};function T({to:S,label:P}){return M.jsx(tu,{to:S,className:`px-4 py-2 rounded-full text-sm font-medium 
                 bg-gray-100 text-gray-700 
                 hover:bg-indigo-100 hover:text-indigo-700 
                 transition`,children:P})}return M.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[M.jsx("h2",{className:"text-2xl font-bold",children:"My Dashboard"}),M.jsxs("div",{className:"flex gap-3 flex-wrap",children:[M.jsx(T,{to:"/tasks",label:"All Tasks"}),M.jsx(T,{to:"/my-contributions",label:"My Contributions"}),m&&M.jsx(T,{to:"/admin",label:"Admin"})]}),M.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[M.jsx(oh,{label:"Assigned",value:e.length}),M.jsx(oh,{label:"Submitted",value:s.length,color:"yellow"}),M.jsx(oh,{label:"Under Review",value:p,color:"green"}),M.jsx(oh,{label:"Approved",value:g})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"font-semibold mb-3",children:"Assigned to me"}),e.length===0?M.jsx("p",{className:"text-gray-500",children:"No active tasks."}):e.map(S=>M.jsxs("div",{className:"border p-4 rounded-xl mb-2",children:[M.jsx("p",{className:"font-medium",children:S.title}),S.preview&&M.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.preview}),M.jsxs("p",{className:"text-sm text-gray-500",children:["Due: ",S.deadline||"No deadline"]}),M.jsxs("div",{className:"flex gap-3 mt-3",children:[M.jsx(tu,{to:`/tasks/${S.id}`,children:M.jsx("button",{className:`bg-indigo-500/90 text-white px-4 py-2 rounded-lg 
                       hover:bg-indigo-600 transition text-sm`,children:"Open"})}),M.jsx("button",{onClick:()=>E(S.id),className:`bg-gray-200 text-gray-700 px-4 py-2 rounded-lg 
               hover:bg-red-100 hover:text-red-600 
               transition text-sm`,children:"Resign"})]})]},S.id))]})]})}function oh({label:r,value:e,color:n}){const s={green:"bg-green-100 text-green-700",yellow:"bg-yellow-100 text-yellow-700",darkGreen:"bg-green-200 text-green-900"};return M.jsxs("div",{className:`p-4 rounded-xl ${s[n]||"bg-gray-100"}`,children:[M.jsx("p",{className:"text-sm",children:r}),M.jsx("p",{className:"text-2xl font-bold",children:e})]})}function OV(){const[r,e]=q.useState([]),[n,s]=q.useState(!0);q.useEffect(()=>{async function u(){const f=So(ds(sn,"submissions"),Wl("status","==","pending")),m=await Hh(f);e(m.docs.map(g=>({id:g.id,...g.data()}))),s(!1)}u()},[]);const o=async(u,f,m)=>{await Su(ys(sn,"submissions",u),{status:f,reviewComment:m||""}),e(r.filter(g=>g.id!==u))};return n?M.jsx("div",{className:"p-6",children:"Loading..."}):M.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-4",children:[M.jsx("h2",{className:"text-2xl font-bold",children:"Admin Review Panel"}),r.length===0&&M.jsx("p",{className:"text-gray-500",children:"No pending submissions "}),r.map(u=>M.jsx(MV,{sub:u,onUpdate:o},u.id))]})}function MV({sub:r,onUpdate:e}){const[n,s]=q.useState("");return M.jsxs("div",{className:"border p-4 rounded-xl space-y-2",children:[M.jsx("p",{className:"font-semibold",children:r.taskTitle}),M.jsxs("p",{className:"text-sm text-gray-500",children:["By: ",r.userName]}),M.jsxs("p",{className:"text-sm",children:["Time spent: ",r.timeSpent," hrs"]}),M.jsx("a",{href:r.url,target:"_blank",className:"text-indigo-600 text-sm",children:"View submission "}),M.jsx("textarea",{placeholder:"Feedback to user (optional)",value:n,onChange:o=>s(o.target.value),rows:2,className:"w-full p-2 border rounded-lg mt-2"}),M.jsxs("div",{className:"flex gap-2 mt-2",children:[M.jsx("button",{onClick:()=>e(r.id,"approved",n),className:"bg-green-600 text-white px-3 py-1 rounded",children:"Approve"}),M.jsx("button",{onClick:()=>e(r.id,"rejected",n),className:"bg-red-600 text-white px-3 py-1 rounded",children:"Reject"})]})]})}function VV({user:r}){if(!r)return M.jsx("div",{className:"p-6",children:"Please login"});const[e,n]=q.useState([]),[s,o]=q.useState(!0);return q.useEffect(()=>{if(!r)return;async function u(){const f=So(ds(sn,"submissions"),Wl("userId","==",r.uid)),m=await Hh(f);n(m.docs.map(g=>({id:g.id,...g.data()}))),o(!1)}u()},[r]),s?M.jsx("div",{className:"p-6",children:"Loading..."}):M.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[M.jsx("h2",{className:"text-2xl font-bold",children:"My Contributions"}),e.length===0?M.jsx("p",{className:"text-gray-500",children:"You havent submitted any work yet."}):e.map(u=>M.jsxs("div",{className:"border p-4 rounded-xl",children:[M.jsx("p",{className:"font-medium text-lg",children:u.taskTitle}),M.jsxs("p",{className:"text-sm text-gray-500",children:["Status:"," ",M.jsx("span",{className:u.status==="approved"?"text-green-600":u.status==="rejected"?"text-red-600":"text-yellow-600",children:u.status})]}),u.reviewComment&&M.jsxs("p",{className:"text-sm mt-1",children:["Feedback: ",u.reviewComment]}),M.jsxs("div",{className:"flex justify-between items-center mt-2",children:[M.jsx(tu,{to:`/tasks/${u.taskId}`,className:"text-indigo-600 text-sm",children:"View task "}),u.submittedAt&&M.jsx("p",{className:"text-xs text-gray-400",children:new Date(u.submittedAt.seconds*1e3).toLocaleDateString()})]})]},u.id))]})}function kV(){const[r,e]=mN(Ig);return e?M.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"Loading..."}):M.jsxs(pR,{children:[M.jsx(fV,{user:r}),M.jsxs(G1,{children:[M.jsx(Zr,{path:"/",element:M.jsx(mV,{})}),M.jsx(Zr,{path:"/tasks",element:M.jsx(RV,{user:r})}),M.jsx(Zr,{path:"/tasks/:taskId",element:M.jsx(CV,{user:r})}),M.jsx(Zr,{path:"/leaderboard",element:M.jsx(NV,{})}),M.jsx(Zr,{path:"/dashboard",element:M.jsx(xV,{user:r})}),M.jsx(Zr,{path:"/admin",element:r?.email==="appdroidplus7@gmail.com"?M.jsx(OV,{}):M.jsx("div",{className:"p-6",children:"Not authorized"})}),M.jsx(Zr,{path:"/my-contributions",element:M.jsx(VV,{user:r})})]})]})}Qw.createRoot(document.getElementById("root")).render(M.jsx(kV,{}));
